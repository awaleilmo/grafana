"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[6315],{22316:(_,K,s)=>{s.d(K,{FN:()=>y,Iq:()=>S,QX:()=>N,Xo:()=>E,bB:()=>V,qg:()=>W});var e=s(2543),u=s.n(e);function E(n){const l={};let f=1;return[{name:n.name,items:n.grafana_managed_receiver_configs?.map(v=>{const M=String(f++);return l[M]=v,L(M,v)})??[]},l]}function S(n,l){const f={};let g=1;const v=Object.entries(n).filter(([R])=>R.endsWith("_configs")&&R!=="grafana_managed_receiver_configs").map(([R,J])=>[R.replace("_configs",""),J]).map(([R,J])=>J.map(G=>{const ee=String(g++);if(f[ee]={type:R,config:G},!l.find(se=>se.type===R))throw new Error(`unknown cloud notifier: ${R}`);return F(ee,R,G)})).flat();return[{name:n.name,items:v},f]}function V(n,l,f){return{name:n.name,grafana_managed_receiver_configs:(n.items??[]).map(g=>{const v=l[g.__id];return W(g,f,n.name,v)})}}function N(n,l){const f={name:n.name};return n.items.forEach(({__id:g,type:v,settings:M,sendResolved:R})=>{const J=y({...O(M),send_resolved:R??l.sendResolved}),G=v==="jira"?P(J):J;`${v}_configs`in f?f[`${v}_configs`]?.push(G):f[`${v}_configs`]=[G]}),f}function P(n){const l=structuredClone(n);if(typeof l.fields=="object")for(const[f,g]of Object.entries(l.fields)){let v;try{v=JSON.parse(g)}catch{v=g}l.fields[f]=v}return l}function A(n){const l=structuredClone(n);if(typeof l.fields=="object")for(const[f,g]of Object.entries(l.fields)){let v;typeof g=="object"?v=JSON.stringify(g):v=g,l.fields[f]=v}return l}function F(n,l,f){return{__id:n,type:l,settings:{...l==="jira"?A(f):f},secureFields:{},sendResolved:f.send_resolved}}function L(n,l){return{__id:n,type:l.type,provenance:l.provenance,settings:{...l.settings},secureFields:{...l.secureFields},disableResolveMessage:l.disableResolveMessage}}function X(n){const l=[];function f(g,v){for(const M of g){const R=v?`${v}.${M.propertyName}`:M.propertyName;if(M.subformOptions){f(M.subformOptions,R);continue}if(M.secure){l.push(R);continue}}}return f(n.options),l}function W(n,l,f,g){const v=n.secureFields?D(n.secureFields):void 0,M={settings:y({...g&&g.type===n.type?g.settings??{}:{},...n.settings??{}}),secureFields:v,type:n.type,name:f,disableResolveMessage:n.disableResolveMessage??g?.disableResolveMessage??l.disableResolveMessage};return g&&(M.uid=g.uid),M}function D(n){return(0,e.pickBy)(n,l=>l===!0)}const m=n=>(0,e.isNil)(n)||n==="";function y(n){return(0,e.isArray)(n)?n.forEach(y):typeof n=="object"&&n!==null&&Object.entries(n).forEach(([l,f])=>{m(f)?delete n[l]:y(f)}),n}function B(n={},l={}){return omitBy(n,(f,g)=>m(f)&&!has(l,g))}function O(n){function l(g){(0,e.isArray)(g)?g.forEach(l):typeof g=="object"&&g!==null&&("__id"in g&&delete g.__id,Object.values(g).forEach(l))}const f=structuredClone(n);return l(f),f}},28365:(_,K,s)=>{s.d(K,{e:()=>le});var e=s(74848),u=s(22803),E=s(96540),S=s(49785),V=s(37386),N=s(63142),P=s(32635),A=s(48767),F=s(63527),L=s(18857),X=s(16203),W=s(40601),D=s(87105),m=s(92745),y=s(41654),B=s(45861),O=s(71774);const n=({value:t,onChange:c,readOnly:a=!1})=>{const r=(0,N.of)(l),[o,p]=(0,E.useState)(g(t)),[i,d]=(0,E.useState)(void 0),j=x=>{c(f(x))},T=x=>{const b=o.slice(),$=b.splice(x,1)[0];p(b),$[0]&&j(b)};return(0,e.jsxs)("div",{children:[!!o.length&&(0,e.jsxs)("table",{className:r.table,children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{children:(0,e.jsx)(m.x6,{i18nKey:"alerting.key-value-map-input.name",children:"Name"})}),(0,e.jsx)("th",{children:(0,e.jsx)(m.x6,{i18nKey:"alerting.key-value-map-input.value",children:"Value"})}),!a&&(0,e.jsx)("th",{})]})}),(0,e.jsx)("tbody",{children:o.map(([x,b],$)=>(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)(F.p,{readOnly:a,value:x,disabled:!0})}),(0,e.jsx)("td",{children:(0,e.jsx)(F.p,{readOnly:a,value:b,disabled:!0})}),!a&&(0,e.jsx)("td",{children:(0,e.jsx)(O.M,{icon:"trash-alt",tooltip:(0,m.t)("alerting.common.delete","Delete"),onClick:()=>T($)})})]},$))})]}),i&&(0,e.jsx)("table",{className:r.table,children:(0,e.jsx)("tr",{children:(0,e.jsxs)(y.B,{gap:1,children:[(0,e.jsx)("td",{children:(0,e.jsx)(F.p,{value:i[0],onChange:x=>d([x.currentTarget.value,i[1]])})}),(0,e.jsx)("td",{children:(0,e.jsx)(F.p,{value:i[1],onChange:x=>d([i[0],x.currentTarget.value])})}),(0,e.jsx)("td",{children:(0,e.jsxs)(y.B,{gap:1,children:[(0,e.jsx)(O.M,{icon:"check",tooltip:(0,m.t)("alerting.contact-points.key-value-map.confirm-add","Confirm to add"),onClick:()=>{p([...o,i]),d(void 0),j([...o,i])}}),(0,e.jsx)(O.M,{icon:"times",tooltip:(0,m.t)("alerting.common.cancel","Cancel"),onClick:()=>d(void 0)})]})})]})})}),!a&&(0,e.jsx)(B.$n,{className:r.addButton,type:"button",variant:"secondary",icon:"plus",size:"sm",disabled:!!i,onClick:()=>d(["",""]),children:(0,e.jsx)(m.x6,{i18nKey:"alerting.contact-points.key-value-map.add",children:"Add"})})]})},l=t=>({addButton:(0,u.css)({marginTop:t.spacing(1)}),table:(0,u.css)({"tbody td":{padding:`0 ${t.spacing(1)} ${t.spacing(1)} 0`}})}),f=t=>{const c={};for(const[a,r]of t)a&&(c[a]=r);return c},g=t=>Object.entries(t??{}),v=({value:t,onChange:c,readOnly:a=!1})=>{const r=(0,N.of)(M),o=i=>{if(!t)return;const d=t.slice();d.splice(i,1),c(d)},p=(i,d)=>{t&&c(t.map((j,T)=>T===d?i:j))};return(0,e.jsxs)("div",{children:[!!t?.length&&t.map((i,d)=>(0,e.jsxs)("div",{className:r.row,children:[(0,e.jsx)(F.p,{readOnly:a,value:i,onChange:j=>p(j.currentTarget.value,d)}),!a&&(0,e.jsx)(O.M,{className:r.deleteIcon,icon:"trash-alt",tooltip:(0,m.t)("alerting.string-array-input.tooltip-delete","delete"),onClick:()=>o(d)})]},d)),!a&&(0,e.jsx)(B.$n,{className:r.addButton,type:"button",variant:"secondary",icon:"plus",size:"sm",onClick:()=>c([...t??[],""]),children:(0,e.jsx)(m.x6,{i18nKey:"alerting.string-array-input.add",children:"Add"})})]})},M=t=>({row:(0,u.css)({display:"flex",flexDirection:"row",marginBottom:t.spacing(1),alignItems:"center"}),deleteIcon:(0,u.css)({marginLeft:t.spacing(1)}),addButton:(0,u.css)({marginTop:t.spacing(1)})});var R=s(82203),J=s(83904);const G=t=>({collapsibleSection:(0,u.css)({margin:0,padding:0}),wrapper:(0,u.css)({margin:t.spacing(2,0),padding:t.spacing(1),border:`solid 1px ${t.colors.border.medium}`,borderRadius:t.shape.radius.default,position:"relative"}),description:(0,u.css)({color:t.colors.text.secondary,fontSize:t.typography.size.sm,fontWeight:t.typography.fontWeightRegular,margin:0}),deleteIcon:(0,u.css)({position:"absolute",right:t.spacing(1),top:t.spacing(1)}),addButton:(0,u.css)({marginTop:t.spacing(1)})}),ee=({option:t,pathPrefix:c,errors:a,defaultValues:r,readOnly:o=!1,secureFields:p,getOptionMeta:i})=>{const d=(0,N.of)(G),j=`${c}${t.propertyName}`,T=(0,S.xW)(),{fields:x,append:b,remove:$}=(0,R.r)({name:j,formAPI:T,defaults:r});return(0,e.jsx)("div",{className:d.wrapper,children:(0,e.jsxs)(J.i,{className:d.collapsibleSection,label:`${t.label} (${x.length})`,description:t.description,children:[(x??r??[]).map((U,I)=>(0,e.jsxs)("div",{className:d.wrapper,children:[!o&&(0,e.jsx)(O.M,{"data-testid":`${j}.${I}.delete-button`,icon:"trash-alt",tooltip:(0,m.t)("alerting.subform-array-field.tooltip-delete","delete"),onClick:()=>$(I),className:d.deleteIcon}),t.subformOptions?.map(h=>(0,e.jsx)(le,{readOnly:o,getOptionMeta:i,secureFields:p,defaultValue:U?.[h.propertyName],option:h,pathPrefix:`${j}.${I}.`,error:a?.[I]?.[h.propertyName]},h.propertyName))]},I)),!o&&(0,e.jsx)(B.$n,{"data-testid":`${j}.add-button`,className:d.addButton,type:"button",variant:"secondary",icon:"plus",size:"sm",onClick:()=>b({__id:String(Math.random())}),children:(0,e.jsx)(m.x6,{i18nKey:"alerting.subform-array-field.add",children:"Add"})})]})})},ie=({option:t,pathPrefix:c,errors:a,defaultValue:r,getOptionMeta:o,readOnly:p=!1,secureFields:i,onDelete:d,onResetSecureField:j})=>{const T=(0,N.of)(G),x=`${c}${t.propertyName}`,{watch:b}=(0,S.xW)(),$=b(x),U=$===void 0?r:$,[I,h]=(0,E.useState)(!!U),Y=()=>{d?.(x,t),h(!1)};return(0,e.jsxs)("div",{className:T.wrapper,"data-testid":`${x}.container`,children:[(0,e.jsx)("h6",{children:t.label}),t.description&&(0,e.jsx)("p",{className:T.description,children:t.description}),I&&(0,e.jsxs)(e.Fragment,{children:[!p&&d&&(0,e.jsx)(O.M,{"data-testid":`${x}.delete-button`,icon:"trash-alt",tooltip:(0,m.t)("alerting.subform-field.tooltip-delete","delete"),onClick:Y,className:T.deleteIcon}),(t.subformOptions??[]).map(H=>(0,e.jsx)(le,{readOnly:p,getOptionMeta:o,onResetSecureField:j,onDeleteSubform:d,secureFields:i,defaultValue:r?.[H.propertyName],option:H,pathPrefix:`${x}.`,error:a?.[H.propertyName]},H.propertyName))]}),!I&&!p&&(0,e.jsx)(B.$n,{className:T.addButton,type:"button",variant:"secondary",icon:"plus",size:"sm",onClick:()=>h(!0),"data-testid":`${x}.add-button`,children:(0,e.jsx)(m.x6,{i18nKey:"alerting.subform-field.add",children:"Add"})})]})};var se=s(73287),me=s(8207),pe=s(77824),fe=s(76319),ge=s(72636),xe=s(66404),ne=s(74268),ve=s(43730),he=s(40403),oe=s(5358),je=s(89292),ye=s(70713),Ce=s(31286),Ee=s(52161),Te=s(30130),be=s(1332),Ne=s(64179),z=s(87988);function Se({payload:t,templateContent:c,templateName:a,payloadFormatError:r,setPayloadFormatError:o,className:p}){const i=(0,N.of)(Me),{selectedAlertmanager:d}=(0,oe.VI)(),j=d===Ee.hY;return(0,e.jsxs)("div",{className:(0,u.cx)(p,i.mainContainer),children:[(0,e.jsxs)("div",{className:i.container,children:[(0,e.jsx)(Te.D,{label:(0,m.t)("alerting.template-content-and-preview.label-template-content","Template content")}),(0,e.jsx)(Ce.a,{flex:1,children:(0,e.jsx)("div",{className:i.viewerContainer({height:400}),children:(0,e.jsx)(ye.Ay,{children:({width:T,height:x})=>(0,e.jsx)(be.K,{value:c,containerStyles:i.editorContainer,width:T,height:x,readOnly:!0})})})})]}),j&&(0,e.jsx)(Ne.p,{payload:t,templateName:"",templateContent:(0,z.Jl)(a),setPayloadFormatError:o,payloadFormatError:r,className:(0,u.cx)(i.templatePreview,i.minEditorSize)})]})}const Me=t=>({mainContainer:(0,u.css)({display:"flex",flexDirection:"column",gap:t.spacing(2)}),container:(0,u.css)({label:"template-preview-container",display:"flex",flexDirection:"column",borderRadius:t.shape.radius.default,border:`1px solid ${t.colors.border.medium}`}),templatePreview:(0,u.css)({flex:1,display:"flex"}),minEditorSize:(0,u.css)({minHeight:300,minWidth:300}),viewerContainer:({height:c})=>(0,u.css)({height:c,overflow:"auto",backgroundColor:t.colors.background.primary}),editorContainer:(0,u.css)({width:"fit-content",border:"none"})}),{useGetDefaultTemplatesQuery:Re}=ve.E3;function ae({onSelect:t,option:c,valueInForm:a}){const[r,o]=(0,E.useState)(!1),p=()=>{o(!0),(0,ne.U6)()},i=()=>o(!1);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(B.$n,{icon:"edit",tooltip:(0,m.t)("alerting.templates-picker.tooltip-edit","Edit {{name}} using existing notification templates.",{name:c.label.toLowerCase()}),onClick:p,variant:"secondary",size:"sm",children:(0,e.jsxs)(m.x6,{i18nKey:"alerting.templates-picker.button-edit",values:{name:c.label},children:["Edit ","{{name}}"]})}),r&&(0,e.jsx)(me._,{title:(0,m.t)("alerting.templates-picker.title-drawer","Edit {{name}}",{name:c.label}),size:"md",onClose:i,children:(0,e.jsx)(Ie,{onSelect:t,onClose:i,option:c,valueInForm:a})})]})}function $e(t,c=[]){const a=new Map;return t.forEach(({content:r})=>{(0,z.D)(r).forEach(p=>{a.set(p.name,{label:p.name,value:{name:p.name,content:p.content}})})}),c.forEach(r=>{a.set(r.name,{label:r.name,value:{name:r.name,content:r.content}})}),Array.from(a.values())}function Ie({onSelect:t,onClose:c,option:a,valueInForm:r}){const o=(0,N.of)(de),p=!!r&&!(0,z.G7)(r),[i,d]=(0,E.useState)(void 0),[j,T]=(0,E.useState)(r),{selectedAlertmanager:x}=(0,oe.VI)(),{data:b=[],error:$,isLoading:U}=(0,he.cC)({alertmanager:x}),{data:I}=Re(),[h,Y]=(0,E.useState)(p?"Custom":"Existing"),[H,Z]=(0,se.A)(),te=[{label:(0,m.t)("alerting.template-selector.template-options.label.select-notification-template","Select notification template"),ariaLabel:(0,m.t)("alerting.template-selector.template-options.ariaLabel.select-notification-template","Select notification template"),value:"Existing",description:`Select an existing notification template and preview it, or copy it to paste it in the custom tab. ${h==="Existing"?"Clicking Save saves your changes to the selected template.":""}`},{label:`Enter custom ${a.label.toLowerCase()}`,ariaLabel:`Enter custom ${a.label.toLowerCase()}`,value:"Custom",description:`Enter custom ${a.label.toLowerCase()}. ${h==="Custom"?"Clicking Save will save the custom value only.":""}`}];(0,E.useEffect)(()=>{i?.value?.name&&T((0,z.Jl)(i.value.name))},[i]);function C(w){T(w)}const k=w=>{Y(w)},q=(0,E.useMemo)(()=>!I||!b||U||$?[]:$e(b,I),[b,I,U,$]),Q=(0,E.useMemo)(()=>{if(!q.length||!r||!(0,z.G7)(r))return null;const w=(0,z.gY)(r);return q.find(ue=>ue.label===w)||null},[q,r]);return $?(0,e.jsx)("div",{children:(0,e.jsx)(m.x6,{i18nKey:"alerting.template-selector.error-loading-templates",children:"Error loading templates"})}):U||!b||!I?(0,e.jsx)("div",{children:(0,e.jsx)(m.x6,{i18nKey:"alerting.template-selector.loading",children:"Loading..."})}):(0,e.jsxs)(y.B,{direction:"column",gap:1,justifyContent:"space-between",height:"100%",children:[(0,e.jsxs)(y.B,{direction:"column",gap:1,children:[(0,e.jsx)(pe.z,{options:te,value:h,onChange:k,className:o.templateTabOption}),h==="Existing"?(0,e.jsxs)(y.B,{direction:"column",gap:1,children:[(0,e.jsxs)(y.B,{direction:"row",gap:1,alignItems:"center",children:[(0,e.jsx)(L.l6,{"data-testid":"existing-templates-selector",placeholder:(0,m.t)("alerting.template-selector.existing-templates-selector-placeholder-choose-notification-template","Choose notification template"),"aria-label":(0,m.t)("alerting.template-selector.existing-templates-selector-aria-label-choose-notification-template","Choose notification template"),onChange:(w,ue)=>{d(w)},options:q,width:50,defaultValue:Q}),(0,e.jsx)(fe.K,{tooltip:(0,m.t)("alerting.template-selector.tooltip-copy","Copy selected notification template to clipboard. You can use it in the custom tab."),onClick:()=>Z(i?.value?.content??Q?.value?.content??""),name:"copy"})]}),(0,e.jsx)(Se,{templateContent:i?.value?.content??Q?.value?.content??"",payload:je.R_,templateName:i?.value?.name??Q?.value?.name??"",setPayloadFormatError:()=>{},className:(0,u.cx)(o.templatePreview,o.minEditorSize),payloadFormatError:null})]}):(0,e.jsx)(Ae,{option:a,onCustomTemplateChange:C,initialValue:j})]}),(0,e.jsxs)("div",{className:o.actions,children:[(0,e.jsx)(B.$n,{variant:"secondary",onClick:c,children:(0,e.jsx)(m.x6,{i18nKey:"alerting.common.cancel",children:"Cancel"})}),(0,e.jsx)(B.$n,{variant:"primary",onClick:()=>{if(h==="Custom")(0,ne.t6)(),t(j);else{(0,ne.Cl)();const w=i?.value?.name??Q?.value?.name??"";t((0,z.Jl)(w))}return c()},children:(0,e.jsx)(m.x6,{i18nKey:"common.save",children:"Save"})})]})]})}function Ae({option:t,onCustomTemplateChange:c,initialValue:a}){const r=`custom-template-${t.label}`;return(0,e.jsxs)(y.B,{direction:"column",gap:1,children:[(0,e.jsx)(ge.J,{htmlFor:r,children:(0,e.jsx)(m.x6,{i18nKey:"alerting.contact-points.custom-template-value",children:"Custom template value"})}),(0,e.jsx)(D.f,{id:r,label:(0,m.t)("alerting.option-customfield.label-custom-template","Custom template"),placeholder:t.placeholder,onChange:o=>c(o.currentTarget.value),defaultValue:a})]})}function ce({useTemplates:t,onSelectTemplate:c,option:a,name:r,children:o}){const p=(0,N.of)(de),{getValues:i}=(0,S.xW)(),d=i(r)??"";return!a.placeholder.includes("{{ template ")||typeof d!="string"?(0,e.jsx)(e.Fragment,{children:o}):d?(d?(0,z.G7)(d):!1)?(0,e.jsx)("div",{className:p.inputContainer,children:(0,e.jsxs)(y.B,{direction:"row",gap:1,alignItems:"center",children:[(0,e.jsx)(xe.E,{variant:"bodySmall",children:`Template: ${(0,z.gY)(d)}`}),t&&(0,e.jsx)(ae,{onSelect:c,option:a,valueInForm:i(r)??""})]})}):(0,e.jsx)("div",{className:p.inputContainer,children:(0,e.jsxs)(y.B,{direction:"row",gap:1,alignItems:"center",children:[o,t&&(0,e.jsx)(ae,{onSelect:c,option:a,valueInForm:i(r)??""})]})}):(0,e.jsx)("div",{className:p.inputContainer,children:(0,e.jsx)(y.B,{direction:"row",gap:1,alignItems:"center",children:t&&(0,e.jsx)(ae,{onSelect:c,option:a,valueInForm:i(r)??""})})})}const de=t=>({actions:(0,u.css)({flex:0,justifyContent:"flex-end",display:"flex",gap:t.spacing(1)}),templatePreview:(0,u.css)({flex:1,display:"flex"}),templateTabOption:(0,u.css)({width:"fit-content"}),minEditorSize:(0,u.css)({minHeight:300,minWidth:300}),inputContainer:(0,u.css)({marginTop:t.spacing(1.5)})}),le=({option:t,invalid:c,pathPrefix:a,error:r,defaultValue:o,readOnly:p=!1,customValidator:i,onResetSecureField:d,secureFields:j,onDeleteSubform:T,getOptionMeta:x})=>t.element==="subform"?(0,e.jsx)(ie,{secureFields:j,onResetSecureField:d,readOnly:p,defaultValue:o,option:t,errors:r,pathPrefix:a,onDelete:T}):t.element==="subform_array"?(0,e.jsx)(ee,{secureFields:j,readOnly:p,defaultValues:o,option:t,pathPrefix:a,errors:r}):(0,e.jsx)(V.D,{label:t.element!=="checkbox"&&t.element!=="radio"?t.label:void 0,description:t.description||void 0,invalid:!!r,error:r?.message,"data-testid":`${a}${t.propertyName}`,children:(0,e.jsx)(Be,{id:`${a}${t.propertyName}`,defaultValue:o,option:t,invalid:c,pathPrefix:a,readOnly:p,customValidator:i,onResetSecureField:d,secureFields:j,getOptionMeta:x})}),Be=({option:t,invalid:c,id:a,pathPrefix:r="",readOnly:o=!1,customValidator:p,onResetSecureField:i,secureFields:d={},getOptionMeta:j})=>{const T=(0,N.of)(Oe),{control:x,register:b,unregister:$,setValue:U}=(0,S.xW)(),I=j?.(t),h=`${r}${t.propertyName}`,Y=t.secure&&t.secureFieldKey?t.secureFieldKey:"",H=Y&&d?.[Y];(0,E.useEffect)(()=>()=>{$(h,{keepValue:!1})},[$,h]);const Z=t.placeholder.includes("{{ template");function te(C){U(h,C)}switch(t.element){case"checkbox":return(0,e.jsx)(P.S,{id:a,readOnly:o,disabled:o,className:T.checkbox,...b(h),label:t.label,description:t.description});case"input":return(0,e.jsx)(ce,{useTemplates:Z,option:t,name:h,onSelectTemplate:te,children:H?(0,e.jsx)(A.L4,{id:a,onReset:()=>i?.(Y),isConfigured:!0}):(0,e.jsx)(F.p,{id:a,readOnly:o||Z||I?.readOnly,invalid:c,type:t.inputType,...b(h,{required:I?.required,validate:{validationRule:C=>t.validationRule?re(C,t.validationRule,t.required):!0,customValidator:C=>p?p(C):!0},setValueAs:t.setValueAs}),placeholder:t.placeholder})});case"select":return(0,e.jsx)(S.xI,{render:({field:{onChange:C,ref:k,...q}})=>(0,e.jsx)(L.l6,{disabled:o,options:t.selectOptions??void 0,invalid:c,onChange:Q=>C(Q.value),...q}),control:x,name:h,defaultValue:t.defaultValue?.value,rules:{validate:{customValidator:C=>p?p(C):!0}}});case"radio":return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("legend",{className:T.legend,children:t.label}),(0,e.jsx)(S.xI,{render:({field:{ref:C,...k}})=>(0,e.jsx)(X.a,{disabled:o,options:t.selectOptions??[],...k}),control:x,defaultValue:t.defaultValue?.value,name:h,rules:{required:t.required?"Option is required":!1,validate:{validationRule:C=>t.validationRule?re(C,t.validationRule,t.required):!0,customValidator:C=>p?p(C):!0}}})]});case"textarea":return(0,e.jsx)(ce,{useTemplates:Z,option:t,name:h,onSelectTemplate:te,children:H?(0,e.jsx)(W.lp,{id:a,onReset:()=>i?.(Y),isConfigured:!0}):(0,e.jsx)(D.f,{id:a,readOnly:o||Z,invalid:c,placeholder:t.placeholder,...b(h,{required:t.required?"Required":!1,validate:C=>t.validationRule!==""?re(C,t.validationRule,t.required):!0})})});case"string_array":return(0,e.jsx)(S.xI,{render:({field:{value:C,onChange:k}})=>(0,e.jsx)(v,{readOnly:o,value:C,onChange:k}),control:x,name:h});case"key_value_map":return(0,e.jsx)(S.xI,{render:({field:{value:C,onChange:k}})=>(0,e.jsx)(n,{readOnly:o,value:C,onChange:k}),control:x,name:h});default:return console.error("Element not supported",t.element),null}},Oe=t=>({checkbox:(0,u.css)({height:"auto"}),legend:(0,u.css)({fontSize:t.typography.h6.fontSize})}),re=(t,c,a)=>t===""&&!a||RegExp(c).test(t)?!0:"Invalid format"},38396:(_,K,s)=>{s.d(K,{o:()=>S});var e=s(96540),u=s(52763),E=s(20018);function S(V){const N=(0,u.wA)(),P=(0,e.useRef)(V);P.current=V,(0,e.useEffect)(()=>()=>{N((0,E.N)({cleanupAction:P.current}))},[N])}},82203:(_,K,s)=>{s.d(K,{r:()=>V});var e=s(2543),u=s.n(e),E=s(96540);const S=[];function V(N){const{name:P,formAPI:A,defaults:F,softDelete:L}=N,{watch:X,getValues:W,reset:D,setValue:m}=A,y=X(P)??F??S,B=(0,E.useCallback)(O=>{const n=JSON.parse(JSON.stringify(W())),l=O(y??[]);D((0,e.set)(n,P,l))},[W,P,D,y]);return{fields:y,append:(0,E.useCallback)(O=>B(n=>[...n,O]),[B]),remove:(0,E.useCallback)(O=>{L?m(`${P}.${O}.__deleted`,!0):B(n=>{const l=n.slice();return l.splice(O,1),l})},[B,P,m,L])}}},83904:(_,K,s)=>{s.d(K,{i:()=>N});var e=s(74848),u=s(22803),E=s(96540),S=s(63142),V=s(12266);const N=({label:A,description:F,children:L,className:X,size:W="xl"})=>{const D=(0,S.of)(P),[m,y]=(0,E.useState)(!0),B=()=>y(!m);return(0,e.jsxs)("div",{className:(0,u.cx)(D.wrapper,X),children:[(0,e.jsx)(V.e,{className:D.toggle,size:W,onToggle:B,isCollapsed:m,text:A}),F&&(0,e.jsx)("p",{className:D.description,children:F}),(0,e.jsx)("div",{className:m?D.hidden:D.content,children:L})]})},P=A=>({wrapper:(0,u.css)({marginTop:A.spacing(1),paddingBottom:A.spacing(1)}),toggle:(0,u.css)({margin:A.spacing(1,0),padding:0}),hidden:(0,u.css)({display:"none"}),description:(0,u.css)({color:A.colors.text.secondary,fontSize:A.typography.size.sm,fontWeight:A.typography.fontWeightRegular,margin:0}),content:(0,u.css)({paddingLeft:A.spacing(3)})})}}]);

//# sourceMappingURL=6315.65b77e02278d4827b69b.js.map