{"version":3,"file":"4827.4b2fc5c05db09e8c4840.js","mappings":"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","sources":["webpack://grafana/./public/app/features/plugins/admin/components/UpdateAllButton.tsx","webpack://grafana/./public/app/features/connections/tabs/ConnectData/CardGrid/CardGrid.tsx","webpack://grafana/./public/app/features/connections/tabs/ConnectData/CategoryHeader/CategoryHeader.tsx","webpack://grafana/./public/app/features/connections/tabs/ConnectData/NoAccessModal/NoAccessModal.tsx","webpack://grafana/./public/app/features/connections/tabs/ConnectData/ConnectData.tsx","webpack://grafana/./public/app/features/connections/pages/AddNewConnectionPage.tsx","webpack://grafana/./public/app/features/connections/components/PageCard/CardData.ts","webpack://grafana/./public/app/features/connections/components/PageCard/PageCard.tsx","webpack://grafana/./public/app/features/connections/pages/ConnectionsHomePage.tsx","webpack://grafana/./public/app/features/datasources/components/DataSourceDashboards.tsx","webpack://grafana/./public/app/features/connections/hooks/useDataSourceSettingsNav.ts","webpack://grafana/./public/app/features/connections/pages/DataSourceDashboardsPage.tsx","webpack://grafana/./public/app/features/connections/pages/DataSourceDetailsPage.tsx","webpack://grafana/./public/app/features/datasources/components/DataSourceAddButton.tsx","webpack://grafana/./public/app/features/datasources/components/DataSourcesListHeader.tsx","webpack://grafana/./public/app/features/datasources/components/DataSourcesList.tsx","webpack://grafana/./public/app/features/connections/pages/DataSourcesListPage.tsx","webpack://grafana/./public/app/features/datasources/components/BasicSettings.tsx","webpack://grafana/./public/app/features/datasources/components/ButtonRow.tsx","webpack://grafana/./public/app/features/datasources/components/CloudInfoBox.tsx","webpack://grafana/./public/app/features/datasources/components/DataSourceReadOnlyMessage.tsx","webpack://grafana/./public/app/features/datasources/components/DataSourceLoadError.tsx","webpack://grafana/./public/app/features/datasources/components/DataSourceMissingRightsMessage.tsx","webpack://grafana/./public/app/features/datasources/components/DataSourcePluginConfigPage.tsx","webpack://grafana/./public/app/features/datasources/components/DataSourcePluginSettings.tsx","webpack://grafana/./public/app/features/datasources/components/DataSourcePluginState.tsx","webpack://grafana/./public/app/features/datasources/components/DataSourceTestingStatus.tsx","webpack://grafana/./public/app/features/datasources/components/EditDataSource.tsx","webpack://grafana/./public/app/features/datasources/components/EditDataSourceActions.tsx","webpack://grafana/./public/app/features/datasources/components/useDataSourceInfo.tsx","webpack://grafana/./public/app/features/datasources/components/DataSourceTitle.tsx","webpack://grafana/./public/app/features/datasources/components/DataSourceTabPage.tsx","webpack://grafana/./public/app/features/connections/pages/EditDataSourcePage.tsx","webpack://grafana/./public/app/features/plugins/components/PluginsErrorsInfo.tsx","webpack://grafana/./public/app/features/datasources/components/DataSourceTypeCard.tsx","webpack://grafana/./public/app/features/datasources/components/DataSourceTypeCardList.tsx","webpack://grafana/./public/app/features/datasources/components/DataSourceCategories.tsx","webpack://grafana/./public/app/features/datasources/components/NewDataSource.tsx","webpack://grafana/./public/app/features/connections/pages/NewDataSourcePage.tsx","webpack://grafana/./public/app/features/connections/Connections.tsx","webpack://grafana/./public/app/features/plugins/admin/components/Badges/PluginUpdateAvailableBadge.tsx","webpack://grafana/./public/app/features/plugins/admin/components/RoadmapLinks.tsx","webpack://grafana/./public/app/features/connections/components/AdvisorRedirectNotice/AdvisorRedirectNotice.tsx","webpack://grafana/./public/app/core/components/PageActionBar/PageActionBar.tsx","webpack://grafana/./public/app/features/plugins/admin/components/UpdateAllModalBody.tsx","webpack://grafana/./public/app/features/plugins/admin/components/UpdateAllModal.tsx","webpack://grafana/./public/app/features/plugins/admin/components/Badges/PluginInstallBadge.tsx","webpack://grafana/./public/app/features/plugins/admin/hooks/useHistory.tsx","webpack://grafana/./public/app/features/plugins/admin/components/SearchField.tsx","webpack://grafana/./public/app/features/dashboard/state/actions.ts","webpack://grafana/./public/app/features/plugins/admin/components/Badges/sharedStyles.ts","webpack://grafana/./public/app/features/plugins/admin/components/Badges/PluginDeprecatedBadge.tsx"],"sourcesContent":["import { Trans } from '@grafana/i18n';\nimport { Button } from '@grafana/ui';\n\ninterface UpdateAllButtonProps {\n  disabled: boolean;\n  onUpdateAll: () => void;\n  updatablePluginsLength: number;\n}\n\nconst UpdateAllButton = ({ disabled, onUpdateAll, updatablePluginsLength }: UpdateAllButtonProps) => {\n  return (\n    <Button disabled={disabled} onClick={onUpdateAll}>\n      {disabled ? (\n        <Trans i18nKey=\"plugins.catalog.no-updates-available\">No updates available</Trans>\n      ) : (\n        <Trans i18nKey=\"plugins.catalog.update-all.button\" values={{ length: updatablePluginsLength }}>\n          Update all ({'{{length}}'})\n        </Trans>\n      )}\n    </Button>\n  );\n};\n\nexport default UpdateAllButton;\n","import { css } from '@emotion/css';\nimport * as React from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { t } from '@grafana/i18n';\nimport { featureEnabled } from '@grafana/runtime';\nimport { Card, Grid, useStyles2, Stack, Badge } from '@grafana/ui';\nimport { PluginDeprecatedBadge } from 'app/features/plugins/admin/components/Badges/PluginDeprecatedBadge';\nimport { PluginDisabledBadge } from 'app/features/plugins/admin/components/Badges/PluginDisabledBadge';\nimport { PluginInstalledBadge } from 'app/features/plugins/admin/components/Badges/PluginInstallBadge';\nimport { PluginUpdateAvailableBadge } from 'app/features/plugins/admin/components/Badges/PluginUpdateAvailableBadge';\nimport { getBadgeColor } from 'app/features/plugins/admin/components/Badges/sharedStyles';\nimport { isPluginUpdatable } from 'app/features/plugins/admin/helpers';\nimport { CatalogPlugin } from 'app/features/plugins/admin/types';\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  heading: css({\n    fontSize: theme.typography.h5.fontSize,\n    fontWeight: 'inherit',\n  }),\n  figure: css({\n    width: 'inherit',\n    marginRight: '0px',\n    '> img': {\n      width: theme.spacing(7),\n    },\n  }),\n  meta: css({\n    marginTop: '6px',\n    position: 'relative',\n  }),\n  description: css({\n    margin: '0px',\n    fontSize: theme.typography.bodySmall.fontSize,\n  }),\n  card: css({\n    gridTemplateAreas: `\n        \"Figure   Heading   Actions\"\n        \"Figure Description Actions\"\n        \"Figure    Meta     Actions\"\n        \"Figure     -       Actions\"`,\n  }),\n  logo: css({\n    marginRight: theme.spacing(3),\n    marginLeft: theme.spacing(1),\n    width: theme.spacing(7),\n    maxHeight: theme.spacing(7),\n  }),\n});\n\nfunction PluginEnterpriseBadgeWithoutSignature() {\n  const customBadgeStyles = useStyles2(getBadgeColor);\n\n  if (featureEnabled('enterprise.plugins')) {\n    return <Badge text={t('get-enterprise.title', 'Enterprise')} color=\"blue\" />;\n  }\n\n  return (\n    <Badge\n      icon=\"lock\"\n      role=\"img\"\n      aria-label={t('lock-icon', 'lock icon')}\n      text={t('get-enterprise.title', 'Enterprise')}\n      color=\"darkgrey\"\n      className={customBadgeStyles}\n      title={t('get-enterprise.requires-license', 'Requires a Grafana Enterprise license')}\n    />\n  );\n}\n\nexport type CardGridItem = CatalogPlugin & {\n  logo?: string;\n};\n\nexport interface CardGridProps {\n  items: CardGridItem[];\n  onClickItem?: (e: React.MouseEvent<HTMLElement>, item: CardGridItem) => void;\n}\n\nexport const CardGrid = ({ items, onClickItem }: CardGridProps) => {\n  const styles = useStyles2(getStyles);\n\n  return (\n    <Grid gap={1.5} minColumnWidth={44}>\n      {items.map((item) => (\n        <Card\n          key={item.id}\n          className={styles.card}\n          href={item.url}\n          onClick={(e) => {\n            if (onClickItem) {\n              onClickItem(e, item);\n            }\n          }}\n        >\n          <Card.Heading className={styles.heading}>{item.name}</Card.Heading>\n\n          <Card.Figure align=\"center\" className={styles.figure}>\n            <img className={styles.logo} src={item.logo} alt=\"\" />\n          </Card.Figure>\n          <Card.Meta className={styles.meta}>\n            <Stack height=\"auto\" wrap=\"wrap\">\n              {item.isEnterprise && <PluginEnterpriseBadgeWithoutSignature />}\n              {item.isDeprecated && <PluginDeprecatedBadge />}\n              {item.isInstalled && <PluginInstalledBadge />}\n              {item.isDisabled && <PluginDisabledBadge error={item.error} />}\n              {isPluginUpdatable(item) && <PluginUpdateAvailableBadge plugin={item} />}\n            </Stack>\n          </Card.Meta>\n        </Card>\n      ))}\n    </Grid>\n  );\n};\n","import { css } from '@emotion/css';\n\nimport { GrafanaTheme2, IconName } from '@grafana/data';\nimport { Icon, useStyles2 } from '@grafana/ui';\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  categoryHeader: css({\n    alignItems: 'center',\n    display: 'flex',\n    marginBottom: theme.spacing(3),\n  }),\n  categoryLabel: css({\n    marginBottom: 0,\n    marginLeft: theme.spacing(1),\n  }),\n});\n\ntype Props = { iconName: IconName; label: string };\n\nexport const CategoryHeader = ({ iconName, label }: Props) => {\n  const styles = useStyles2(getStyles);\n  return (\n    <div className={styles.categoryHeader}>\n      <Icon name={iconName} size=\"xl\" />\n      <h3 className={styles.categoryLabel}>{label}</h3>\n    </div>\n  );\n};\n","import { css } from '@emotion/css';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { Trans } from '@grafana/i18n';\nimport { useStyles2, Modal, Icon, Button, TextLink } from '@grafana/ui';\n\nimport { type CardGridItem } from '../CardGrid';\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  modal: css({\n    width: '500px',\n  }),\n  modalContent: css({\n    overflow: 'visible',\n    color: theme.colors.text.secondary,\n\n    a: {\n      color: theme.colors.text.link,\n    },\n  }),\n  description: css({\n    marginBottom: theme.spacing(2),\n  }),\n  bottomSection: css({\n    display: 'flex',\n    borderTop: `1px solid ${theme.colors.border.weak}`,\n    paddingTop: theme.spacing(3),\n    marginTop: theme.spacing(3),\n  }),\n  actionsSection: css({\n    display: 'flex',\n    justifyContent: 'end',\n    marginTop: theme.spacing(3),\n  }),\n  warningIcon: css({\n    color: theme.colors.warning.main,\n    paddingRight: theme.spacing(),\n    marginTop: theme.spacing(0.25),\n  }),\n  header: css({\n    display: 'flex',\n    alignItems: 'center',\n  }),\n  headerTitle: css({\n    margin: 0,\n  }),\n  headerLogo: css({\n    marginRight: theme.spacing(2),\n    width: '32px',\n    height: '32px',\n  }),\n});\n\nexport type NoAccessModalProps = {\n  item: CardGridItem;\n  isOpen: boolean;\n  onDismiss: () => void;\n};\n\nexport function NoAccessModal({ item, isOpen, onDismiss }: NoAccessModalProps) {\n  const styles = useStyles2(getStyles);\n\n  return (\n    <Modal\n      className={styles.modal}\n      contentClassName={styles.modalContent}\n      title={<NoAccessModalHeader item={item} />}\n      isOpen={isOpen}\n      onDismiss={onDismiss}\n    >\n      <div>\n        <div>\n          {item.description && <div className={styles.description}>{item.description}</div>}\n          <div>\n            <Trans i18nKey=\"connections.no-access-modal.links\">Links</Trans>\n            <br />\n            <TextLink href={`https://grafana.com/grafana/plugins/${item.id}`} external>\n              {item.name}\n            </TextLink>\n          </div>\n        </div>\n        <div className={styles.bottomSection}>\n          <div className={styles.warningIcon}>\n            <Icon name=\"exclamation-triangle\" />\n          </div>\n          <div>\n            <p>\n              <Trans i18nKey=\"connections.no-access-modal.editor-warning\">\n                Editors cannot add new connections. You may check to see if it is already configured in{' '}\n                <TextLink href=\"/connections/datasources\">Data sources</TextLink>.\n              </Trans>\n            </p>\n            <p>\n              <Trans i18nKey=\"connections.no-access-modal.connection-contact-grafana-admin\">\n                To add a new connection, contact your Grafana admin.\n              </Trans>\n            </p>\n          </div>\n        </div>\n        <div className={styles.actionsSection}>\n          <Button onClick={onDismiss}>\n            <Trans i18nKey=\"connections.no-access-modal.okay\">Okay</Trans>\n          </Button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\nexport function NoAccessModalHeader({ item }: { item: CardGridItem }) {\n  const styles = useStyles2(getStyles);\n  return (\n    <div>\n      <div className={styles.header}>\n        {item.logo && <img className={styles.headerLogo} src={item.logo} alt={`logo of ${item.name}`} />}\n        <h4 className={styles.headerTitle}>{item.name}</h4>\n      </div>\n    </div>\n  );\n}\n","import { css } from '@emotion/css';\nimport { useMemo, useState, MouseEvent } from 'react';\nimport { useLocation } from 'react-router-dom-v5-compat';\n\nimport { PluginType, GrafanaTheme2, SelectableValue } from '@grafana/data';\nimport { Trans, t } from '@grafana/i18n';\nimport { locationSearchToObject, reportInteraction } from '@grafana/runtime';\nimport { LoadingPlaceholder, EmptyState, Field, RadioButtonGroup, Tooltip, Combobox, useStyles2 } from '@grafana/ui';\nimport { contextSrv } from 'app/core/core';\nimport { useQueryParams } from 'app/core/hooks/useQueryParams';\nimport { HorizontalGroup } from 'app/features/plugins/admin/components/HorizontalGroup';\nimport { SearchField } from 'app/features/plugins/admin/components/SearchField';\nimport { Sorters } from 'app/features/plugins/admin/helpers';\nimport { useHistory } from 'app/features/plugins/admin/hooks/useHistory';\nimport { useGetAll, useIsRemotePluginsAvailable } from 'app/features/plugins/admin/state/hooks';\nimport { AccessControlAction } from 'app/types/accessControl';\n\nimport { ROUTES } from '../../constants';\n\nimport { CardGrid, type CardGridItem } from './CardGrid';\nimport { CategoryHeader } from './CategoryHeader';\nimport { NoAccessModal } from './NoAccessModal';\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  searchContainer: css({\n    backgroundColor: theme.colors.background.primary,\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2),\n    borderBottom: `1px solid ${theme.colors.border.weak}`,\n    marginBottom: theme.spacing(2),\n  }),\n  contentWrap: css({\n    height: 'calc(100vh - 350px)',\n    overflowY: 'auto',\n  }),\n  spacer: css({\n    height: theme.spacing(2),\n  }),\n  modal: css({\n    width: '500px',\n  }),\n  modalContent: css({\n    overflow: 'visible',\n  }),\n  actionBar: css({\n    [theme.breakpoints.up('xl')]: {\n      marginLeft: 'auto',\n    },\n  }),\n});\n\nexport function AddNewConnection() {\n  const [queryParams, setQueryParams] = useQueryParams();\n  const searchTerm = queryParams.search ? String(queryParams.search) : '';\n  const [isNoAccessModalOpen, setIsNoAccessModalOpen] = useState(false);\n  const [focusedItem, setFocusedItem] = useState<CardGridItem | null>(null);\n  const location = useLocation();\n  const history = useHistory();\n  const locationSearch = locationSearchToObject(location.search);\n  const sortBy = (locationSearch.sortBy as Sorters) || Sorters.nameAsc;\n  const filterBy = locationSearch.filterBy?.toString() || 'all';\n  const canCreateDataSources = contextSrv.hasPermission(AccessControlAction.DataSourcesCreate);\n  const styles = useStyles2(getStyles);\n  const handleSearchChange = (val: string) => {\n    setQueryParams({\n      search: val,\n    });\n  };\n  const remotePluginsAvailable = useIsRemotePluginsAvailable();\n\n  const { error, plugins, isLoading } = useGetAll(\n    {\n      keyword: searchTerm,\n      isInstalled: filterBy === 'installed' ? true : undefined,\n      hasUpdate: filterBy === 'has-update' ? true : undefined,\n    },\n    sortBy\n  );\n\n  const filterByOptions = [\n    { value: 'all', label: t('connections.add-new-connection.filter-by-options.label.all', 'All') },\n    { value: 'installed', label: t('connections.add-new-connection.filter-by-options.label.installed', 'Installed') },\n    {\n      value: 'has-update',\n      label: t('connections.add-new-connection.filter-by-options.label.new-updates', 'New Updates'),\n    },\n  ];\n\n  const onClickCardGridItem = (e: MouseEvent<HTMLElement>, item: CardGridItem) => {\n    if (!canCreateDataSources) {\n      e.preventDefault();\n      e.stopPropagation();\n      openModal(item);\n      reportInteraction('connections_plugin_card_clicked', {\n        plugin_id: item.id,\n        creator_team: 'grafana_plugins_catalog',\n        schema_version: '1.0.0',\n      });\n    }\n  };\n\n  const openModal = (item: CardGridItem) => {\n    setIsNoAccessModalOpen(true);\n    setFocusedItem(item);\n  };\n\n  const closeModal = () => {\n    setIsNoAccessModalOpen(false);\n    setFocusedItem(null);\n  };\n\n  const getPluginsByType = useMemo(() => {\n    return {\n      [PluginType.datasource]: plugins.filter((plugin) => plugin.type === PluginType.datasource),\n      [PluginType.app]: plugins.filter((plugin) => plugin.type === PluginType.app),\n    };\n  }, [plugins]);\n\n  const dataSourcesPlugins = getPluginsByType[PluginType.datasource];\n  const appsPlugins = getPluginsByType[PluginType.app];\n\n  const datasourceCardGridItems = useMemo(\n    () =>\n      dataSourcesPlugins.map((plugin) => ({\n        ...plugin,\n        logo: plugin.info.logos.small,\n        url: ROUTES.DataSourcesDetails.replace(':id', plugin.id),\n      })),\n    [dataSourcesPlugins]\n  );\n\n  const appsCardGridItems = useMemo(\n    () =>\n      appsPlugins.map((plugin) => ({\n        ...plugin,\n        logo: plugin.info.logos.small,\n        url: `/plugins/${plugin.id}`,\n      })),\n    [appsPlugins]\n  );\n\n  const onSortByChange = (value: SelectableValue<string>) => {\n    history.push({ query: { sortBy: value.value } });\n  };\n\n  const onFilterByChange = (value: string) => {\n    history.push({ query: { filterBy: value } });\n  };\n\n  const showNoResults = useMemo(\n    () => !isLoading && !error && dataSourcesPlugins.length < 1 && appsPlugins.length < 1,\n    [isLoading, error, dataSourcesPlugins, appsPlugins]\n  );\n\n  return (\n    <>\n      {focusedItem && <NoAccessModal item={focusedItem} isOpen={isNoAccessModalOpen} onDismiss={closeModal} />}\n\n      <div className={styles.searchContainer}>\n        <HorizontalGroup wrap>\n          <Field label={t('common.search', 'Search')}>\n            <SearchField value={searchTerm} onSearch={handleSearchChange} />\n          </Field>\n          <HorizontalGroup className={styles.actionBar}>\n            {/* Filter by installed / all */}\n            {remotePluginsAvailable ? (\n              <Field label={t('plugins.filter.state', 'State')}>\n                <RadioButtonGroup value={filterBy} onChange={onFilterByChange} options={filterByOptions} />\n              </Field>\n            ) : (\n              <Tooltip\n                content={t(\n                  'plugins.filter.disabled',\n                  'This filter has been disabled because the Grafana server cannot access grafana.com'\n                )}\n                placement=\"top\"\n              >\n                <div>\n                  <Field label={t('plugins.filter.state', 'State')}>\n                    <RadioButtonGroup\n                      disabled={true}\n                      value={filterBy}\n                      onChange={onFilterByChange}\n                      options={filterByOptions}\n                    />\n                  </Field>\n                </div>\n              </Tooltip>\n            )}\n\n            {/* Sorting */}\n            <Field label={t('plugins.filter.sort', 'Sort')}>\n              <Combobox\n                aria-label={t('plugins.filter.sort-list', 'Sort Plugins List')}\n                width={24}\n                value={sortBy?.toString()}\n                onChange={onSortByChange}\n                options={[\n                  { value: 'nameAsc', label: t('connections.add-new-connection.label.by-name-az', 'By name (A-Z)') },\n                  { value: 'nameDesc', label: t('connections.add-new-connection.label.by-name-za', 'By name (Z-A)') },\n                  {\n                    value: 'updated',\n                    label: t('connections.add-new-connection.label.by-updated-date', 'By updated date'),\n                  },\n                  {\n                    value: 'published',\n                    label: t('connections.add-new-connection.label.by-published-date', 'By published date'),\n                  },\n                  {\n                    value: 'downloads',\n                    label: t('connections.add-new-connection.label.by-downloads', 'By downloads'),\n                  },\n                ]}\n              />\n            </Field>\n          </HorizontalGroup>\n        </HorizontalGroup>\n      </div>\n      <div className={styles.contentWrap}>\n        {isLoading ? (\n          <LoadingPlaceholder text={t('common.loading', 'Loading...')} />\n        ) : !!error ? (\n          <Trans i18nKey=\"alerting.policies.update-errors.error-code\" values={{ error: error.message }}>\n            Error message: \"{{ error: error.message }}\"\n          </Trans>\n        ) : (\n          <>\n            {/* Data Sources Section */}\n            {dataSourcesPlugins.length > 0 && (\n              <>\n                <CategoryHeader\n                  iconName=\"database\"\n                  label={t('connections.connect-data.datasources-header', 'Data Sources')}\n                />\n                <CardGrid items={datasourceCardGridItems} onClickItem={onClickCardGridItem} />\n              </>\n            )}\n\n            {/* Apps Section */}\n            {appsPlugins.length > 0 && (\n              <>\n                <div className={styles.spacer} />\n                <CategoryHeader iconName=\"apps\" label={t('connections.connect-data.apps-header', 'Apps')} />\n                <CardGrid items={appsCardGridItems} onClickItem={onClickCardGridItem} />\n              </>\n            )}\n          </>\n        )}\n\n        {showNoResults && (\n          <EmptyState\n            variant=\"not-found\"\n            message={t('connections.connect-data.empty-message', 'No results matching your query were found')}\n          />\n        )}\n      </div>\n    </>\n  );\n}\n","import { css } from '@emotion/css';\nimport { useState } from 'react';\n\nimport { PluginType, GrafanaTheme2 } from '@grafana/data';\nimport { useStyles2 } from '@grafana/ui';\nimport { Page } from 'app/core/components/Page/Page';\nimport { RoadmapLinks } from 'app/features/plugins/admin/components/RoadmapLinks';\nimport UpdateAllButton from 'app/features/plugins/admin/components/UpdateAllButton';\nimport UpdateAllModal from 'app/features/plugins/admin/components/UpdateAllModal';\nimport { useGetUpdatable } from 'app/features/plugins/admin/state/hooks';\n\nimport { AddNewConnection } from '../tabs/ConnectData';\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  pageContainer: css({\n    height: '100vh',\n    overflow: 'hidden',\n  }),\n});\n\nexport function AddNewConnectionPage() {\n  const { isLoading: areUpdatesLoading, updatablePlugins } = useGetUpdatable();\n  const updatableDSPlugins = updatablePlugins.filter((plugin) => plugin.type === PluginType.datasource);\n  const [showUpdateModal, setShowUpdateModal] = useState(false);\n  const disableUpdateAllButton = updatableDSPlugins.length <= 0 || areUpdatesLoading;\n  const styles = useStyles2(getStyles);\n\n  const onUpdateAll = () => {\n    setShowUpdateModal(true);\n  };\n\n  const updateAllButton = (\n    <UpdateAllButton\n      disabled={disableUpdateAllButton}\n      onUpdateAll={onUpdateAll}\n      updatablePluginsLength={updatableDSPlugins.length}\n    />\n  );\n\n  return (\n    <Page navId={'connections-add-new-connection'} actions={updateAllButton} className={styles.pageContainer}>\n      <Page.Contents>\n        <AddNewConnection />\n        <RoadmapLinks />\n        <UpdateAllModal\n          isOpen={showUpdateModal}\n          isLoading={areUpdatesLoading}\n          onDismiss={() => setShowUpdateModal(false)}\n          plugins={updatableDSPlugins}\n        />\n      </Page.Contents>\n    </Page>\n  );\n}\n","import type { IconName } from '@grafana/data';\nimport { t } from '@grafana/i18n';\n\ntype CardData = {\n  text: string;\n  subTitle: string;\n  url: string;\n  icon: IconName;\n};\n\nexport function getCloudCardData(): CardData[] {\n  return [\n    {\n      text: t('connections.cloud.connections-home-page.add-new-connection.title', 'Add new connection'),\n      subTitle: t(\n        'connections.cloud.connections-home-page.add-new-connection.subtitle',\n        'Connect data to Grafana through data sources, integrations and apps'\n      ),\n      url: '/connections/add-new-connection',\n      icon: 'plus-circle',\n    },\n    {\n      text: t('connections.cloud.connections-home-page.collector.title', 'Collector'),\n      subTitle: t(\n        'connections.cloud.connections-home-page.collector.subtitle',\n        'Manage the configuration of Grafana Alloy, our distribution of the OpenTelemetry Collector'\n      ),\n      url: '/a/grafana-collector-app',\n      icon: 'frontend-observability',\n    },\n    {\n      text: t('connections.cloud.connections-home-page.data-sources.title', 'Data sources'),\n      subTitle: t(\n        'connections.cloud.connections-home-page.data-sources.subtitle',\n        'Manage your existing data source connections'\n      ),\n      url: '/connections/datasources',\n      icon: 'database',\n    },\n    {\n      text: t('connections.cloud.connections-home-page.integrations.title', 'Integrations'),\n      subTitle: t('connections.cloud.connections-home-page.integrations.subtitle', 'Manage your active integrations'),\n      url: '/connections/infrastructure',\n      icon: 'apps',\n    },\n    {\n      text: t(\n        'connections.cloud.connections-home-page.private-data-source-connections.title',\n        'Private data source connect'\n      ),\n      subTitle: t(\n        'connections.cloud.connections-home-page.private-data-source-connections.subtitle',\n        'Manage your private network connections for data sources'\n      ),\n      url: '/connections/private-data-source-connections',\n      icon: 'sitemap',\n    },\n  ];\n}\n\nexport function getOssCardData(): CardData[] {\n  return [\n    {\n      text: t('connections.oss.connections-home-page.add-new-connection.title', 'Add new connection'),\n      subTitle: t('connections.oss.connections-home-page.add-new-connection.subtitle', 'Connect to a new data source'),\n      url: '/connections/add-new-connection',\n      icon: 'plus-circle',\n    },\n    {\n      text: t('connections.oss.connections-home-page.data-sources.title', 'View configured data sources'),\n      subTitle: t(\n        'connections.oss.connections-home-page.data-sources.subtitle',\n        'Manage your existing data source connections'\n      ),\n      url: '/connections/datasources',\n      icon: 'database',\n    },\n  ];\n}\n","import { css } from '@emotion/css';\n\nimport { GrafanaTheme2, IconName } from '@grafana/data';\nimport { locationService } from '@grafana/runtime';\nimport { Icon, useStyles2 } from '@grafana/ui';\n\ntype PageCardProps = {\n  title: string;\n  description: string;\n  icon: IconName;\n  url: string;\n  index: number;\n};\n\nexport default function PageCard({ title, description, icon, url, index }: PageCardProps) {\n  const styles = useStyles2(getStyles);\n\n  const onKeyDown = (e: React.KeyboardEvent<HTMLDivElement>) => {\n    if (e.key === 'Enter' || e.key === ' ') {\n      e.preventDefault();\n      locationService.push(url);\n    }\n  };\n\n  return (\n    <div\n      className={styles.card}\n      role=\"button\"\n      tabIndex={0}\n      onClick={() => locationService.push(url)}\n      onKeyDown={onKeyDown}\n    >\n      <Icon name={icon} className={`${styles.logo} ${index % 2 === 0 ? styles.evenLogo : styles.oddLogo}`} />\n      <div className={styles.contentColumn}>\n        <h3 className={styles.title}>{title}</h3>\n        <p className={styles.description}>{description}</p>\n      </div>\n    </div>\n  );\n}\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  card: css({\n    display: 'flex',\n    alignItems: 'flex-start',\n    gap: theme.spacing(2),\n    paddingTop: theme.spacing(2),\n    backgroundColor: theme.colors.background.secondary,\n    borderRadius: theme.shape.radius.default,\n    padding: `${theme.spacing(3)} ${theme.spacing(4)} ${theme.spacing(2.25)} ${theme.spacing(4)}`,\n    minHeight: theme.spacing(19.4),\n    '&:hover': {\n      cursor: 'pointer',\n      backgroundColor: theme.colors.emphasize(theme.colors.background.secondary, 0.03),\n    },\n    width: theme.spacing(48),\n  }),\n  contentColumn: css({\n    flex: 1,\n  }),\n  title: css({\n    marginBottom: theme.spacing(1),\n    fontSize: theme.typography.h4.fontSize,\n    fontWeight: theme.typography.h4.fontWeight,\n    color: theme.colors.text.primary,\n  }),\n  description: css({\n    WebkitLineClamp: 3,\n    WebkitBoxOrient: 'vertical',\n    display: '-webkit-box',\n    overflow: 'hidden',\n    margin: '0',\n    color: theme.colors.text.secondary,\n  }),\n  logo: css({\n    objectFit: 'contain',\n    width: '47px',\n    height: '47px',\n    padding: theme.spacing(1.2),\n    borderRadius: theme.spacing(1),\n  }),\n  evenLogo: css({\n    color: '#4ADE80',\n    backgroundColor: 'rgba(34, 197, 94, 0.10)',\n  }),\n  oddLogo: css({\n    color: '#FB923C',\n    backgroundColor: 'rgba(249, 115, 22, 0.10)',\n  }),\n});\n","import { css } from '@emotion/css';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { GrafanaEdition } from '@grafana/data/internal';\nimport { Trans } from '@grafana/i18n';\nimport { config } from '@grafana/runtime';\nimport { useStyles2 } from '@grafana/ui';\nimport { Page } from 'app/core/components/Page/Page';\n\nimport { getCloudCardData, getOssCardData } from '../components/PageCard/CardData';\nimport PageCard from '../components/PageCard/PageCard';\n\nexport default function ConnectionsHomePage() {\n  const styles = useStyles2(getStyles);\n\n  const isOSS = config.buildInfo.edition === GrafanaEdition.OpenSource;\n\n  let cardsData = isOSS ? getOssCardData() : getCloudCardData();\n\n  return (\n    <Page\n      navId=\"connections\"\n      pageNav={{\n        text: '',\n        active: true,\n      }}\n    >\n      <Page.Contents>\n        <div className={styles.centeredContainer}>\n          <h1 className={styles.mainTitle}>\n            <Trans i18nKey=\"connections.connections-home-page.welcome-to-connections\">Welcome to Connections</Trans>\n          </h1>\n          <p className={styles.subTitle}>\n            {isOSS ? (\n              <Trans i18nKey=\"connections.oss.connections-home-page.subtitle\">\n                Manage your data source connections in one place. Use this page to add a new data source or manage your\n                existing connections.\n              </Trans>\n            ) : (\n              <Trans i18nKey=\"connections.cloud.connections-home-page.subtitle\">\n                Connect your infrastructure to Grafana Cloud using data sources, integrations and apps. Use this page to\n                add to manage everything from data ingestion to private connections and telemetry pipelines.\n              </Trans>\n            )}\n          </p>\n          {cardsData && cardsData.length > 0 && (\n            <section className={styles.cardsSection}>\n              {cardsData?.map((child, index) => (\n                <PageCard\n                  key={index}\n                  title={child.text}\n                  description={child.subTitle}\n                  icon={child.icon}\n                  url={child.url}\n                  index={index}\n                />\n              ))}\n            </section>\n          )}\n        </div>\n      </Page.Contents>\n    </Page>\n  );\n}\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  mainTitle: css({\n    textAlign: 'left',\n    [theme.breakpoints.up('sm')]: {\n      textAlign: 'center',\n    },\n  }),\n  subTitle: css({\n    color: theme.colors.text.secondary,\n    textAlign: 'left',\n    [theme.breakpoints.up('sm')]: {\n      textAlign: 'center',\n      maxWidth: theme.spacing(119),\n    },\n  }),\n  cardsSection: css({\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'flex-start',\n    gap: theme.spacing(4),\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2),\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      justifyContent: 'center',\n      paddingTop: theme.spacing(6),\n      paddingBottom: theme.spacing(6),\n    },\n  }),\n  centeredContainer: css({\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'flex-start',\n    [theme.breakpoints.up('sm')]: {\n      alignItems: 'center',\n    },\n  }),\n});\n","import { useEffect } from 'react';\n\nimport PageLoader from 'app/core/components/PageLoader/PageLoader';\nimport { importDashboard, removeDashboard } from 'app/features/dashboard/state/actions';\nimport { loadPluginDashboards } from 'app/features/plugins/admin/state/actions';\nimport { PluginDashboard } from 'app/types/plugins';\nimport { StoreState, useDispatch, useSelector } from 'app/types/store';\n\nimport DashboardTable from '../components/DashboardsTable';\nimport { useInitDataSourceSettings } from '../state/hooks';\n\nexport type Props = {\n  // The UID of the data source\n  uid: string;\n};\n\nexport function DataSourceDashboards({ uid }: Props) {\n  useInitDataSourceSettings(uid);\n\n  const dispatch = useDispatch();\n  const dataSource = useSelector((s: StoreState) => s.dataSources.dataSource);\n  const dashboards = useSelector((s: StoreState) => s.plugins.dashboards);\n  const isLoading = useSelector((s: StoreState) => s.plugins.isLoadingPluginDashboards);\n\n  useEffect(() => {\n    // Load plugin dashboards only when the datasource has loaded\n    if (dataSource.id > 0) {\n      dispatch(loadPluginDashboards());\n    }\n  }, [dispatch, dataSource.id]);\n\n  const onImportDashboard = (dashboard: PluginDashboard, overwrite: boolean) => {\n    dispatch(\n      importDashboard(\n        {\n          pluginId: dashboard.pluginId,\n          path: dashboard.path,\n          overwrite,\n          inputs: [\n            {\n              name: '*',\n              type: 'datasource',\n              pluginId: dataSource.type,\n              value: dataSource.name,\n            },\n          ],\n        },\n        dashboard.title\n      )\n    );\n  };\n\n  const onRemoveDashboard = ({ uid }: PluginDashboard) => {\n    dispatch(removeDashboard(uid));\n  };\n\n  return (\n    <DataSourceDashboardsView\n      dashboards={dashboards}\n      isLoading={isLoading}\n      onImportDashboard={onImportDashboard}\n      onRemoveDashboard={onRemoveDashboard}\n    />\n  );\n}\n\nexport type ViewProps = {\n  isLoading: boolean;\n  dashboards: PluginDashboard[];\n  onImportDashboard: (dashboard: PluginDashboard, overwrite: boolean) => void;\n  onRemoveDashboard: (dashboard: PluginDashboard) => void;\n};\n\nexport const DataSourceDashboardsView = ({\n  isLoading,\n  dashboards,\n  onImportDashboard,\n  onRemoveDashboard,\n}: ViewProps) => {\n  if (isLoading) {\n    return <PageLoader />;\n  }\n\n  return <DashboardTable dashboards={dashboards} onImport={onImportDashboard} onRemove={onRemoveDashboard} />;\n};\n","import { useLocation, useParams } from 'react-router-dom-v5-compat';\n\nimport { NavModel, NavModelItem } from '@grafana/data';\nimport { t } from '@grafana/i18n';\nimport { getDataSourceSrv } from '@grafana/runtime';\nimport { getNavModel } from 'app/core/selectors/navModel';\nimport { useDataSource, useDataSourceMeta, useDataSourceSettings } from 'app/features/datasources/state/hooks';\nimport { getDataSourceLoadingNav, buildNavModel, getDataSourceNav } from 'app/features/datasources/state/navModel';\nimport { useGetSingle } from 'app/features/plugins/admin/state/hooks';\nimport { useSelector } from 'app/types/store';\n\nexport function useDataSourceSettingsNav(pageIdParam?: string) {\n  const { uid = '' } = useParams<{ uid: string }>();\n  const location = useLocation();\n  const datasource = useDataSource(uid);\n  const dataSourceMeta = useDataSourceMeta(datasource.type);\n  const datasourcePlugin = useGetSingle(datasource.type);\n  const params = new URLSearchParams(location.search);\n  const pageId = pageIdParam || params.get('page');\n\n  const { plugin, loadError, loading } = useDataSourceSettings();\n  const dsi = getDataSourceSrv()?.getInstanceSettings(uid);\n  const hasAlertingEnabled = Boolean(dsi?.meta?.alerting ?? false);\n  const isAlertManagerDatasource = dsi?.type === 'alertmanager';\n  const alertingSupported = hasAlertingEnabled || isAlertManagerDatasource;\n\n  const navIndex = useSelector((state) => state.navIndex);\n  const navIndexId = pageId ? `datasource-${pageId}-${uid}` : `datasource-settings-${uid}`;\n  let pageNav: NavModel = {\n    node: {\n      text: t('connections.use-data-source-settings-nav.page-nav.text.data-source-nav-node', 'Data Source Nav Node'),\n    },\n    main: {\n      text: t('connections.use-data-source-settings-nav.page-nav.text.data-source-nav-node', 'Data Source Nav Node'),\n    },\n  };\n\n  if (loadError) {\n    const node: NavModelItem = {\n      text: loadError,\n      subTitle: t('connections.use-data-source-settings-nav.node.subTitle.data-source-error', 'Data Source Error'),\n      icon: 'exclamation-triangle',\n    };\n\n    pageNav = {\n      node: node,\n      main: node,\n    };\n  }\n\n  if (loading || !plugin) {\n    pageNav = getNavModel(navIndex, navIndexId, getDataSourceLoadingNav('settings'));\n  }\n\n  if (!datasource.uid) {\n    const node: NavModelItem = {\n      text: t('connections.use-data-source-settings-nav.node.subTitle.data-source-error', 'Data Source Error'),\n      icon: 'exclamation-triangle',\n    };\n\n    pageNav = {\n      node: node,\n      main: node,\n    };\n  }\n\n  if (plugin) {\n    pageNav = getNavModel(\n      navIndex,\n      navIndexId,\n      getDataSourceNav(buildNavModel(datasource, plugin), pageId || 'settings')\n    );\n  }\n\n  const connectionsPageNav = {\n    ...pageNav.main,\n    dataSourcePluginName: datasourcePlugin?.name || plugin?.meta.name || '',\n    active: true,\n    text: datasource.name || '',\n    subTitle: dataSourceMeta.name ? `Type: ${dataSourceMeta.name}` : '',\n    children: (pageNav.main.children || []).map((navModelItem) => ({\n      ...navModelItem,\n      url: navModelItem.url?.replace('datasources/edit/', '/connections/datasources/edit/'),\n    })),\n  };\n\n  return {\n    navId: 'connections-datasources',\n    pageNav: connectionsPageNav,\n    dataSourceHeader: {\n      alertingSupported,\n    },\n  };\n}\n","import { useParams } from 'react-router-dom-v5-compat';\n\nimport { Page } from 'app/core/components/Page/Page';\nimport { DataSourceDashboards } from 'app/features/datasources/components/DataSourceDashboards';\n\nimport { useDataSourceSettingsNav } from '../hooks/useDataSourceSettingsNav';\n\nexport function DataSourceDashboardsPage() {\n  const { uid = '' } = useParams<{ uid: string }>();\n  const { navId, pageNav } = useDataSourceSettingsNav('dashboards');\n\n  return (\n    <Page navId={navId} pageNav={pageNav}>\n      <Page.Contents>\n        <DataSourceDashboards uid={uid} />\n      </Page.Contents>\n    </Page>\n  );\n}\n","import { useParams } from 'react-router-dom-v5-compat';\n\nimport { Trans, t } from '@grafana/i18n';\nimport { Alert, Badge, TextLink } from '@grafana/ui';\nimport { PluginDetailsPage } from 'app/features/plugins/admin/components/PluginDetailsPage';\nimport { AppNotificationSeverity } from 'app/types/appNotifications';\nimport { StoreState, useSelector } from 'app/types/store';\n\nimport { ROUTES } from '../constants';\n\nexport function DataSourceDetailsPage() {\n  const overrideNavId = 'standalone-plugin-page-/connections/add-new-connection';\n  const { id = '' } = useParams<{ id: string }>();\n  const navIndex = useSelector((state: StoreState) => state.navIndex);\n  const isConnectDataPageOverriden = Boolean(navIndex[overrideNavId]);\n  const navId = isConnectDataPageOverriden ? overrideNavId : 'connections-add-new-connection'; // The nav id changes (gets a prefix) if it is overriden by a plugin\n\n  return (\n    <PluginDetailsPage\n      pluginId={id}\n      navId={navId}\n      notFoundComponent={<NotFoundDatasource />}\n      notFoundNavModel={{\n        text: t('connections.data-source-details-page.text.unknown-datasource', 'Unknown datasource'),\n        subTitle: t(\n          'connections.data-source-details-page.subTitle.datasource-could-found',\n          'No datasource with this ID could be found.'\n        ),\n        active: true,\n      }}\n    />\n  );\n}\n\nfunction NotFoundDatasource() {\n  const { id } = useParams<{ id: string }>();\n\n  return (\n    <Alert severity={AppNotificationSeverity.Warning} title=\"\">\n      <Trans i18nKey=\"connections.not-found-datasource.body\">\n        Maybe you mistyped the URL or the plugin with the id <Badge text={id} color=\"orange\" /> is unavailable.\n        <br />\n        To see a list of available datasources please <TextLink href={ROUTES.AddNewConnection}>click here</TextLink>.\n      </Trans>\n    </Alert>\n  );\n}\n","import { useCallback } from 'react';\n\nimport { Trans } from '@grafana/i18n';\nimport { config } from '@grafana/runtime';\nimport { LinkButton } from '@grafana/ui';\nimport { contextSrv } from 'app/core/core';\nimport { ROUTES } from 'app/features/connections/constants';\nimport { AccessControlAction } from 'app/types/accessControl';\n\nimport { trackAddNewDsClicked } from '../tracking';\n\nexport function DataSourceAddButton(): JSX.Element | null {\n  const canCreateDataSource = contextSrv.hasPermission(AccessControlAction.DataSourcesCreate);\n  const handleClick = useCallback(() => {\n    trackAddNewDsClicked({ path: window.location.pathname });\n  }, []);\n\n  return canCreateDataSource ? (\n    <LinkButton icon=\"plus\" href={config.appSubUrl + ROUTES.DataSourcesNew} onClick={handleClick}>\n      <Trans i18nKey=\"data-sources.datasource-add-button.label\">Add new data source</Trans>\n    </LinkButton>\n  ) : null;\n}\n","import { debounce } from 'lodash';\nimport { useCallback, useMemo } from 'react';\n\nimport { SelectableValue } from '@grafana/data';\nimport PageActionBar, { FilterCheckbox } from 'app/core/components/PageActionBar/PageActionBar';\nimport { StoreState, useSelector, useDispatch } from 'app/types/store';\n\nimport { setDataSourcesSearchQuery, setIsSortAscending } from '../state/reducers';\nimport { getDataSourcesSearchQuery, getDataSourcesSort } from '../state/selectors';\nimport { trackDsSearched } from '../tracking';\n\nconst ascendingSortValue = 'alpha-asc';\nconst descendingSortValue = 'alpha-desc';\n\nconst sortOptions = [\n  // We use this unicode 'en dash' character (U+2013), because it looks nicer\n  // than simple dash in this context. This is also used in the response of\n  // the `sorting` endpoint, which is used in the search dashboard page.\n  { label: 'Sort by AZ', value: ascendingSortValue },\n  { label: 'Sort by ZA', value: descendingSortValue },\n];\n\nexport interface DataSourcesListHeaderProps {\n  filterCheckbox?: FilterCheckbox;\n}\n\nexport function DataSourcesListHeader({ filterCheckbox }: DataSourcesListHeaderProps) {\n  const dispatch = useDispatch();\n\n  const debouncedTrackSearch = useMemo(\n    () =>\n      debounce((q) => {\n        trackDsSearched({ query: q });\n      }, 300),\n    []\n  );\n\n  const setSearchQuery = useCallback(\n    (q: string) => {\n      dispatch(setDataSourcesSearchQuery(q));\n      if (q) {\n        debouncedTrackSearch(q);\n      }\n    },\n    [dispatch, debouncedTrackSearch]\n  );\n  const searchQuery = useSelector(({ dataSources }: StoreState) => getDataSourcesSearchQuery(dataSources));\n\n  const setSort = useCallback(\n    (sort: SelectableValue) => dispatch(setIsSortAscending(sort.value === ascendingSortValue)),\n    [dispatch]\n  );\n  const isSortAscending = useSelector(({ dataSources }: StoreState) => getDataSourcesSort(dataSources));\n\n  const sortPicker = {\n    onChange: setSort,\n    value: isSortAscending ? ascendingSortValue : descendingSortValue,\n    getSortOptions: () => Promise.resolve(sortOptions),\n  };\n\n  return (\n    <PageActionBar\n      searchQuery={searchQuery}\n      setSearchQuery={setSearchQuery}\n      key=\"action-bar\"\n      sortPicker={sortPicker}\n      filterCheckbox={filterCheckbox}\n    />\n  );\n}\n","import { css } from '@emotion/css';\nimport { useEffect, useMemo } from 'react';\nimport { useLocation } from 'react-router-dom-v5-compat';\n\nimport { DataSourceSettings, GrafanaTheme2 } from '@grafana/data';\nimport { Trans, t } from '@grafana/i18n';\nimport { config, useFavoriteDatasources, FavoriteDatasources } from '@grafana/runtime';\nimport { EmptyState, LinkButton, TextLink, useStyles2 } from '@grafana/ui';\nimport { contextSrv } from 'app/core/core';\nimport { useQueryParams } from 'app/core/hooks/useQueryParams';\nimport { AccessControlAction } from 'app/types/accessControl';\nimport { StoreState, useSelector } from 'app/types/store';\n\nimport { ROUTES } from '../../connections/constants';\nimport { useLoadDataSources } from '../state/hooks';\nimport { getDataSources, getDataSourcesCount } from '../state/selectors';\nimport { trackDataSourcesListViewed } from '../tracking';\n\nimport { DataSourcesListCard } from './DataSourcesListCard';\nimport { DataSourcesListHeader } from './DataSourcesListHeader';\n\nexport function DataSourcesList() {\n  const { isLoading } = useLoadDataSources();\n  const favoriteDataSources = useFavoriteDatasources();\n  const [queryParams, updateQueryParams] = useQueryParams();\n  const showFavoritesOnly = !!queryParams.starred;\n  const handleFavoritesCheckboxChange = (value: boolean) => {\n    updateQueryParams({ starred: value ? 'true' : undefined });\n  };\n\n  const dataSources = useSelector((state) => getDataSources(state.dataSources));\n  const dataSourcesCount = useSelector(({ dataSources }: StoreState) => getDataSourcesCount(dataSources));\n  const hasCreateRights = contextSrv.hasPermission(AccessControlAction.DataSourcesCreate);\n  const hasWriteRights = contextSrv.hasPermission(AccessControlAction.DataSourcesWrite);\n  const hasExploreRights = contextSrv.hasAccessToExplore();\n\n  return (\n    <DataSourcesListView\n      dataSources={dataSources}\n      dataSourcesCount={dataSourcesCount}\n      isLoading={isLoading}\n      hasCreateRights={hasCreateRights}\n      hasWriteRights={hasWriteRights}\n      hasExploreRights={hasExploreRights}\n      showFavoritesOnly={showFavoritesOnly}\n      handleFavoritesCheckboxChange={handleFavoritesCheckboxChange}\n      favoriteDataSources={favoriteDataSources}\n    />\n  );\n}\n\nexport type ViewProps = {\n  dataSources: DataSourceSettings[];\n  dataSourcesCount: number;\n  isLoading: boolean;\n  hasCreateRights: boolean;\n  hasWriteRights: boolean;\n  hasExploreRights: boolean;\n  showFavoritesOnly?: boolean;\n  handleFavoritesCheckboxChange?: (value: boolean) => void;\n  favoriteDataSources?: FavoriteDatasources;\n};\n\nexport function DataSourcesListView({\n  dataSources: allDataSources,\n  dataSourcesCount,\n  isLoading,\n  hasCreateRights,\n  hasWriteRights,\n  hasExploreRights,\n  showFavoritesOnly,\n  handleFavoritesCheckboxChange,\n  favoriteDataSources,\n}: ViewProps) {\n  const styles = useStyles2(getStyles);\n  const location = useLocation();\n  const favoritesCheckbox =\n    favoriteDataSources?.enabled && handleFavoritesCheckboxChange && showFavoritesOnly !== undefined\n      ? {\n          onChange: handleFavoritesCheckboxChange,\n          value: showFavoritesOnly,\n          label: t('datasources.list.starred', 'Starred'),\n        }\n      : undefined;\n\n  // Filter data sources based on favorites when enabled\n  const dataSources = useMemo(() => {\n    if (!showFavoritesOnly || !favoriteDataSources?.enabled) {\n      return allDataSources;\n    }\n    return allDataSources.filter((dataSource) => favoriteDataSources?.isFavoriteDatasource(dataSource.uid));\n  }, [allDataSources, showFavoritesOnly, favoriteDataSources]);\n\n  useEffect(() => {\n    trackDataSourcesListViewed({\n      grafana_version: config.buildInfo.version,\n      path: location.pathname,\n    });\n  }, [location]);\n\n  if (!isLoading && dataSourcesCount === 0) {\n    return (\n      <EmptyState\n        variant=\"call-to-action\"\n        button={\n          <LinkButton disabled={!hasCreateRights} href={ROUTES.DataSourcesNew} icon=\"database\" size=\"lg\">\n            <Trans i18nKey=\"data-source-list.empty-state.button-title\">Add data source</Trans>\n          </LinkButton>\n        }\n        message={t('data-source-list.empty-state.title', 'No data sources defined')}\n      >\n        <Trans i18nKey=\"data-source-list.empty-state.pro-tip\">\n          You can also define data sources through configuration files.{' '}\n          <TextLink\n            external\n            href=\"http://docs.grafana.org/administration/provisioning/?utm_source=grafana_ds_list#data-sources\"\n          >\n            Learn more\n          </TextLink>\n        </Trans>\n      </EmptyState>\n    );\n  }\n\n  const getDataSourcesList = () => {\n    if (isLoading) {\n      return new Array(20)\n        .fill(null)\n        .map((_, index) => <DataSourcesListCard.Skeleton key={index} hasExploreRights={hasExploreRights} />);\n    }\n\n    return dataSources.map((dataSource) => (\n      <li key={dataSource.uid}>\n        <DataSourcesListCard\n          dataSource={dataSource}\n          hasWriteRights={hasWriteRights}\n          hasExploreRights={hasExploreRights}\n        />\n      </li>\n    ));\n  };\n\n  return (\n    <>\n      {/* List Header */}\n      <DataSourcesListHeader filterCheckbox={favoritesCheckbox} />\n\n      {/* List */}\n      {dataSources.length === 0 && !isLoading ? (\n        <EmptyState variant=\"not-found\" message={t('data-sources.empty-state.message', 'No data sources found')} />\n      ) : (\n        <ul className={styles.list}>{getDataSourcesList()}</ul>\n      )}\n    </>\n  );\n}\n\nconst getStyles = (theme: GrafanaTheme2) => {\n  return {\n    list: css({\n      listStyle: 'none',\n      display: 'grid',\n      // gap: '8px', Add back when legacy support for old Card interface is dropped\n    }),\n  };\n};\n","import { Page } from 'app/core/components/Page/Page';\nimport { AdvisorRedirectNotice } from 'app/features/connections/components/AdvisorRedirectNotice/AdvisorRedirectNotice';\nimport { DataSourceAddButton } from 'app/features/datasources/components/DataSourceAddButton';\nimport { DataSourcesList } from 'app/features/datasources/components/DataSourcesList';\nimport { getDataSourcesCount } from 'app/features/datasources/state/selectors';\nimport { StoreState, useSelector } from 'app/types/store';\n\nexport function DataSourcesListPage() {\n  const dataSourcesCount = useSelector(({ dataSources }: StoreState) => getDataSourcesCount(dataSources));\n\n  const actions = dataSourcesCount > 0 ? <DataSourceAddButton /> : undefined;\n  return (\n    <Page navId={'connections-datasources'} actions={actions}>\n      <Page.Contents>\n        <AdvisorRedirectNotice />\n        <DataSourcesList />\n      </Page.Contents>\n    </Page>\n  );\n}\n","import { css } from '@emotion/css';\nimport * as React from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { selectors } from '@grafana/e2e-selectors';\nimport { t } from '@grafana/i18n';\nimport { InlineField, InlineSwitch, Input, Badge, useStyles2 } from '@grafana/ui';\n\nexport interface Props {\n  dataSourceName: string;\n  isDefault: boolean;\n  onNameChange: (name: string) => void;\n  onDefaultChange: (value: boolean) => void;\n  disabled?: boolean;\n}\n\nexport function BasicSettings({ dataSourceName, isDefault, onDefaultChange, onNameChange, disabled }: Props) {\n  return (\n    <>\n      <div\n        className=\"gf-form-group\"\n        aria-label={t(\n          'datasources.basic-settings.aria-label-datasource-settings-page-basic',\n          'Datasource settings page basic settings'\n        )}\n      >\n        <div className=\"gf-form-inline\">\n          {/* Name */}\n          <div className=\"gf-form max-width-30\">\n            <InlineField\n              label={t('datasources.basic-settings.label-name', 'Name')}\n              tooltip={t(\n                'datasources.basic-serttings.tooltip-name',\n                'The name is used when you select the data source in panels. The default data source is preselected in new panels.'\n              )}\n              grow\n              disabled={disabled}\n              labelWidth={14}\n            >\n              <Input\n                id=\"basic-settings-name\"\n                type=\"text\"\n                value={dataSourceName}\n                placeholder={t('datasources.basic-settings.basic-settings-name-placeholder-name', 'Name')}\n                onChange={(event) => onNameChange(event.currentTarget.value)}\n                required\n                data-testid={selectors.pages.DataSource.name}\n              />\n            </InlineField>\n          </div>\n\n          {/* Is Default */}\n          <InlineField\n            label={t('datasources.basic-settings.label-default', 'Default')}\n            labelWidth={8}\n            disabled={disabled}\n          >\n            <InlineSwitch\n              id=\"basic-settings-default\"\n              value={isDefault}\n              onChange={(event: React.FormEvent<HTMLInputElement>) => {\n                onDefaultChange(event.currentTarget.checked);\n              }}\n            />\n          </InlineField>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport function AlertingEnabled({ enabled }: { enabled: boolean }) {\n  const styles = useStyles2(getStyles);\n\n  return (\n    <div className={styles.badge}>\n      {enabled ? (\n        <Badge\n          color=\"green\"\n          icon=\"check-circle\"\n          text={t('datasources.alerting-enabled.text-alerting-supported', 'Alerting supported')}\n        />\n      ) : (\n        <Badge\n          color=\"orange\"\n          icon=\"exclamation-triangle\"\n          text={t('datasources.alerting-enabled.text-alerting-not-supported', 'Alerting not supported')}\n        />\n      )}\n    </div>\n  );\n}\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  badge: css({\n    marginBottom: theme.spacing(2),\n  }),\n});\n","import * as React from 'react';\n\nimport { selectors } from '@grafana/e2e-selectors';\nimport { Trans } from '@grafana/i18n';\nimport { Button } from '@grafana/ui';\n\nexport interface Props {\n  canSave: boolean;\n  canDelete: boolean;\n  onDelete: (event: React.MouseEvent<HTMLButtonElement>) => void;\n  onSubmit: (event: React.MouseEvent<HTMLButtonElement>) => void;\n  onTest: (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void;\n}\n\nexport function ButtonRow({ canSave, canDelete, onDelete, onSubmit, onTest }: Props) {\n  return (\n    <div className=\"gf-form-button-row\">\n      <Button\n        type=\"button\"\n        variant=\"destructive\"\n        disabled={!canDelete}\n        onClick={onDelete}\n        data-testid={selectors.pages.DataSource.delete}\n      >\n        <Trans i18nKey=\"datasources.button-row.delete\">Delete</Trans>\n      </Button>\n      {canSave && (\n        <Button\n          type=\"submit\"\n          variant=\"primary\"\n          disabled={!canSave}\n          onClick={onSubmit}\n          data-testid={selectors.pages.DataSource.saveAndTest}\n          id={selectors.pages.DataSource.saveAndTest}\n        >\n          <Trans i18nKey=\"datasources.button-row.save-and-test\">Save &amp; test</Trans>\n        </Button>\n      )}\n      {!canSave && (\n        <Button variant=\"primary\" onClick={onTest}>\n          <Trans i18nKey=\"datasources.button-row.test\">Test</Trans>\n        </Button>\n      )}\n    </div>\n  );\n}\n","import { DataSourceSettings, LocalStorageValueProvider } from '@grafana/data';\nimport { GrafanaEdition } from '@grafana/data/internal';\nimport { Trans, t } from '@grafana/i18n';\nimport { Alert, TextLink } from '@grafana/ui';\nimport { config } from 'app/core/config';\n\nconst LOCAL_STORAGE_KEY = 'datasources.settings.cloudInfoBox.isDismissed';\n\nexport interface Props {\n  dataSource: DataSourceSettings;\n}\n\nexport function CloudInfoBox({ dataSource }: Props) {\n  let mainDS = '';\n  let extraDS = '';\n\n  // don't show for already configured data sources or provisioned data sources\n  if (dataSource.readOnly || (dataSource.version ?? 0) > 2) {\n    return null;\n  }\n\n  // Skip showing this info box in some editions\n  if (config.buildInfo.edition !== GrafanaEdition.OpenSource) {\n    return null;\n  }\n\n  switch (dataSource.type) {\n    case 'prometheus':\n      mainDS = 'Prometheus';\n      extraDS = 'Loki';\n      break;\n    case 'loki':\n      mainDS = 'Loki';\n      extraDS = 'Prometheus';\n      break;\n    default:\n      return null;\n  }\n\n  return (\n    <LocalStorageValueProvider<boolean> storageKey={LOCAL_STORAGE_KEY} defaultValue={false}>\n      {(isDismissed, onDismiss) => {\n        if (isDismissed) {\n          return null;\n        }\n        return (\n          <Alert\n            title={t('datasources.cloud-info-box.title-alert', 'Configure your {{mainDS}} data source below', {\n              mainDS,\n            })}\n            severity=\"info\"\n            bottomSpacing={4}\n            onRemove={() => {\n              onDismiss(true);\n            }}\n          >\n            <Trans i18nKey=\"datasources.cloud-info-box.body-alert\">\n              Or skip the effort and get {{ mainDS }} (and {{ extraDS }}) as fully-managed, scalable, and hosted data\n              sources from Grafana Labs with the{' '}\n              <TextLink\n                href={`https://grafana.com/signup/cloud/connect-account?src=grafana-oss&cnt=${dataSource.type}-settings`}\n                external\n              >\n                free-forever Grafana Cloud plan\n              </TextLink>\n              .\n            </Trans>\n          </Alert>\n        );\n      }}\n    </LocalStorageValueProvider>\n  );\n}\n","import { selectors as e2eSelectors } from '@grafana/e2e-selectors';\nimport { t } from '@grafana/i18n';\nimport { Alert } from '@grafana/ui';\n\nexport const readOnlyMessage =\n  'This data source was added by config and cannot be modified using the UI. Please contact your server admin to update this data source.';\n\nexport function DataSourceReadOnlyMessage() {\n  return (\n    <Alert\n      data-testid={e2eSelectors.pages.DataSource.readOnly}\n      severity=\"info\"\n      title={t('datasources.data-source-read-only-message.title-provisioned-data-source', 'Provisioned data source')}\n    >\n      {readOnlyMessage}\n    </Alert>\n  );\n}\n","import { t, Trans } from '@grafana/i18n';\nimport { Button, EmptyState } from '@grafana/ui';\n\nimport { DataSourceRights } from '../types';\n\nimport { DataSourceReadOnlyMessage } from './DataSourceReadOnlyMessage';\n\nexport type Props = {\n  dataSourceRights: DataSourceRights;\n  onDelete: () => void;\n  notFound: boolean;\n};\n\nexport function DataSourceLoadError({ dataSourceRights, onDelete, notFound }: Props) {\n  const { readOnly, hasDeleteRights } = dataSourceRights;\n  const canDelete = !readOnly && hasDeleteRights;\n  const navigateBack = () => window.history.back();\n\n  return (\n    <>\n      {readOnly && <DataSourceReadOnlyMessage />}\n\n      <div className=\"gf-form-button-row\">\n        {notFound && (\n          <EmptyState\n            variant=\"not-found\"\n            message={t('datasources.data-source-load-error.not-found', 'Data source not found')}\n          />\n        )}\n        {canDelete && (\n          <Button type=\"submit\" variant=\"destructive\" onClick={onDelete}>\n            <Trans i18nKey=\"datasources.data-source-load-error.delete\">Delete</Trans>\n          </Button>\n        )}\n\n        <Button variant=\"secondary\" fill=\"outline\" type=\"button\" onClick={navigateBack}>\n          <Trans i18nKey=\"datasources.data-source-load-error.back\">Back</Trans>\n        </Button>\n      </div>\n    </>\n  );\n}\n","import { t } from '@grafana/i18n';\nimport { Alert } from '@grafana/ui';\n\nexport const missingRightsMessage =\n  'You are not allowed to modify this data source. Please contact your server admin to update this data source.';\n\nexport function DataSourceMissingRightsMessage() {\n  return (\n    <Alert\n      severity=\"info\"\n      title={t('datasources.data-source-missing-rights-message.title-missing-rights', 'Missing rights')}\n    >\n      {missingRightsMessage}\n    </Alert>\n  );\n}\n","import { Trans } from '@grafana/i18n';\n\nimport { GenericDataSourcePlugin } from '../types';\n\nexport type Props = {\n  plugin?: GenericDataSourcePlugin | null;\n  pageId: string;\n};\n\nexport function DataSourcePluginConfigPage({ plugin, pageId }: Props) {\n  if (!plugin || !plugin.configPages) {\n    return null;\n  }\n\n  const page = plugin.configPages.find(({ id }) => id === pageId);\n\n  if (page) {\n    // TODO: Investigate if any plugins are using this? We should change this interface\n    return <page.body plugin={plugin} query={{}} />;\n  }\n\n  return (\n    <div>\n      <Trans i18nKey=\"datasources.data-source-plugin-config-page.page-not-found\">Page not found: {{ page }}</Trans>\n    </div>\n  );\n}\n","import { createElement, PureComponent } from 'react';\n\nimport { DataSourcePluginMeta, DataSourceSettings } from '@grafana/data';\nimport { writableProxy } from 'app/features/plugins/extensions/utils';\n\nimport { GenericDataSourcePlugin } from '../types';\n\nexport interface Props {\n  plugin: GenericDataSourcePlugin;\n  dataSource: DataSourceSettings;\n  dataSourceMeta: DataSourcePluginMeta;\n  onModelChange: (dataSource: DataSourceSettings) => void;\n}\n\nexport class DataSourcePluginSettings extends PureComponent<Props> {\n  constructor(props: Props) {\n    super(props);\n\n    this.onModelChanged = this.onModelChanged.bind(this);\n  }\n\n  onModelChanged = (dataSource: DataSourceSettings) => {\n    this.props.onModelChange(dataSource);\n  };\n\n  render() {\n    const { plugin, dataSource } = this.props;\n\n    if (!plugin) {\n      return null;\n    }\n\n    return (\n      <div>\n        {plugin.components.ConfigEditor &&\n          createElement(plugin.components.ConfigEditor, {\n            options: writableProxy(dataSource, {\n              source: 'datasource',\n              pluginId: plugin.meta?.id,\n              pluginVersion: plugin.meta?.info?.version,\n            }),\n            onOptionsChange: this.onModelChanged,\n          })}\n      </div>\n    );\n  }\n}\n","import { PluginState } from '@grafana/data';\nimport { Trans } from '@grafana/i18n';\nimport { PluginStateInfo } from 'app/features/plugins/components/PluginStateInfo';\n\nexport type Props = {\n  state?: PluginState;\n};\n\nexport function DataSourcePluginState({ state }: Props) {\n  return (\n    <div className=\"gf-form\">\n      <div className=\"gf-form-label width-10\">\n        <Trans i18nKey=\"datasources.data-source-plugin-state.plugin-state\">Plugin state</Trans>\n      </div>\n      <div className=\"gf-form-label gf-form-label--transparent\">\n        <PluginStateInfo state={state} />\n      </div>\n    </div>\n  );\n}\n","import { css, cx } from '@emotion/css';\nimport { HTMLAttributes } from 'react';\n\nimport {\n  DataSourceSettings as DataSourceSettingsType,\n  GrafanaTheme2,\n  PluginExtensionPoints,\n  PluginExtensionLink,\n  PluginExtensionDataSourceConfigStatusContext,\n} from '@grafana/data';\nimport { sanitizeUrl } from '@grafana/data/internal';\nimport { selectors as e2eSelectors } from '@grafana/e2e-selectors';\nimport { Trans, t } from '@grafana/i18n';\nimport { TestingStatus, config, usePluginLinks, usePluginComponents, renderLimitedComponents } from '@grafana/runtime';\nimport { AlertVariant, Alert, useTheme2, Link, useStyles2 } from '@grafana/ui';\n\nimport { contextSrv } from '../../../core/core';\nimport { ALLOWED_DATASOURCE_EXTENSION_PLUGINS } from '../constants';\nimport { trackCreateDashboardClicked } from '../tracking';\n\nexport type Props = {\n  testingStatus?: TestingStatus;\n  exploreUrl: string;\n  dataSource: DataSourceSettingsType;\n};\n\ninterface AlertMessageProps extends HTMLAttributes<HTMLDivElement> {\n  title: string;\n  severity?: AlertVariant;\n  exploreUrl: string;\n  dataSourceId: string;\n  onDashboardLinkClicked: () => void;\n  extensionLinks?: PluginExtensionLink[];\n}\n\nconst getStyles = (theme: GrafanaTheme2, hasTitle: boolean) => {\n  return {\n    content: css({\n      color: theme.colors.text.secondary,\n      paddingTop: hasTitle ? theme.spacing(1) : 0,\n      maxHeight: '50vh',\n      overflowY: 'auto',\n    }),\n    disabled: css({\n      pointerEvents: 'none',\n      color: theme.colors.text.secondary,\n    }),\n    extensionLinks: css({\n      display: 'inline-flex',\n      marginTop: theme.spacing(0.5),\n      gap: theme.spacing(1),\n    }),\n  };\n};\n\nconst AlertSuccessMessage = ({ title, exploreUrl, dataSourceId, onDashboardLinkClicked }: AlertMessageProps) => {\n  const theme = useTheme2();\n\n  const hasTitle = Boolean(title);\n  const styles = getStyles(theme, hasTitle);\n  const canExploreDataSources = contextSrv.hasAccessToExplore();\n\n  return (\n    <div className={styles.content}>\n      <Trans i18nKey=\"data-source-testing-status-page.success-more-details-links\">\n        Next, you can start to visualize data by{' '}\n        <Link\n          aria-label={t('datasources.alert-success-message.aria-label-create-a-dashboard', 'Create a dashboard')}\n          href={`/dashboard/new-with-ds/${dataSourceId}`}\n          className=\"external-link\"\n          onClick={onDashboardLinkClicked}\n        >\n          building a dashboard\n        </Link>\n        , or by querying data in the{' '}\n        <Link\n          aria-label={t('datasources.alert-success-message.aria-label-explore-data', 'Explore data')}\n          className={cx('external-link', {\n            [`${styles.disabled}`]: !canExploreDataSources,\n            'test-disabled': !canExploreDataSources,\n          })}\n          href={exploreUrl}\n        >\n          Explore view\n        </Link>\n        .\n      </Trans>\n    </div>\n  );\n};\n\nAlertSuccessMessage.displayName = 'AlertSuccessMessage';\n\ninterface ErrorDetailsLinkProps extends HTMLAttributes<HTMLDivElement> {\n  link?: string;\n}\n\nconst ErrorDetailsLink = ({ link }: ErrorDetailsLinkProps) => {\n  const theme = useTheme2();\n\n  const styles = {\n    content: css({\n      color: theme.colors.text.secondary,\n      paddingBlock: theme.spacing(1),\n      maxHeight: '50vh',\n      overflowY: 'auto',\n    }),\n  };\n  if (!link) {\n    return <></>;\n  }\n  const isValidUrl = /^(http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?$/.test(link);\n  if (!isValidUrl) {\n    return <></>;\n  }\n  return (\n    <div className={styles.content}>\n      <Trans i18nKey=\"data-source-testing-status-page.error-more-details-link\">\n        Click{' '}\n        <Link\n          aria-label={t(\n            'datasources.error-details-link.aria-label-more-details-about-the-error',\n            'More details about the error'\n          )}\n          className={'external-link'}\n          href={link}\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          here\n        </Link>{' '}\n        to learn more about this error.\n      </Trans>\n    </div>\n  );\n};\n\nErrorDetailsLink.displayName = 'ErrorDetailsLink';\n\nconst alertVariants = new Set(['success', 'info', 'warning', 'error']);\nconst isAlertVariant = (str: string): str is AlertVariant => alertVariants.has(str);\nconst getAlertVariant = (status: string): AlertVariant => {\n  if (status.toLowerCase() === 'ok') {\n    return 'success';\n  }\n  return isAlertVariant(status) ? status : 'info';\n};\n\nexport function DataSourceTestingStatus({ testingStatus, exploreUrl, dataSource }: Props) {\n  const severity = getAlertVariant(testingStatus?.status ?? 'error');\n  const message = testingStatus?.message;\n  const detailsMessage = testingStatus?.details?.message;\n  const detailsVerboseMessage = testingStatus?.details?.verboseMessage;\n  const errorDetailsLink = testingStatus?.details?.errorDetailsLink;\n  const onDashboardLinkClicked = () => {\n    trackCreateDashboardClicked({\n      grafana_version: config.buildInfo.version,\n      datasource_uid: dataSource.uid,\n      plugin_name: dataSource.typeName,\n      path: window.location.pathname,\n    });\n  };\n  const styles = useStyles2(getTestingStatusStyles);\n\n  // Extensions context\n  const extensionStatusContext: PluginExtensionDataSourceConfigStatusContext = {\n    dataSource: {\n      type: dataSource.type,\n      uid: dataSource.uid,\n      name: dataSource.name,\n      typeName: dataSource.typeName,\n    },\n    testingStatus,\n    severity,\n  };\n\n  const { links: allStatusLinks } = usePluginLinks({\n    extensionPointId: PluginExtensionPoints.DataSourceConfigStatus,\n    context: extensionStatusContext,\n    limitPerPlugin: 1,\n  });\n\n  const { components: extensionComponents } = usePluginComponents<PluginExtensionDataSourceConfigStatusContext>({\n    extensionPointId: PluginExtensionPoints.DataSourceConfigStatus,\n  });\n\n  // Existing error-specific extensions (backward compatibility)\n  const { links: allErrorLinks } = usePluginLinks({\n    extensionPointId: PluginExtensionPoints.DataSourceConfigErrorStatus,\n    context: {\n      dataSource: {\n        type: dataSource.type,\n        uid: dataSource.uid,\n        name: dataSource.name,\n      },\n      testingStatus,\n    },\n    limitPerPlugin: 3,\n  });\n\n  // Filter to only allow grafana-owned plugins\n  const statusLinks = allStatusLinks.filter((link) => ALLOWED_DATASOURCE_EXTENSION_PLUGINS.includes(link.pluginId));\n  const errorLinks = allErrorLinks.filter((link) => ALLOWED_DATASOURCE_EXTENSION_PLUGINS.includes(link.pluginId));\n\n  // Combine links: show error-specific only for errors, status-general for all\n  const extensionLinks = severity === 'error' ? [...statusLinks, ...errorLinks] : statusLinks;\n\n  if (message) {\n    return (\n      <div className={cx('gf-form-group', styles.container)}>\n        <Alert severity={severity} title={message} data-testid={e2eSelectors.pages.DataSource.alert}>\n          {testingStatus?.details && (\n            <>\n              {detailsMessage ? <>{String(detailsMessage)}</> : null}\n              {severity === 'success' ? (\n                <AlertSuccessMessage\n                  title={message}\n                  exploreUrl={exploreUrl}\n                  dataSourceId={dataSource.uid}\n                  onDashboardLinkClicked={onDashboardLinkClicked}\n                />\n              ) : null}\n              {severity === 'error' && errorDetailsLink ? <ErrorDetailsLink link={String(errorDetailsLink)} /> : null}\n              {detailsVerboseMessage ? (\n                <details style={{ whiteSpace: 'pre-wrap' }}>{String(detailsVerboseMessage)}</details>\n              ) : null}\n            </>\n          )}\n          {extensionLinks.length > 0 && (\n            <div className={styles.linksContainer}>\n              {extensionLinks.map((link) => {\n                return (\n                  <a\n                    key={link.id}\n                    href={link.path ? sanitizeUrl(link.path) : undefined}\n                    onClick={link.onClick}\n                    className={styles.pluginLink}\n                    title={link.description}\n                  >\n                    {link.title}\n                  </a>\n                );\n              })}\n            </div>\n          )}\n          {extensionComponents.length > 0 && (\n            <div className={styles.linksContainer}>\n              {renderLimitedComponents<PluginExtensionDataSourceConfigStatusContext>({\n                props: extensionStatusContext,\n                components: extensionComponents,\n                limit: 2,\n                pluginId: ALLOWED_DATASOURCE_EXTENSION_PLUGINS,\n              })}\n            </div>\n          )}\n        </Alert>\n      </div>\n    );\n  }\n\n  return null;\n}\n\nconst getTestingStatusStyles = (theme: GrafanaTheme2) => ({\n  container: css({\n    paddingTop: theme.spacing(3),\n  }),\n  moreLink: css({\n    marginBlock: theme.spacing(1),\n  }),\n  linksContainer: css({\n    display: 'flex',\n    justifyContent: 'flex-end',\n    marginTop: theme.spacing(1),\n  }),\n  pluginLink: css({\n    color: theme.colors.text.link,\n    textDecoration: 'none',\n    marginLeft: theme.spacing(2),\n    fontSize: theme.typography.bodySmall.fontSize,\n    fontWeight: theme.typography.fontWeightMedium,\n    '&:hover': {\n      color: theme.colors.text.primary,\n      textDecoration: 'underline',\n    },\n    '&:first-child': {\n      marginLeft: 0,\n    },\n  }),\n});\n","import { AnyAction } from '@reduxjs/toolkit';\nimport { useMemo } from 'react';\nimport * as React from 'react';\n\nimport {\n  DataSourcePluginContextProvider,\n  DataSourcePluginMeta,\n  DataSourceSettings as DataSourceSettingsType,\n  PluginExtensionPoints,\n  PluginExtensionDataSourceConfigContext,\n  DataSourceUpdatedSuccessfully,\n} from '@grafana/data';\nimport { getDataSourceSrv, usePluginComponents, UsePluginComponentsResult } from '@grafana/runtime';\nimport appEvents from 'app/core/app_events';\nimport PageLoader from 'app/core/components/PageLoader/PageLoader';\nimport { DataSourceSettingsState } from 'app/types/datasources';\nimport { useDispatch } from 'app/types/store';\n\nimport {\n  useDataSource,\n  useDataSourceExploreUrl,\n  useDataSourceMeta,\n  useDataSourceRights,\n  useDataSourceSettings,\n  useDeleteLoadedDataSource,\n  useInitDataSourceSettings,\n  useTestDataSource,\n  useUpdateDatasource,\n} from '../state/hooks';\nimport { setIsDefault, setDataSourceName, dataSourceLoaded } from '../state/reducers';\nimport { trackDsConfigClicked, trackDsConfigUpdated } from '../tracking';\nimport { DataSourceRights } from '../types';\n\nimport { BasicSettings } from './BasicSettings';\nimport { ButtonRow } from './ButtonRow';\nimport { CloudInfoBox } from './CloudInfoBox';\nimport { DataSourceLoadError } from './DataSourceLoadError';\nimport { DataSourceMissingRightsMessage } from './DataSourceMissingRightsMessage';\nimport { DataSourcePluginConfigPage } from './DataSourcePluginConfigPage';\nimport { DataSourcePluginSettings } from './DataSourcePluginSettings';\nimport { DataSourcePluginState } from './DataSourcePluginState';\nimport { DataSourceReadOnlyMessage } from './DataSourceReadOnlyMessage';\nimport { DataSourceTestingStatus } from './DataSourceTestingStatus';\n\nexport type Props = {\n  // The ID of the data source\n  uid: string;\n  // The ID of the custom datasource setting page\n  pageId?: string | null;\n};\n\nexport function EditDataSource({ uid, pageId }: Props) {\n  useInitDataSourceSettings(uid);\n\n  const dispatch = useDispatch();\n  const dataSource = useDataSource(uid);\n  const dataSourceMeta = useDataSourceMeta(dataSource.type);\n  const dataSourceSettings = useDataSourceSettings();\n  const dataSourceRights = useDataSourceRights(uid);\n  const exploreUrl = useDataSourceExploreUrl(uid);\n  const onDelete = useDeleteLoadedDataSource();\n  const onTest = useTestDataSource(uid);\n  const onUpdate = useUpdateDatasource();\n  const onDefaultChange = (value: boolean) => dispatch(setIsDefault(value));\n  const onNameChange = (name: string) => dispatch(setDataSourceName(name));\n  const onOptionsChange = (ds: DataSourceSettingsType) => dispatch(dataSourceLoaded(ds));\n\n  return (\n    <EditDataSourceView\n      pageId={pageId}\n      dataSource={dataSource}\n      dataSourceMeta={dataSourceMeta}\n      dataSourceSettings={dataSourceSettings}\n      dataSourceRights={dataSourceRights}\n      exploreUrl={exploreUrl}\n      onDelete={onDelete}\n      onDefaultChange={onDefaultChange}\n      onNameChange={onNameChange}\n      onOptionsChange={onOptionsChange}\n      onTest={onTest}\n      onUpdate={onUpdate}\n    />\n  );\n}\n\nexport type ViewProps = {\n  pageId?: string | null;\n  dataSource: DataSourceSettingsType;\n  dataSourceMeta: DataSourcePluginMeta;\n  dataSourceSettings: DataSourceSettingsState;\n  dataSourceRights: DataSourceRights;\n  exploreUrl: string;\n  onDelete: () => void;\n  onDefaultChange: (isDefault: boolean) => AnyAction;\n  onNameChange: (name: string) => AnyAction;\n  onOptionsChange: (dataSource: DataSourceSettingsType) => AnyAction;\n  onTest: () => void;\n  onUpdate: (dataSource: DataSourceSettingsType) => Promise<DataSourceSettingsType>;\n};\n\nexport function EditDataSourceView({\n  pageId,\n  dataSource,\n  dataSourceMeta,\n  dataSourceSettings,\n  dataSourceRights,\n  exploreUrl,\n  onDelete,\n  onDefaultChange,\n  onNameChange,\n  onOptionsChange,\n  onTest,\n  onUpdate,\n}: ViewProps) {\n  const { plugin, loadError, testingStatus, loading } = dataSourceSettings;\n  const { readOnly, hasWriteRights, hasDeleteRights } = dataSourceRights;\n  const hasDataSource = dataSource.id > 0 && dataSource.uid;\n  const { components, isLoading } = useDataSourceConfigPluginExtensions();\n  // This is a workaround to avoid race-conditions between the `setSecureJsonData()` and `setJsonData()` calls instantiated by the extension components.\n  // Both those exposed functions are calling `onOptionsChange()` with the new jsonData and secureJsonData, and if they are called in the same tick, the Redux store\n  // (which provides the `datasource` object) won't be updated yet, and they override each others `jsonData` value.\n  let currentJsonData = dataSource.jsonData;\n  let currentSecureJsonData = dataSource.secureJsonData;\n\n  const isPDCInjected = components.some((component) => component.meta.pluginId === 'grafana-pdc-app');\n\n  const dataSourceWithIsPDCInjected = {\n    ...dataSource,\n    jsonData: {\n      ...dataSource.jsonData,\n      pdcInjected: isPDCInjected,\n    },\n  };\n\n  const dsi = getDataSourceSrv()?.getInstanceSettings(dataSource.uid);\n\n  const onSubmit = async (e: React.MouseEvent<HTMLButtonElement> | React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    trackDsConfigClicked('save_and_test');\n\n    try {\n      await onUpdate({ ...dataSource });\n      trackDsConfigUpdated({ item: 'success' });\n      appEvents.publish(new DataSourceUpdatedSuccessfully());\n    } catch (error) {\n      trackDsConfigUpdated({ item: 'fail' });\n      return;\n    }\n\n    onTest();\n  };\n\n  if (loading || isLoading) {\n    return <PageLoader />;\n  }\n\n  if (loadError || !hasDataSource || !dsi) {\n    return (\n      <DataSourceLoadError\n        notFound={!hasDataSource || !dsi}\n        dataSourceRights={dataSourceRights}\n        onDelete={() => {\n          trackDsConfigClicked('delete');\n          onDelete();\n        }}\n      />\n    );\n  }\n\n  if (pageId) {\n    return (\n      <DataSourcePluginContextProvider instanceSettings={dsi}>\n        <DataSourcePluginConfigPage pageId={pageId} plugin={plugin} />\n      </DataSourcePluginContextProvider>\n    );\n  }\n\n  return (\n    <form onSubmit={onSubmit}>\n      {!hasWriteRights && <DataSourceMissingRightsMessage />}\n      {readOnly && <DataSourceReadOnlyMessage />}\n      {dataSourceMeta.state && <DataSourcePluginState state={dataSourceMeta.state} />}\n\n      <CloudInfoBox dataSource={dataSource} />\n\n      <BasicSettings\n        dataSourceName={dataSource.name}\n        isDefault={dataSource.isDefault}\n        onDefaultChange={onDefaultChange}\n        onNameChange={onNameChange}\n        disabled={readOnly || !hasWriteRights}\n      />\n\n      {plugin && (\n        <DataSourcePluginContextProvider instanceSettings={dsi}>\n          <DataSourcePluginSettings\n            plugin={plugin}\n            dataSource={dataSourceWithIsPDCInjected}\n            dataSourceMeta={dataSourceMeta}\n            onModelChange={onOptionsChange}\n          />\n        </DataSourcePluginContextProvider>\n      )}\n\n      {/* Extension point */}\n      {components.map((Component) => {\n        return (\n          <div key={Component.meta.id}>\n            <Component\n              context={{\n                dataSource,\n                dataSourceMeta,\n                testingStatus,\n                setJsonData: (jsonData) => {\n                  currentJsonData = { ...currentJsonData, ...jsonData };\n                  onOptionsChange({\n                    ...dataSource,\n                    secureJsonData: { ...currentSecureJsonData },\n                    jsonData: currentJsonData,\n                  });\n                },\n                setSecureJsonData: (secureJsonData) => {\n                  currentSecureJsonData = { ...currentSecureJsonData, ...secureJsonData };\n                  onOptionsChange({\n                    ...dataSource,\n                    jsonData: { ...currentJsonData },\n                    secureJsonData: currentSecureJsonData,\n                  });\n                },\n              }}\n            />\n          </div>\n        );\n      })}\n\n      <DataSourceTestingStatus testingStatus={testingStatus} exploreUrl={exploreUrl} dataSource={dataSource} />\n\n      <ButtonRow\n        onSubmit={onSubmit}\n        onDelete={() => {\n          trackDsConfigClicked('delete');\n          onDelete();\n        }}\n        onTest={() => {\n          trackDsConfigClicked('test');\n          onTest();\n        }}\n        canDelete={!readOnly && hasDeleteRights}\n        canSave={!readOnly && hasWriteRights}\n      />\n    </form>\n  );\n}\n\ntype DataSourceConfigPluginExtensionProps = {\n  context: PluginExtensionDataSourceConfigContext;\n};\n\nfunction useDataSourceConfigPluginExtensions(): UsePluginComponentsResult<DataSourceConfigPluginExtensionProps> {\n  const { components, isLoading } = usePluginComponents<DataSourceConfigPluginExtensionProps>({\n    extensionPointId: PluginExtensionPoints.DataSourceConfig,\n  });\n\n  return useMemo(() => {\n    const allowedComponents = components.filter((component) => {\n      switch (component.meta.pluginId) {\n        case 'grafana-pdc-app':\n        case 'grafana-auth-app':\n          return true;\n        default:\n          return false;\n      }\n    });\n\n    return { components: allowedComponents, isLoading };\n  }, [components, isLoading]);\n}\n","import { PluginExtensionPoints } from '@grafana/data';\nimport { Trans, t } from '@grafana/i18n';\nimport { config, usePluginLinks, useFavoriteDatasources, getDataSourceSrv } from '@grafana/runtime';\nimport { Button, Dropdown, LinkButton, Menu, Icon, IconButton } from '@grafana/ui';\nimport { contextSrv } from 'app/core/core';\n\nimport { ALLOWED_DATASOURCE_EXTENSION_PLUGINS } from '../constants';\nimport { useDataSource } from '../state/hooks';\nimport { trackCreateDashboardClicked, trackDsConfigClicked, trackExploreClicked } from '../tracking';\nimport { constructDataSourceExploreUrl } from '../utils';\n\ninterface Props {\n  uid: string;\n}\n\nconst FavoriteButton = ({ uid }: { uid: string }) => {\n  const favoriteDataSources = useFavoriteDatasources();\n  const dataSourceInstance = getDataSourceSrv().getInstanceSettings(uid);\n  const isFavorite = dataSourceInstance ? favoriteDataSources.isFavoriteDatasource(dataSourceInstance.uid) : false;\n\n  return (\n    favoriteDataSources.enabled &&\n    dataSourceInstance &&\n    !dataSourceInstance.meta.builtIn && (\n      <IconButton\n        key={`favorite-${isFavorite ? 'favorite-mono' : 'star-default'}`}\n        name={isFavorite ? 'favorite' : 'star'}\n        iconType={isFavorite ? 'mono' : 'default'}\n        onClick={() =>\n          isFavorite\n            ? favoriteDataSources.removeFavoriteDatasource(dataSourceInstance)\n            : favoriteDataSources.addFavoriteDatasource(dataSourceInstance)\n        }\n        disabled={favoriteDataSources.isLoading}\n        tooltip={\n          isFavorite\n            ? t('datasources.edit-data-source-actions.remove-favorite', 'Remove from favorites')\n            : t('datasources.edit-data-source-actions.add-favorite', 'Add to favorites')\n        }\n        data-testid=\"favorite-button\"\n      />\n    )\n  );\n};\n\nexport function EditDataSourceActions({ uid }: Props) {\n  const dataSource = useDataSource(uid);\n  const hasExploreRights = contextSrv.hasAccessToExplore();\n\n  // Fetch plugin extension links\n  const { links: allLinks, isLoading } = usePluginLinks({\n    extensionPointId: PluginExtensionPoints.DataSourceConfigActions,\n    context: {\n      dataSource: {\n        type: dataSource.type,\n        uid: dataSource.uid,\n        name: dataSource.name,\n        typeName: dataSource.typeName,\n      },\n    },\n    limitPerPlugin: 1,\n  });\n\n  const links = allLinks.filter((link) => ALLOWED_DATASOURCE_EXTENSION_PLUGINS.includes(link.pluginId));\n\n  // Only render dropdown if there are multiple actions to show\n  const hasActions = !isLoading && links.length > 0;\n\n  const handleExploreClick = () => {\n    trackDsConfigClicked('explore');\n    trackExploreClicked({\n      grafana_version: config.buildInfo.version,\n      datasource_uid: dataSource.uid,\n      plugin_name: dataSource.typeName,\n      path: window.location.pathname,\n    });\n  };\n\n  const exploreMenu = (\n    <Menu>\n      <Menu.Item\n        label={t('datasources.edit-data-source-actions.open-in-explore', 'Open in Explore View')}\n        url={constructDataSourceExploreUrl(dataSource)}\n        onClick={handleExploreClick}\n        icon=\"compass\"\n      />\n      {links.map((link) => (\n        <Menu.Item key={link.id} label={link.title} url={link.path} onClick={link.onClick} icon={link.icon} />\n      ))}\n    </Menu>\n  );\n\n  if (!dataSource.uid) {\n    return null;\n  }\n\n  return (\n    <>\n      <FavoriteButton uid={uid} />\n      {hasExploreRights && (\n        <>\n          {!hasActions ? (\n            <LinkButton\n              variant=\"secondary\"\n              size=\"sm\"\n              href={constructDataSourceExploreUrl(dataSource)}\n              onClick={handleExploreClick}\n            >\n              <Trans i18nKey=\"datasources.edit-data-source-actions.explore-data\">Explore data</Trans>\n            </LinkButton>\n          ) : (\n            <Dropdown overlay={exploreMenu}>\n              <Button variant=\"secondary\" size=\"sm\">\n                <Trans i18nKey=\"datasources.edit-data-source-actions.explore-data\">Explore data</Trans>\n                <Icon name=\"angle-down\" />\n              </Button>\n            </Dropdown>\n          )}\n        </>\n      )}\n      <LinkButton\n        size=\"sm\"\n        variant=\"secondary\"\n        href={`dashboard/new-with-ds/${dataSource.uid}`}\n        onClick={() => {\n          trackDsConfigClicked('build_a_dashboard');\n          trackCreateDashboardClicked({\n            grafana_version: config.buildInfo.version,\n            datasource_uid: dataSource.uid,\n            plugin_name: dataSource.typeName,\n            path: window.location.pathname,\n          });\n        }}\n      >\n        <Trans i18nKey=\"datasources.edit-data-source-actions.build-a-dashboard\">Build a dashboard</Trans>\n      </LinkButton>\n    </>\n  );\n}\n","import { t } from '@grafana/i18n';\nimport { Badge } from '@grafana/ui';\nimport { PageInfoItem } from 'app/core/components/Page/types';\n\ntype DataSourceInfo = {\n  dataSourcePluginName: string;\n  alertingSupported: boolean;\n};\n\nexport const useDataSourceInfo = (dataSourceInfo: DataSourceInfo): PageInfoItem[] => {\n  const info: PageInfoItem[] = [];\n  const alertingEnabled = dataSourceInfo.alertingSupported;\n\n  if (!dataSourceInfo.dataSourcePluginName) {\n    return info;\n  }\n\n  info.push({\n    label: t('datasources.use-data-source-info.label.type', 'Type'),\n    value: dataSourceInfo.dataSourcePluginName,\n  });\n\n  info.push({\n    label: t('datasources.use-data-source-info.label.alerting', 'Alerting'),\n    value: (\n      <Badge\n        color={alertingEnabled ? 'green' : 'red'}\n        text={\n          alertingEnabled\n            ? t('datasources.use-data-source-info.badge-text-supported', 'Supported')\n            : t('datasources.use-data-source-info.badge-text-not-supported', 'Not supported')\n        }\n      ></Badge>\n    ),\n  });\n\n  return info;\n};\n","import { css } from '@emotion/css';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { useStyles2 } from '@grafana/ui';\n\ninterface Props {\n  title: string;\n}\n\nexport function DataSourceTitle({ title }: Props) {\n  const styles = useStyles2(getStyles);\n\n  return (\n    <div className={styles.container}>\n      <h1 className={styles.title}>{title}</h1>\n    </div>\n  );\n}\n\nconst getStyles = (theme: GrafanaTheme2) => {\n  return {\n    container: css({\n      marginBottom: theme.spacing(2),\n      h1: {\n        display: 'inline-block',\n      },\n    }),\n    title: css({\n      display: 'inline-block',\n      margin: '0 0 0 0',\n      maxWidth: '40vw',\n      overflow: 'hidden',\n      textOverflow: 'ellipsis',\n      whiteSpace: 'nowrap',\n    }),\n  };\n};\n","import { Page } from 'app/core/components/Page/Page';\nimport { useDataSourceSettingsNav } from 'app/features/connections/hooks/useDataSourceSettingsNav';\n\nimport { EditDataSource } from '../components/EditDataSource';\nimport { EditDataSourceActions } from '../components/EditDataSourceActions';\nimport { useDataSourceInfo } from '../components/useDataSourceInfo';\n\nimport { DataSourceTitle } from './DataSourceTitle';\n\nexport interface Props {\n  uid: string;\n  pageId: string | null;\n}\n\nexport function DataSourceTabPage({ uid, pageId }: Props) {\n  const { navId, pageNav, dataSourceHeader } = useDataSourceSettingsNav();\n\n  const info = useDataSourceInfo({\n    dataSourcePluginName: pageNav.dataSourcePluginName,\n    alertingSupported: dataSourceHeader.alertingSupported,\n  });\n\n  return (\n    <Page\n      navId={navId}\n      pageNav={pageNav}\n      renderTitle={(title) => <DataSourceTitle title={title} />}\n      info={info}\n      actions={<EditDataSourceActions uid={uid} />}\n    >\n      <Page.Contents>\n        <EditDataSource uid={uid} pageId={pageId} />\n      </Page.Contents>\n    </Page>\n  );\n}\n\nexport default DataSourceTabPage;\n","import { useLocation, useParams } from 'react-router-dom-v5-compat';\n\nimport DataSourceTabPage from 'app/features/datasources/components/DataSourceTabPage';\n\nexport function EditDataSourcePage() {\n  const { uid = '' } = useParams<{ uid: string }>();\n  const location = useLocation();\n  const params = new URLSearchParams(location.search);\n  const pageId = params.get('page');\n\n  return <DataSourceTabPage uid={uid} pageId={pageId} />;\n}\n","import { css } from '@emotion/css';\n\nimport { GrafanaTheme2, PluginErrorCode, PluginSignatureStatus, PluginType } from '@grafana/data';\nimport { selectors } from '@grafana/e2e-selectors';\nimport { Trans, t } from '@grafana/i18n';\nimport { Alert, List, PluginSignatureBadge, Stack, TextLink, useStyles2 } from '@grafana/ui';\n\nimport { useGetErrors, useFetchStatus } from '../admin/state/hooks';\n\ntype PluginsErrorInfoProps = {\n  filterByPluginType?: PluginType;\n};\n\nexport function PluginsErrorsInfo({ filterByPluginType }: PluginsErrorInfoProps) {\n  let errors = useGetErrors(filterByPluginType);\n  const { isLoading } = useFetchStatus();\n  const styles = useStyles2(getStyles);\n\n  if (isLoading || errors.length === 0) {\n    return null;\n  }\n\n  return (\n    <Alert\n      title={t(\n        'plugins.plugins-errors-info.title-unsigned-plugins',\n        'Unsigned plugins were found during plugin initialization. Grafana Labs cannot guarantee the integrity of these plugins. We recommend only using signed plugins.'\n      )}\n      data-testid={selectors.pages.PluginsList.signatureErrorNotice}\n      severity=\"warning\"\n    >\n      <p>\n        <Trans i18nKey=\"plugins.plugins-errors-info.disabled-list\">\n          The following plugins are disabled and not shown in the list below:\n        </Trans>\n      </p>\n      <List\n        items={errors}\n        className={styles.list}\n        renderItem={(error) => (\n          <div className={styles.wrapper}>\n            <Stack justifyContent=\"flex-start\" alignItems=\"center\">\n              <strong>{error.pluginId}</strong>\n              <PluginSignatureBadge\n                status={mapPluginErrorCodeToSignatureStatus(error.errorCode)}\n                className={styles.badge}\n              />\n            </Stack>\n          </div>\n        )}\n      />\n      <TextLink\n        href=\"https://grafana.com/docs/grafana/latest/plugins/plugin-signatures/\"\n        external\n        className={styles.docsLink}\n      >\n        <Trans i18nKey=\"plugins.plugins-errors-info.read-more-about-plugin-signing\">\n          Read more about plugin signing\n        </Trans>\n      </TextLink>\n    </Alert>\n  );\n}\n\nfunction mapPluginErrorCodeToSignatureStatus(code: PluginErrorCode) {\n  switch (code) {\n    case PluginErrorCode.invalidSignature:\n      return PluginSignatureStatus.invalid;\n    case PluginErrorCode.missingSignature:\n      return PluginSignatureStatus.missing;\n    case PluginErrorCode.modifiedSignature:\n      return PluginSignatureStatus.modified;\n    default:\n      return PluginSignatureStatus.missing;\n  }\n}\n\nfunction getStyles(theme: GrafanaTheme2) {\n  return {\n    list: css({\n      listStyleType: 'circle',\n    }),\n    wrapper: css({\n      marginTop: theme.spacing(1),\n    }),\n    badge: css({\n      marginTop: 0,\n    }),\n    docsLink: css({\n      display: 'inline-block',\n      marginTop: theme.spacing(2),\n    }),\n  };\n}\n","import { css, cx } from '@emotion/css';\n\nimport { DataSourcePluginMeta, GrafanaTheme2 } from '@grafana/data';\nimport { selectors as e2eSelectors } from '@grafana/e2e-selectors';\nimport { t } from '@grafana/i18n';\nimport { Card, LinkButton, PluginSignatureBadge, useStyles2 } from '@grafana/ui';\n\nexport type Props = {\n  dataSourcePlugin: DataSourcePluginMeta;\n  onClick: () => void;\n};\n\nexport function DataSourceTypeCard({ onClick, dataSourcePlugin }: Props) {\n  const isPhantom = dataSourcePlugin.module === 'phantom';\n  const isClickable = !isPhantom && !dataSourcePlugin.unlicensed;\n  const learnMoreLink = dataSourcePlugin.info?.links?.length > 0 ? dataSourcePlugin.info.links[0] : null;\n  const learnMoreLinkTarget = learnMoreLink?.target ?? '_blank';\n\n  const styles = useStyles2(getStyles);\n\n  return (\n    <Card className={cx(styles.card, 'card-parent')} onClick={isClickable ? onClick : () => {}}>\n      {/* Name */}\n      <Card.Heading\n        className={styles.heading}\n        aria-label={e2eSelectors.pages.AddDataSource.dataSourcePluginsV2(dataSourcePlugin.name)}\n      >\n        {dataSourcePlugin.name}\n      </Card.Heading>\n\n      {/* Logo */}\n      <Card.Figure align=\"center\" className={styles.figure}>\n        <img className={styles.logo} src={dataSourcePlugin.info.logos.small} alt=\"\" />\n      </Card.Figure>\n\n      <Card.Description className={styles.description}>{dataSourcePlugin.info.description}</Card.Description>\n\n      {/* Signature */}\n      {!isPhantom && (\n        <Card.Meta className={styles.meta}>\n          <PluginSignatureBadge status={dataSourcePlugin.signature} />\n        </Card.Meta>\n      )}\n\n      {/* Learn more */}\n      <Card.Actions className={styles.actions}>\n        {learnMoreLink && (\n          <LinkButton\n            aria-label={t(\n              'datasources.data-source-type-card.aria-label-learn-more',\n              '{{dataSourcePluginName}}, learn more.',\n              { dataSourcePluginName: dataSourcePlugin.name }\n            )}\n            href={`${learnMoreLink.url}?utm_source=grafana_add_ds`}\n            onClick={(e) => e.stopPropagation()}\n            rel=\"noopener\"\n            target={learnMoreLinkTarget}\n            variant=\"secondary\"\n          >\n            {learnMoreLink.name}\n          </LinkButton>\n        )}\n      </Card.Actions>\n    </Card>\n  );\n}\n\nfunction getStyles(theme: GrafanaTheme2) {\n  return {\n    heading: css({\n      fontSize: theme.v1.typography.heading.h5,\n      fontWeight: 'inherit',\n    }),\n    figure: css({\n      width: 'inherit',\n      marginRight: '0px',\n      '> img': {\n        width: theme.spacing(7),\n      },\n    }),\n    meta: css({\n      marginTop: '6px',\n      position: 'relative',\n    }),\n    description: css({\n      margin: '0px',\n      fontSize: theme.typography.size.sm,\n    }),\n    actions: css({\n      position: 'relative',\n      alignSelf: 'center',\n      marginTop: '0px',\n      opacity: 0,\n\n      '.card-parent:hover &, .card-parent:focus-within &': {\n        opacity: 1,\n      },\n    }),\n    card: css({\n      gridTemplateAreas: `\n        \"Figure   Heading   Actions\"\n        \"Figure Description Actions\"\n        \"Figure    Meta     Actions\"\n        \"Figure     -       Actions\"`,\n    }),\n    logo: css({\n      marginRight: theme.v1.spacing.lg,\n      marginLeft: theme.v1.spacing.sm,\n      width: theme.spacing(7),\n      maxHeight: theme.spacing(7),\n    }),\n  };\n}\n","import { css } from '@emotion/css';\n\nimport { DataSourcePluginMeta } from '@grafana/data';\nimport { List } from '@grafana/ui';\n\nimport { DataSourceTypeCard } from './DataSourceTypeCard';\n\nexport type Props = {\n  // The list of data-source plugins to display\n  dataSourcePlugins: DataSourcePluginMeta[];\n  // Called when a data-source plugin is clicked on in the list\n  onClickDataSourceType: (dataSource: DataSourcePluginMeta) => void;\n};\n\nexport function DataSourceTypeCardList({ dataSourcePlugins, onClickDataSourceType }: Props) {\n  if (!dataSourcePlugins || !dataSourcePlugins.length) {\n    return null;\n  }\n\n  return (\n    <List\n      items={dataSourcePlugins}\n      getItemKey={(item) => item.id.toString()}\n      renderItem={(item) => <DataSourceTypeCard dataSourcePlugin={item} onClick={() => onClickDataSourceType(item)} />}\n      className={css({\n        '> li': {\n          marginBottom: '2px',\n        },\n      })}\n    />\n  );\n}\n","import { css } from '@emotion/css';\nimport { useCallback } from 'react';\n\nimport { DataSourcePluginMeta, GrafanaTheme2 } from '@grafana/data';\nimport { Trans } from '@grafana/i18n';\nimport { reportInteraction } from '@grafana/runtime';\nimport { LinkButton, useStyles2 } from '@grafana/ui';\nimport { DataSourcePluginCategory } from 'app/types/datasources';\n\nimport { ROUTES } from '../../connections/constants';\n\nimport { DataSourceTypeCardList } from './DataSourceTypeCardList';\n\nexport type Props = {\n  // The list of data-source plugin categories to display\n  categories: DataSourcePluginCategory[];\n\n  // Called when a data-source plugin is clicked on in the list\n  onClickDataSourceType: (dataSource: DataSourcePluginMeta) => void;\n};\n\nexport function DataSourceCategories({ categories, onClickDataSourceType }: Props) {\n  const moreDataSourcesLink = `${ROUTES.AddNewConnection}?cat=data-source`;\n  const styles = useStyles2(getStyles);\n\n  const handleClick = useCallback(() => {\n    reportInteraction('connections_add_datasource_find_more_ds_plugins_clicked', {\n      targetPath: moreDataSourcesLink,\n      path: window.location.pathname,\n      creator_team: 'grafana_plugins_catalog',\n      schema_version: '1.0.0',\n    });\n  }, [moreDataSourcesLink]);\n\n  return (\n    <>\n      {/* Categories */}\n      {categories.map(({ id, title, plugins }) => (\n        <div className={styles.category} key={id}>\n          <div className={styles.header} id={id}>\n            {title}\n          </div>\n          <DataSourceTypeCardList dataSourcePlugins={plugins} onClickDataSourceType={onClickDataSourceType} />\n        </div>\n      ))}\n\n      {/* Find more */}\n      <div className={styles.more}>\n        <LinkButton variant=\"secondary\" href={moreDataSourcesLink} onClick={handleClick} target=\"_self\" rel=\"noopener\">\n          <Trans i18nKey=\"datasources.data-source-categories.find-more-data-source-plugins\">\n            Find more data source plugins\n          </Trans>\n        </LinkButton>\n      </div>\n    </>\n  );\n}\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  category: css({\n    marginBottom: theme.spacing(2),\n  }),\n  header: css({\n    fontSize: theme.typography.h5.fontSize,\n    marginBottom: theme.spacing(1),\n  }),\n  more: css({\n    margin: theme.spacing(4),\n    textAlign: 'center',\n  }),\n});\n","import { Action } from 'redux';\n\nimport { DataSourcePluginMeta, PluginType } from '@grafana/data';\nimport { Trans, t } from '@grafana/i18n';\nimport { LinkButton, FilterInput } from '@grafana/ui';\nimport PageLoader from 'app/core/components/PageLoader/PageLoader';\nimport { PluginsErrorsInfo } from 'app/features/plugins/components/PluginsErrorsInfo';\nimport { DataSourcePluginCategory } from 'app/types/datasources';\nimport { StoreState, useDispatch, useSelector } from 'app/types/store';\n\nimport { ROUTES } from '../../connections/constants';\nimport { DataSourceCategories } from '../components/DataSourceCategories';\nimport { DataSourceTypeCardList } from '../components/DataSourceTypeCardList';\nimport { useAddDatasource, useLoadDataSourcePlugins } from '../state/hooks';\nimport { setDataSourceTypeSearchQuery } from '../state/reducers';\nimport { getFilteredDataSourcePlugins } from '../state/selectors';\n\nexport function NewDataSource() {\n  useLoadDataSourcePlugins();\n\n  const dispatch = useDispatch();\n  const filteredDataSources = useSelector((s: StoreState) => getFilteredDataSourcePlugins(s.dataSources));\n  const searchQuery = useSelector((s: StoreState) => s.dataSources.dataSourceTypeSearchQuery);\n  const isLoadingDatasourcePlugins = useSelector((s: StoreState) => s.dataSources.isLoadingDataSourcePlugins);\n  const dataSourceCategories = useSelector((s: StoreState) => s.dataSources.categories);\n  const onAddDataSource = useAddDatasource();\n  const onSetSearchQuery = (q: string) => dispatch(setDataSourceTypeSearchQuery(q));\n\n  return (\n    <NewDataSourceView\n      dataSources={filteredDataSources}\n      dataSourceCategories={dataSourceCategories}\n      searchQuery={searchQuery}\n      isLoading={isLoadingDatasourcePlugins}\n      onAddDataSource={onAddDataSource}\n      onSetSearchQuery={onSetSearchQuery}\n    />\n  );\n}\n\nexport type ViewProps = {\n  dataSources: DataSourcePluginMeta[];\n  dataSourceCategories: DataSourcePluginCategory[];\n  searchQuery: string;\n  isLoading: boolean;\n  onAddDataSource: (dataSource: DataSourcePluginMeta) => void;\n  onSetSearchQuery: (q: string) => Action;\n};\n\nexport function NewDataSourceView({\n  dataSources,\n  dataSourceCategories,\n  searchQuery,\n  isLoading,\n  onAddDataSource,\n  onSetSearchQuery,\n}: ViewProps) {\n  if (isLoading) {\n    return <PageLoader />;\n  }\n\n  return (\n    <>\n      {/* Search */}\n      <div className=\"page-action-bar\">\n        <FilterInput\n          value={searchQuery}\n          onChange={onSetSearchQuery}\n          placeholder={t(\n            'datasources.new-data-source-view.placeholder-filter-by-name-or-type',\n            'Filter by name or type'\n          )}\n        />\n        <div className=\"page-action-bar__spacer\" />\n        <LinkButton href={ROUTES.DataSources} fill=\"outline\" variant=\"secondary\" icon=\"arrow-left\">\n          <Trans i18nKey=\"datasources.new-data-source-view.cancel\">Cancel</Trans>\n        </LinkButton>\n      </div>\n\n      {/* Show datasource plugin errors while not searching for anything specific */}\n      {!searchQuery && <PluginsErrorsInfo filterByPluginType={PluginType.datasource} />}\n\n      {/* Search results */}\n      <div>\n        {searchQuery && (\n          <DataSourceTypeCardList dataSourcePlugins={dataSources} onClickDataSourceType={onAddDataSource} />\n        )}\n        {!searchQuery && (\n          <DataSourceCategories categories={dataSourceCategories} onClickDataSourceType={onAddDataSource} />\n        )}\n      </div>\n    </>\n  );\n}\n","import { t } from '@grafana/i18n';\nimport { Page } from 'app/core/components/Page/Page';\nimport { NewDataSource } from 'app/features/datasources/components/NewDataSource';\n\nexport function NewDataSourcePage() {\n  return (\n    <Page\n      navId={'connections-datasources'}\n      pageNav={{\n        text: t('connections.new-data-source-page.text.add-data-source', 'Add data source'),\n        subTitle: t('connections.new-data-source-page.subTitle.choose-a-data-source-type', 'Choose a data source type'),\n        active: true,\n      }}\n    >\n      <Page.Contents>\n        <NewDataSource />\n      </Page.Contents>\n    </Page>\n  );\n}\n","import { Navigate, Routes, Route, useLocation } from 'react-router-dom-v5-compat';\n\nimport { StoreState, useSelector } from 'app/types/store';\n\nimport { ROUTES } from './constants';\nimport { AddNewConnectionPage } from './pages/AddNewConnectionPage';\nimport ConnectionsHomePage from './pages/ConnectionsHomePage';\nimport { DataSourceDashboardsPage } from './pages/DataSourceDashboardsPage';\nimport { DataSourceDetailsPage } from './pages/DataSourceDetailsPage';\nimport { DataSourcesListPage } from './pages/DataSourcesListPage';\nimport { EditDataSourcePage } from './pages/EditDataSourcePage';\nimport { NewDataSourcePage } from './pages/NewDataSourcePage';\n\nfunction RedirectToAddNewConnection() {\n  const { search } = useLocation();\n  return (\n    <Navigate\n      replace\n      to={{\n        pathname: ROUTES.AddNewConnection,\n        search,\n      }}\n    />\n  );\n}\n\nexport default function Connections() {\n  const navIndex = useSelector((state: StoreState) => state.navIndex);\n  const isAddNewConnectionPageOverridden = Boolean(navIndex['standalone-plugin-page-/connections/add-new-connection']);\n\n  return (\n    <Routes>\n      {/* Redirect to \"Add new connection\" by default */}\n      <Route caseSensitive path={'/'} element={<ConnectionsHomePage />} />\n      {/* The route paths need to be relative to the parent path (ROUTES.Base), so we need to remove that part */}\n      <Route caseSensitive path={ROUTES.DataSources.replace(ROUTES.Base, '')} element={<DataSourcesListPage />} />\n      <Route caseSensitive path={ROUTES.DataSourcesNew.replace(ROUTES.Base, '')} element={<NewDataSourcePage />} />\n      <Route\n        caseSensitive\n        path={ROUTES.DataSourcesDetails.replace(ROUTES.Base, '')}\n        element={<DataSourceDetailsPage />}\n      />\n      <Route caseSensitive path={ROUTES.DataSourcesEdit.replace(ROUTES.Base, '')} element={<EditDataSourcePage />} />\n      <Route\n        caseSensitive\n        path={ROUTES.DataSourcesDashboards.replace(ROUTES.Base, '')}\n        element={<DataSourceDashboardsPage />}\n      />\n\n      {/* \"Add new connection\" page - we don't register a route in case a plugin already registers a standalone page for it */}\n      {!isAddNewConnectionPageOverridden && (\n        <Route\n          caseSensitive\n          path={ROUTES.AddNewConnection.replace(ROUTES.Base, '')}\n          element={<AddNewConnectionPage />}\n        />\n      )}\n\n      {/* Redirect from earlier routes to updated routes */}\n      <Route path={ROUTES.ConnectDataOutdated.replace(ROUTES.Base, '')} element={<RedirectToAddNewConnection />} />\n      <Route path={`/your-connections/:page`} element={<Navigate replace to={`${ROUTES.Base}/:page`} />} />\n      <Route\n        path={ROUTES.YourConnectionsOutdated.replace(ROUTES.Base, '')}\n        element={<Navigate replace to={ROUTES.DataSources} />}\n      />\n\n      {/* Not found */}\n      <Route element={<Navigate replace to=\"/notfound\" />} />\n    </Routes>\n  );\n}\n","import { css } from '@emotion/css';\nimport * as React from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { Trans } from '@grafana/i18n';\nimport { useStyles2 } from '@grafana/ui';\n\nimport { CatalogPlugin } from '../../types';\n\ntype Props = {\n  plugin: CatalogPlugin;\n};\n\nexport function PluginUpdateAvailableBadge({ plugin }: Props): React.ReactElement | null {\n  const styles = useStyles2(getStyles);\n  return (\n    <p className={styles.hasUpdate}>\n      <Trans i18nKey=\"plugins.plugin-update-available-badge.update-available\">Update available!</Trans>\n    </p>\n  );\n}\n\nexport const getStyles = (theme: GrafanaTheme2) => {\n  return {\n    hasUpdate: css({\n      color: theme.colors.text.secondary,\n      fontSize: theme.typography.bodySmall.fontSize,\n      marginBottom: 0,\n    }),\n  };\n};\n","import { Trans } from '@grafana/i18n';\nimport { reportInteraction } from '@grafana/runtime';\nimport { Space, TextLink } from '@grafana/ui';\n\nexport const RoadmapLinks = () => {\n  return (\n    <div>\n      <Space v={2} />\n      <TextLink\n        href=\"https://github.com/grafana/grafana/issues/new?assignees=&labels=area%2Fdatasource%2Ctype%2Fnew-plugin-request&projects=&template=3-data_source_request.yaml&title=%5BNew+Data+Source%5D%3A+%3Cname-of-service%3E\"\n        onClick={() => reportInteraction('connections_data_source_request_clicked')}\n        external\n      >\n        <Trans i18nKey=\"connections.connect-data.request-data-source\">Request a new data source</Trans>\n      </TextLink>\n      <br />\n      <TextLink\n        href=\"https://github.com/orgs/grafana/projects/619/views/1?pane=info\"\n        onClick={() => reportInteraction('connections_data_source_roadmap_clicked')}\n        external\n      >\n        <Trans i18nKey=\"connections.connect-data.roadmap\">View roadmap</Trans>\n      </TextLink>\n    </div>\n  );\n};\n","import { css } from '@emotion/css';\nimport { useEffect, useState } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { Trans, t } from '@grafana/i18n';\nimport { config } from '@grafana/runtime';\nimport { UserStorage } from '@grafana/runtime/internal';\nimport { Alert, LinkButton, useStyles2 } from '@grafana/ui';\nimport { contextSrv } from 'app/core/core';\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  alertContent: css({\n    display: 'flex',\n    flexDirection: 'row',\n    padding: 0,\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  }),\n  alertParagraph: css({\n    margin: theme.spacing(0, 1, 0, 0),\n    lineHeight: theme.spacing(theme.components.height.sm),\n  }),\n});\nconst userStorage = new UserStorage('advisor-redirect-notice');\n\nexport function AdvisorRedirectNotice() {\n  const styles = useStyles2(getStyles);\n  const hasAdminRights = contextSrv.hasRole('Admin') || contextSrv.isGrafanaAdmin;\n  const [showNotice, setShowNotice] = useState(false);\n\n  const canUseAdvisor = hasAdminRights && config.featureToggles.grafanaAdvisor && !!config.apps['grafana-advisor-app'];\n\n  useEffect(() => {\n    if (canUseAdvisor) {\n      userStorage.getItem('showNotice').then((showNotice) => {\n        if (showNotice !== 'false') {\n          setShowNotice(true);\n        }\n      });\n    }\n  }, [canUseAdvisor]);\n\n  return showNotice ? (\n    <Alert\n      severity=\"info\"\n      title=\"\"\n      onRemove={() => {\n        userStorage.setItem('showNotice', 'false');\n        setShowNotice(false);\n      }}\n    >\n      <div className={styles.alertContent}>\n        <p className={styles.alertParagraph}>\n          <Trans i18nKey=\"connections.advisor-redirect-notice.body\">\n            Try the new Advisor to uncover potential issues with your data sources and plugins.\n          </Trans>\n        </p>\n        <LinkButton\n          aria-label={t('connections.advisor-redirect-notice.aria-label-link-to-advisor', 'Link to Advisor')}\n          icon=\"arrow-right\"\n          href=\"/a/grafana-advisor-app\"\n          fill=\"text\"\n        >\n          <Trans i18nKey=\"connections.advisor-redirect-notice.go-to-advisor\">Go to Advisor</Trans>\n        </LinkButton>\n      </div>\n    </Alert>\n  ) : (\n    <></>\n  );\n}\n","import { css } from '@emotion/css';\n\nimport { SelectableValue, GrafanaTheme2 } from '@grafana/data';\nimport { LinkButton, FilterInput, InlineField, Checkbox, useStyles2 } from '@grafana/ui';\n\nimport { SortPicker } from '../Select/SortPicker';\n\nexport type FilterCheckbox = {\n  onChange: (value: boolean) => void;\n  value: boolean;\n  label?: string;\n};\n\nexport interface Props {\n  searchQuery: string;\n  setSearchQuery: (value: string) => void;\n  linkButton?: { href: string; title: string; disabled?: boolean };\n  target?: string;\n  placeholder?: string;\n  sortPicker?: {\n    onChange: (sortValue: SelectableValue) => void;\n    value?: string;\n    getSortOptions?: () => Promise<SelectableValue[]>;\n  };\n  filterCheckbox?: FilterCheckbox;\n}\n\nexport default function PageActionBar({\n  searchQuery,\n  linkButton,\n  setSearchQuery,\n  target,\n  placeholder = 'Search by name or type',\n  sortPicker,\n  filterCheckbox,\n}: Props) {\n  const styles = useStyles2(getStyles);\n  const linkProps: Omit<Parameters<typeof LinkButton>[0], 'children'> = {\n    href: linkButton?.href,\n    disabled: linkButton?.disabled,\n  };\n\n  if (target) {\n    linkProps.target = target;\n  }\n\n  return (\n    <div className={styles.container}>\n      <InlineField grow>\n        <FilterInput value={searchQuery} onChange={setSearchQuery} placeholder={placeholder} />\n      </InlineField>\n      {filterCheckbox && (\n        <Checkbox\n          label={filterCheckbox.label}\n          value={filterCheckbox.value}\n          onChange={(event) => filterCheckbox.onChange(event.currentTarget.checked)}\n        />\n      )}\n      {sortPicker && (\n        <SortPicker\n          onChange={sortPicker.onChange}\n          value={sortPicker.value}\n          getSortOptions={sortPicker.getSortOptions}\n        />\n      )}\n      {linkButton && <LinkButton {...linkProps}>{linkButton.title}</LinkButton>}\n    </div>\n  );\n}\n\nconst getStyles = (theme: GrafanaTheme2) => {\n  return {\n    container: css({\n      display: 'flex',\n      alignItems: 'center',\n      gap: theme.spacing(2),\n      marginBottom: theme.spacing(2),\n    }),\n  };\n};\n","import { css } from '@emotion/css';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { Trans, t } from '@grafana/i18n';\nimport { config } from '@grafana/runtime';\nimport { Checkbox, EmptyState, Icon, Spinner, Tooltip, useStyles2 } from '@grafana/ui';\n\nimport { CatalogPlugin } from '../types';\n\ntype UpdateError = {\n  id: string;\n  message: string;\n};\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  table: css({\n    marginTop: theme.spacing(2),\n    width: '100%',\n    borderCollapse: 'collapse',\n  }),\n  tableRow: css({\n    borderBottom: `1px solid ${theme.colors.border.weak}`,\n    td: {\n      paddingRight: theme.spacing(1),\n    },\n  }),\n  icon: css({\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  }),\n  header: css({\n    textAlign: 'left',\n    padding: theme.spacing(1),\n    borderBottom: `2px solid ${theme.colors.border.strong}`,\n    th: {\n      paddingRight: theme.spacing(1),\n    },\n  }),\n  data: css({\n    padding: '10px',\n  }),\n  footer: css({\n    fontSize: theme.typography.bodySmall.fontSize,\n    marginTop: theme.spacing(3),\n  }),\n  noPluginsMessage: css({\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: '100%',\n  }),\n  tableContainer: css({\n    overflowY: 'auto',\n    overflowX: 'hidden',\n    maxHeight: theme.spacing(41),\n    marginBottom: theme.spacing(2),\n  }),\n  errorIcon: css({\n    color: theme.colors.error.main,\n  }),\n  successIcon: css({\n    color: theme.colors.success.main,\n  }),\n  pluginsInstalled: css({\n    svg: {\n      marginRight: theme.spacing(1),\n    },\n  }),\n});\n\nconst StatusIcon = ({\n  id,\n  inProgress,\n  isSelected,\n  isInstalled,\n  errorMap,\n}: {\n  id: string;\n  inProgress: boolean;\n  isSelected: boolean;\n  isInstalled: boolean;\n  errorMap: Map<string, UpdateError>;\n}) => {\n  const styles = useStyles2(getStyles);\n\n  if (errorMap && errorMap.has(id)) {\n    return (\n      <Tooltip\n        content={t('plugins.catalog.update-all.error', 'Error updating plugin: {{errorMessage}}', {\n          errorMessage: errorMap.get(id)?.message,\n        })}\n      >\n        <Icon className={styles.errorIcon} size=\"xl\" name=\"exclamation-triangle\" />\n      </Tooltip>\n    );\n  }\n  if (isInstalled) {\n    return <Icon className={styles.successIcon} size=\"xl\" name=\"check\" />;\n  }\n  if (inProgress && isSelected) {\n    return <Spinner />;\n  }\n  return '';\n};\n\ntype Props = {\n  plugins: CatalogPlugin[];\n  pluginsNotInstalled: Set<string>;\n  inProgress: boolean;\n  selectedPlugins?: Set<string>;\n  onCheckboxChange: (id: string) => void;\n  errorMap: Map<string, UpdateError>;\n};\n\nexport const UpdateModalBody = ({\n  plugins,\n  pluginsNotInstalled,\n  inProgress,\n  selectedPlugins,\n  onCheckboxChange,\n  errorMap,\n}: Props) => {\n  const styles = useStyles2(getStyles);\n\n  const numberInstalled = plugins.length - pluginsNotInstalled.size;\n  const installationFinished = plugins.length !== pluginsNotInstalled.size && !inProgress;\n\n  return (\n    <div>\n      {plugins.length === 0 ? (\n        <EmptyState\n          variant=\"completed\"\n          message={t('plugins.catalog.update-all.all-plugins-updated', 'All plugins updated!')}\n        />\n      ) : (\n        <>\n          <div>\n            <Trans i18nKey=\"plugins.catalog.update-all.header\">The following plugins have update available</Trans>\n          </div>\n          <div className={styles.tableContainer}>\n            <table className={styles.table}>\n              <thead className={styles.header}>\n                <tr>\n                  <th>\n                    <Trans i18nKey=\"plugins.catalog.update-all.update-header\">Update</Trans>\n                  </th>\n                  <th>\n                    <Trans i18nKey=\"plugins.catalog.update-all.name-header\">Name</Trans>\n                  </th>\n                  <th>\n                    <Trans i18nKey=\"plugins.catalog.update-all.installed-header\">Installed</Trans>\n                  </th>\n                  <th>\n                    <Trans i18nKey=\"plugins.catalog.update-all.available-header\">Available</Trans>\n                  </th>\n                  <th></th>\n                </tr>\n              </thead>\n              <tbody>\n                {plugins.map(({ id, name, installedVersion, latestVersion }: CatalogPlugin) => (\n                  <tr key={id} className={styles.tableRow}>\n                    <td>\n                      <Checkbox\n                        onChange={() => onCheckboxChange(id)}\n                        value={selectedPlugins?.has(id)}\n                        disabled={!pluginsNotInstalled.has(id)}\n                      />\n                    </td>\n                    <td>{name}</td>\n                    <td>{installedVersion}</td>\n                    <td>{latestVersion}</td>\n                    <td className={styles.icon}>\n                      <StatusIcon\n                        id={id}\n                        inProgress={inProgress}\n                        isSelected={selectedPlugins?.has(id) ?? false}\n                        isInstalled={!pluginsNotInstalled.has(id)}\n                        errorMap={errorMap}\n                      />\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n          {numberInstalled > 0 && installationFinished && (\n            <div className={styles.pluginsInstalled}>\n              <Icon className={styles.successIcon} size=\"lg\" name=\"check\" />\n              {`${numberInstalled} ${t('plugins.catalog.update-all.update-status-text', 'plugins updated')}`}\n            </div>\n          )}\n          {errorMap.size > 0 && installationFinished && (\n            <div className={styles.pluginsInstalled}>\n              <Icon className={styles.errorIcon} size=\"lg\" name=\"exclamation-triangle\" />\n              {`${errorMap.size} ${t('plugins.catalog.update-all.error-status-text', 'failed - see error messages')}`}\n            </div>\n          )}\n          {config.pluginAdminExternalManageEnabled && (\n            <footer className={styles.footer}>\n              <Trans i18nKey=\"plugins.catalog.update-all.cloud-update-message\">\n                * It may take a few minutes for the plugins to be available for usage.\n              </Trans>\n            </footer>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n","import { useEffect, useMemo, useRef, useState } from 'react';\n\nimport { t } from '@grafana/i18n';\nimport { config, reportInteraction } from '@grafana/runtime';\nimport { ConfirmModal } from '@grafana/ui';\n\nimport { useInstall, useInstallStatus } from '../state/hooks';\nimport { CatalogPlugin, PluginStatus } from '../types';\n\nimport { UpdateModalBody } from './UpdateAllModalBody';\nconst PLUGINS_UPDATE_ALL_INTERACTION_EVENT_NAME = 'plugins_update_all_clicked';\n\ntype UpdateError = {\n  id: string;\n  message: string;\n};\n\ntype Props = {\n  isOpen: boolean;\n  isLoading: boolean;\n  onDismiss: () => void;\n  plugins: CatalogPlugin[];\n};\n\nexport const UpdateAllModal = ({ isOpen, onDismiss, isLoading, plugins }: Props) => {\n  const install = useInstall();\n  const { error } = useInstallStatus();\n  const [errorMap, setErrorMap] = useState(new Map<string, UpdateError>());\n  const [inProgress, setInProgress] = useState(false);\n  const [selectedPlugins, setSelectedPlugins] = useState<Set<string>>();\n  const initialPluginsRef = useRef(plugins);\n\n  const pluginsSet = useMemo(() => new Set(plugins.map((plugin) => plugin.id)), [plugins]);\n  const installsRemaining = plugins.length;\n\n  // Since the plugins come from the store and changes every time we update a plugin,\n  // we need to keep track of the initial plugins.\n  useEffect(() => {\n    if (initialPluginsRef.current.length === 0) {\n      initialPluginsRef.current = [...plugins];\n    }\n  }, [plugins]);\n\n  // Updates the component state on every plugins change, since the installation will change the store content\n  useEffect(() => {\n    if (inProgress) {\n      selectedPlugins?.forEach((id) => {\n        if (!pluginsSet.has(id)) {\n          setSelectedPlugins((prevSelectedPlugins) => {\n            const newSelectedPlugins = new Set(prevSelectedPlugins);\n            newSelectedPlugins.delete(id);\n            return newSelectedPlugins;\n          });\n        }\n      });\n\n      if (selectedPlugins?.size === 0) {\n        setInProgress(false);\n      }\n    }\n  }, [inProgress, pluginsSet, selectedPlugins]);\n\n  // Initialize the component with all the plugins selected\n  useEffect(() => {\n    if (selectedPlugins === undefined && plugins.length > 0 && !isLoading) {\n      const initialSelectedPlugins = new Set(plugins.map((plugin) => plugin.id));\n      setSelectedPlugins(initialSelectedPlugins);\n    }\n  }, [isLoading, plugins, selectedPlugins]);\n\n  // Updates the component state on every error that comes from the store\n  useEffect(() => {\n    if (inProgress && error && !errorMap.has(error.id) && selectedPlugins?.has(error.id)) {\n      setErrorMap((prevErrorMap) => {\n        const newErrorMap = new Map(prevErrorMap);\n        newErrorMap.set(error.id, error);\n        return newErrorMap;\n      });\n\n      setSelectedPlugins((prevSelectedPlugins) => {\n        const newSelectedPlugins = new Set(prevSelectedPlugins);\n        newSelectedPlugins.delete(error.id);\n        return newSelectedPlugins;\n      });\n    }\n  }, [error, errorMap, inProgress, selectedPlugins]);\n\n  const onConfirm = async () => {\n    if (!inProgress) {\n      reportInteraction(PLUGINS_UPDATE_ALL_INTERACTION_EVENT_NAME, {\n        path: window.location.pathname,\n        count: selectedPlugins?.size,\n        creator_team: 'grafana_plugins_catalog',\n        schema_version: '1.0.0',\n      });\n\n      setInProgress(true);\n\n      // in cloud the requests need to be sync\n      if (config.pluginAdminExternalManageEnabled) {\n        for (let plugin of plugins) {\n          if (selectedPlugins?.has(plugin.id)) {\n            await install(plugin.id, plugin.latestVersion, PluginStatus.UPDATE);\n          }\n        }\n      } else {\n        plugins.forEach((plugin) => {\n          if (selectedPlugins?.has(plugin.id)) {\n            install(plugin.id, plugin.latestVersion, PluginStatus.UPDATE);\n          }\n        });\n      }\n    }\n  };\n\n  const onDismissClick = () => {\n    initialPluginsRef.current = [];\n    setErrorMap(new Map());\n    setInProgress(false);\n    setSelectedPlugins(undefined);\n    onDismiss();\n  };\n\n  const onCheckboxChange = (id: string) => {\n    setSelectedPlugins((prevSelectedPlugins) => {\n      const newSelectedPlugins = new Set(prevSelectedPlugins);\n      if (newSelectedPlugins.has(id)) {\n        newSelectedPlugins.delete(id);\n      } else {\n        newSelectedPlugins.add(id);\n      }\n      return newSelectedPlugins;\n    });\n    if (errorMap.has(id)) {\n      setErrorMap((prevErrorMap) => {\n        const newErrorMap = new Map(prevErrorMap);\n        newErrorMap.delete(id);\n        return newErrorMap;\n      });\n    }\n  };\n\n  const pluginsSelected = selectedPlugins?.size || 0;\n\n  return (\n    <ConfirmModal\n      isOpen={isOpen}\n      title={t('plugins.catalog.update-all.modal-title', 'Update Plugins')}\n      body={\n        <UpdateModalBody\n          plugins={initialPluginsRef.current}\n          pluginsNotInstalled={pluginsSet}\n          inProgress={inProgress}\n          errorMap={errorMap}\n          onCheckboxChange={onCheckboxChange}\n          selectedPlugins={selectedPlugins}\n        />\n      }\n      onConfirm={installsRemaining > 0 ? onConfirm : onDismissClick}\n      onDismiss={onDismissClick}\n      disabled={shouldDisableConfirm(inProgress, installsRemaining, pluginsSelected)}\n      confirmText={getConfirmationText(installsRemaining, inProgress, pluginsSelected)}\n      confirmButtonVariant=\"primary\"\n    />\n  );\n};\n\nfunction getConfirmationText(installsRemaining: number, inProgress: boolean, pluginsSelected: number) {\n  if (inProgress) {\n    return t('plugins.catalog.update-all.modal-in-progress', 'Updating...');\n  }\n\n  if (installsRemaining > 0) {\n    return t('plugins.catalog.update-all.modal-confirmation', 'Update') + ` (${pluginsSelected})`;\n  }\n  return t('plugins.catalog.update-all.modal-dismiss', 'Close');\n}\n\nfunction shouldDisableConfirm(inProgress: boolean, installsRemaining: number, pluginsSelected: number) {\n  if (inProgress) {\n    return true;\n  }\n\n  if (installsRemaining > 0 && pluginsSelected === 0) {\n    return true;\n  }\n\n  return false;\n}\n\nexport default UpdateAllModal;\n","import * as React from 'react';\n\nimport { t } from '@grafana/i18n';\nimport { Badge, useStyles2 } from '@grafana/ui';\n\nimport { getBadgeColor } from './sharedStyles';\n\nexport function PluginInstalledBadge(): React.ReactElement {\n  const customBadgeStyles = useStyles2(getBadgeColor);\n\n  return (\n    <Badge\n      text={t('plugins.plugin-installed-badge.text-installed', 'Installed')}\n      color=\"orange\"\n      className={customBadgeStyles}\n    />\n  );\n}\n","import { locationService } from '@grafana/runtime';\n\nexport const useHistory = () => {\n  return {\n    push: ({ query }: { query: Parameters<typeof locationService.partial>[0] }) => {\n      locationService.partial(query);\n    },\n  };\n};\n","import { useState, useRef } from 'react';\nimport * as React from 'react';\nimport { useDebounce } from 'react-use';\n\nimport { t } from '@grafana/i18n';\nimport { FilterInput } from '@grafana/ui';\n\ninterface Props {\n  value?: string;\n  onSearch: (value: string) => void;\n}\n\n// useDebounce has a bug which causes it to fire on first render. This wrapper prevents that.\n// https://github.com/streamich/react-use/issues/759\nconst useDebounceWithoutFirstRender = (callBack: () => void, delay = 0, deps: React.DependencyList = []) => {\n  const isFirstRender = useRef(true);\n  const debounceDeps = [...deps, isFirstRender];\n\n  return useDebounce(\n    () => {\n      if (isFirstRender.current) {\n        isFirstRender.current = false;\n        return;\n      }\n      return callBack();\n    },\n    delay,\n    debounceDeps\n  );\n};\n\nexport const SearchField = ({ value, onSearch }: Props) => {\n  const [query, setQuery] = useState(value);\n\n  useDebounceWithoutFirstRender(() => onSearch(query ?? ''), 500, [query]);\n\n  return (\n    <FilterInput\n      value={query}\n      onKeyDown={(e) => {\n        if (e.key === 'Enter' || e.keyCode === 13) {\n          onSearch(e.currentTarget.value);\n        }\n      }}\n      placeholder={t('plugins.search-field.placeholder-search-grafana-plugins', 'Search Grafana plugins')}\n      onChange={(value) => {\n        setQuery(value);\n      }}\n      width={46}\n    />\n  );\n};\n","import { TimeZone } from '@grafana/data';\nimport { getBackendSrv } from '@grafana/runtime';\nimport { WeekStart } from '@grafana/ui';\nimport { notifyApp } from 'app/core/actions';\nimport { createSuccessNotification } from 'app/core/copy/appNotification';\nimport { getDashboardAPI } from 'app/features/dashboard/api/dashboard_api';\nimport { dashboardWatcher } from 'app/features/live/dashboard/dashboardWatcher';\nimport { removeAllPanels } from 'app/features/panel/state/reducers';\nimport { updateTimeZoneForSession, updateWeekStartForSession } from 'app/features/profile/state/reducers';\nimport { ThunkResult } from 'app/types/store';\n\nimport { loadPluginDashboards } from '../../plugins/admin/state/actions';\nimport { cancelVariables } from '../../variables/state/actions';\nimport { getDashboardSrv } from '../services/DashboardSrv';\nimport { getTimeSrv } from '../services/TimeSrv';\n\nimport { cleanUpDashboard } from './reducers';\n\nexport function importDashboard(data: any, dashboardTitle: string): ThunkResult<void> {\n  return async (dispatch) => {\n    await getBackendSrv().post('/api/dashboards/import', data);\n    dispatch(notifyApp(createSuccessNotification('Dashboard Imported', dashboardTitle)));\n    dispatch(loadPluginDashboards());\n  };\n}\n\nexport function removeDashboard(uid: string): ThunkResult<void> {\n  return async (dispatch) => {\n    await getDashboardAPI().deleteDashboard(uid, false);\n    dispatch(loadPluginDashboards());\n  };\n}\n\nexport const cleanUpDashboardAndVariables = (): ThunkResult<void> => (dispatch, getStore) => {\n  const store = getStore();\n  const dashboard = store.dashboard.getModel();\n\n  if (dashboard) {\n    dashboard.destroy();\n    dispatch(cancelVariables(dashboard.uid));\n  }\n\n  getTimeSrv().stopAutoRefresh();\n  dispatch(cleanUpDashboard());\n  dispatch(removeAllPanels());\n\n  dashboardWatcher.leave();\n\n  getDashboardSrv().setCurrent(undefined);\n};\n\nexport const updateTimeZoneDashboard =\n  (timeZone: TimeZone): ThunkResult<void> =>\n  (dispatch) => {\n    dispatch(updateTimeZoneForSession(timeZone));\n    getTimeSrv().refreshTimeModel();\n  };\n\nexport const updateWeekStartDashboard =\n  (weekStart?: WeekStart): ThunkResult<void> =>\n  (dispatch) => {\n    dispatch(updateWeekStartForSession(weekStart));\n    getTimeSrv().refreshTimeModel();\n  };\n","import { css } from '@emotion/css';\n\nimport { GrafanaTheme2 } from '@grafana/data';\n\nexport const getBadgeColor = (theme: GrafanaTheme2) =>\n  css({\n    background: theme.colors.background.primary,\n    borderColor: theme.colors.border.strong,\n    color: theme.colors.text.secondary,\n  });\n","import * as React from 'react';\n\nimport { t } from '@grafana/i18n';\nimport { Badge } from '@grafana/ui';\n\nexport function PluginDeprecatedBadge(): React.ReactElement {\n  return (\n    <Badge\n      icon=\"exclamation-triangle\"\n      text={t('plugins.plugin-deprecated-badge.text-deprecated', 'Deprecated')}\n      color=\"orange\"\n      tooltip={t(\n        'plugins.plugin-deprecated-badge.tooltip-plugin-deprecated-longer-receives-updates',\n        'This plugin is deprecated and no longer receives updates.'\n      )}\n    />\n  );\n}\n"],"names":["disabled","onUpdateAll","updatablePluginsLength","getStyles","theme","PluginEnterpriseBadgeWithoutSignature","customBadgeStyles","CardGrid","items","onClickItem","styles","Grid","item","Card","e","Stack","PluginDeprecatedBadge","PluginDisabledBadge","PluginUpdateAvailableBadge","CategoryHeader","iconName","label","Icon","NoAccessModal","isOpen","onDismiss","Modal","NoAccessModalHeader","TextLink","Button","AddNewConnection","queryParams","setQueryParams","useQueryParams","searchTerm","isNoAccessModalOpen","setIsNoAccessModalOpen","focusedItem","setFocusedItem","location","history","useHistory","locationSearch","sortBy","filterBy","canCreateDataSources","handleSearchChange","val","remotePluginsAvailable","error","plugins","isLoading","filterByOptions","onClickCardGridItem","openModal","closeModal","getPluginsByType","plugin","dataSourcesPlugins","appsPlugins","datasourceCardGridItems","appsCardGridItems","onSortByChange","value","onFilterByChange","showNoResults","HorizontalGroup","Field","SearchField","RadioButtonGroup","Tooltip","Combobox","LoadingPlaceholder","EmptyState","AddNewConnectionPage","areUpdatesLoading","updatablePlugins","updatableDSPlugins","showUpdateModal","setShowUpdateModal","disableUpdateAllButton","updateAllButton","UpdateAllButton","Page","RoadmapLinks","UpdateAllModal","getCloudCardData","getOssCardData","PageCard","title","description","icon","url","index","onKeyDown","ConnectionsHomePage","isOSS","cardsData","child","DataSourceDashboards","uid","dispatch","dataSource","s","dashboards","onImportDashboard","dashboard","overwrite","onRemoveDashboard","DataSourceDashboardsView","PageLoader","useDataSourceSettingsNav","pageIdParam","datasource","dataSourceMeta","datasourcePlugin","params","pageId","loadError","loading","dsi","hasAlertingEnabled","isAlertManagerDatasource","alertingSupported","navIndex","state","navIndexId","pageNav","node","navModelItem","DataSourceDashboardsPage","navId","DataSourceDetailsPage","overrideNavId","id","PluginDetailsPage","NotFoundDatasource","Alert","DataSourceAddButton","canCreateDataSource","handleClick","ascendingSortValue","descendingSortValue","sortOptions","DataSourcesListHeader","filterCheckbox","debouncedTrackSearch","q","setSearchQuery","searchQuery","dataSources","setSort","sort","isSortAscending","sortPicker","PageActionBar","DataSourcesList","favoriteDataSources","useFavoriteDatasources","updateQueryParams","showFavoritesOnly","handleFavoritesCheckboxChange","dataSourcesCount","hasCreateRights","hasWriteRights","hasExploreRights","DataSourcesListView","allDataSources","favoritesCheckbox","getDataSourcesList","_","DataSourcesListCard","DataSourcesListPage","actions","AdvisorRedirectNotice","BasicSettings","dataSourceName","isDefault","onDefaultChange","onNameChange","InlineField","Input","event","AlertingEnabled","enabled","ButtonRow","canSave","canDelete","onDelete","onSubmit","onTest","LOCAL_STORAGE_KEY","CloudInfoBox","mainDS","extraDS","LocalStorageValueProvider","isDismissed","readOnlyMessage","DataSourceReadOnlyMessage","DataSourceLoadError","dataSourceRights","notFound","readOnly","hasDeleteRights","navigateBack","missingRightsMessage","DataSourceMissingRightsMessage","DataSourcePluginConfigPage","page","DataSourcePluginSettings","props","DataSourcePluginState","PluginStateInfo","hasTitle","AlertSuccessMessage","exploreUrl","dataSourceId","onDashboardLinkClicked","canExploreDataSources","Link","ErrorDetailsLink","link","alertVariants","isAlertVariant","str","getAlertVariant","status","DataSourceTestingStatus","testingStatus","severity","message","detailsMessage","detailsVerboseMessage","errorDetailsLink","getTestingStatusStyles","extensionStatusContext","allStatusLinks","usePluginLinks","extensionComponents","usePluginComponents","allErrorLinks","statusLinks","errorLinks","extensionLinks","sanitize","EditDataSource","dataSourceSettings","onUpdate","name","onOptionsChange","ds","EditDataSourceView","hasDataSource","components","useDataSourceConfigPluginExtensions","currentJsonData","currentSecureJsonData","isPDCInjected","component","dataSourceWithIsPDCInjected","DataSourcePluginContextProvider","Component","jsonData","secureJsonData","FavoriteButton","dataSourceInstance","isFavorite","IconButton","EditDataSourceActions","allLinks","links","hasActions","handleExploreClick","exploreMenu","Menu","Dropdown","useDataSourceInfo","dataSourceInfo","info","alertingEnabled","DataSourceTitle","DataSourceTabPage","dataSourceHeader","EditDataSourcePage","PluginsErrorsInfo","filterByPluginType","errors","List","PluginSignatureBadge","mapPluginErrorCodeToSignatureStatus","code","DataSourceTypeCard","onClick","dataSourcePlugin","isPhantom","isClickable","learnMoreLink","learnMoreLinkTarget","DataSourceTypeCardList","dataSourcePlugins","onClickDataSourceType","DataSourceCategories","categories","moreDataSourcesLink","NewDataSource","filteredDataSources","isLoadingDatasourcePlugins","dataSourceCategories","onAddDataSource","onSetSearchQuery","NewDataSourceView","FilterInput","NewDataSourcePage","RedirectToAddNewConnection","search","Connections","isAddNewConnectionPageOverridden","userStorage","hasAdminRights","showNotice","setShowNotice","canUseAdvisor","linkButton","target","placeholder","linkProps","StatusIcon","inProgress","isSelected","isInstalled","errorMap","Spinner","UpdateModalBody","pluginsNotInstalled","selectedPlugins","onCheckboxChange","numberInstalled","installationFinished","installedVersion","latestVersion","Checkbox","config","PLUGINS_UPDATE_ALL_INTERACTION_EVENT_NAME","install","setErrorMap","setInProgress","setSelectedPlugins","initialPluginsRef","pluginsSet","installsRemaining","prevSelectedPlugins","newSelectedPlugins","initialSelectedPlugins","prevErrorMap","newErrorMap","onConfirm","onDismissClick","pluginsSelected","ConfirmModal","shouldDisableConfirm","getConfirmationText","PluginInstalledBadge","query","useDebounceWithoutFirstRender","callBack","delay","deps","isFirstRender","debounceDeps","onSearch","setQuery","importDashboard","data","dashboardTitle","removeDashboard","cleanUpDashboardAndVariables","getStore","updateTimeZoneDashboard","timeZone","updateWeekStartDashboard","weekStart","getBadgeColor"],"sourceRoot":""}