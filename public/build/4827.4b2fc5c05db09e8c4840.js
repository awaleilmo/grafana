"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[4827],{6650:(ne,E,a)=>{a.d(E,{A:()=>c});var e=a(74848),d=a(92745),u=a(45861);const c=({disabled:f,onUpdateAll:v,updatablePluginsLength:j})=>(0,e.jsx)(u.$n,{disabled:f,onClick:v,children:f?(0,e.jsx)(d.x6,{i18nKey:"plugins.catalog.no-updates-available",children:"No updates available"}):(0,e.jsxs)(d.x6,{i18nKey:"plugins.catalog.update-all.button",values:{length:j},children:["Update all (","{{length}}",")"]})})},14827:(ne,E,a)=>{a.r(E),a.d(E,{default:()=>Fa});var e=a(74848),d=a(54148),u=a(52763),x=a(26437),c=a(22803),f=a(96540),v=a(11594),j=a(63142),y=a(13791),K=a(42135),B=a(6650),b=a(65223),Z=a(23691),i=a(92745),ae=a(36490),Q=a(27489),F=a(37386),A=a(77824),R=a(45967),se=a(43243),ge=a(6975),fe=a(50201),re=a(73427),D=a(70958),G=a(40203),_=a(84969),O=a(4476),oe=a(81687),L=a(11257),U=a(62061),te=a(99887),q=a(13943),T=a(8073),W=a(41654),ce=a(99946),le=a(1299),be=a(74814),Te=a(27589),Le=a(93984);const Ne=n=>({heading:(0,c.css)({fontSize:n.typography.h5.fontSize,fontWeight:"inherit"}),figure:(0,c.css)({width:"inherit",marginRight:"0px","> img":{width:n.spacing(7)}}),meta:(0,c.css)({marginTop:"6px",position:"relative"}),description:(0,c.css)({margin:"0px",fontSize:n.typography.bodySmall.fontSize}),card:(0,c.css)({gridTemplateAreas:`
        "Figure   Heading   Actions"
        "Figure Description Actions"
        "Figure    Meta     Actions"
        "Figure     -       Actions"`}),logo:(0,c.css)({marginRight:n.spacing(3),marginLeft:n.spacing(1),width:n.spacing(7),maxHeight:n.spacing(7)})});function Re(){const n=(0,j.of)(Le.X);return(0,U.a)("enterprise.plugins")?(0,e.jsx)(te.E,{text:(0,i.t)("get-enterprise.title","Enterprise"),color:"blue"}):(0,e.jsx)(te.E,{icon:"lock",role:"img","aria-label":(0,i.t)("lock-icon","lock icon"),text:(0,i.t)("get-enterprise.title","Enterprise"),color:"darkgrey",className:n,title:(0,i.t)("get-enterprise.requires-license","Requires a Grafana Enterprise license")})}const Me=({items:n,onClickItem:s})=>{const o=(0,j.of)(Ne);return(0,e.jsx)(q.x,{gap:1.5,minColumnWidth:44,children:n.map(r=>(0,e.jsxs)(T.Z,{className:o.card,href:r.url,onClick:l=>{s&&s(l,r)},children:[(0,e.jsx)(T.Z.Heading,{className:o.heading,children:r.name}),(0,e.jsx)(T.Z.Figure,{align:"center",className:o.figure,children:(0,e.jsx)("img",{className:o.logo,src:r.logo,alt:""})}),(0,e.jsx)(T.Z.Meta,{className:o.meta,children:(0,e.jsxs)(W.B,{height:"auto",wrap:"wrap",children:[r.isEnterprise&&(0,e.jsx)(Re,{}),r.isDeprecated&&(0,e.jsx)(ce.y,{}),r.isInstalled&&(0,e.jsx)(be.J,{}),r.isDisabled&&(0,e.jsx)(le.D,{error:r.error}),(0,O.wD)(r)&&(0,e.jsx)(Te.z,{plugin:r})]})})]},r.id))})};var S=a(30703);const V=n=>({categoryHeader:(0,c.css)({alignItems:"center",display:"flex",marginBottom:n.spacing(3)}),categoryLabel:(0,c.css)({marginBottom:0,marginLeft:n.spacing(1)})}),ee=({iconName:n,label:s})=>{const o=(0,j.of)(V);return(0,e.jsxs)("div",{className:o.categoryHeader,children:[(0,e.jsx)(S.I,{name:n,size:"xl"}),(0,e.jsx)("h3",{className:o.categoryLabel,children:s})]})};var dn=a(22787),ve=a(89640),J=a(45861);const Ge=n=>({modal:(0,c.css)({width:"500px"}),modalContent:(0,c.css)({overflow:"visible",color:n.colors.text.secondary,a:{color:n.colors.text.link}}),description:(0,c.css)({marginBottom:n.spacing(2)}),bottomSection:(0,c.css)({display:"flex",borderTop:`1px solid ${n.colors.border.weak}`,paddingTop:n.spacing(3),marginTop:n.spacing(3)}),actionsSection:(0,c.css)({display:"flex",justifyContent:"end",marginTop:n.spacing(3)}),warningIcon:(0,c.css)({color:n.colors.warning.main,paddingRight:n.spacing(),marginTop:n.spacing(.25)}),header:(0,c.css)({display:"flex",alignItems:"center"}),headerTitle:(0,c.css)({margin:0}),headerLogo:(0,c.css)({marginRight:n.spacing(2),width:"32px",height:"32px"})});function un({item:n,isOpen:s,onDismiss:o}){const r=(0,j.of)(Ge);return(0,e.jsx)(dn.a,{className:r.modal,contentClassName:r.modalContent,title:(0,e.jsx)(gn,{item:n}),isOpen:s,onDismiss:o,children:(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{children:[n.description&&(0,e.jsx)("div",{className:r.description,children:n.description}),(0,e.jsxs)("div",{children:[(0,e.jsx)(i.x6,{i18nKey:"connections.no-access-modal.links",children:"Links"}),(0,e.jsx)("br",{}),(0,e.jsx)(ve.Y,{href:`https://grafana.com/grafana/plugins/${n.id}`,external:!0,children:n.name})]})]}),(0,e.jsxs)("div",{className:r.bottomSection,children:[(0,e.jsx)("div",{className:r.warningIcon,children:(0,e.jsx)(S.I,{name:"exclamation-triangle"})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{children:(0,e.jsxs)(i.x6,{i18nKey:"connections.no-access-modal.editor-warning",children:["Editors cannot add new connections. You may check to see if it is already configured in"," ",(0,e.jsx)(ve.Y,{href:"/connections/datasources",children:"Data sources"}),"."]})}),(0,e.jsx)("p",{children:(0,e.jsx)(i.x6,{i18nKey:"connections.no-access-modal.connection-contact-grafana-admin",children:"To add a new connection, contact your Grafana admin."})})]})]}),(0,e.jsx)("div",{className:r.actionsSection,children:(0,e.jsx)(J.$n,{onClick:o,children:(0,e.jsx)(i.x6,{i18nKey:"connections.no-access-modal.okay",children:"Okay"})})})]})})}function gn({item:n}){const s=(0,j.of)(Ge);return(0,e.jsx)("div",{children:(0,e.jsxs)("div",{className:s.header,children:[n.logo&&(0,e.jsx)("img",{className:s.headerLogo,src:n.logo,alt:`logo of ${n.name}`}),(0,e.jsx)("h4",{className:s.headerTitle,children:n.name})]})})}const pn=n=>({searchContainer:(0,c.css)({backgroundColor:n.colors.background.primary,paddingTop:n.spacing(2),paddingBottom:n.spacing(2),borderBottom:`1px solid ${n.colors.border.weak}`,marginBottom:n.spacing(2)}),contentWrap:(0,c.css)({height:"calc(100vh - 350px)",overflowY:"auto"}),spacer:(0,c.css)({height:n.spacing(2)}),modal:(0,c.css)({width:"500px"}),modalContent:(0,c.css)({overflow:"visible"}),actionBar:(0,c.css)({[n.breakpoints.up("xl")]:{marginLeft:"auto"}})});function hn(){const[n,s]=(0,D.s)(),o=n.search?String(n.search):"",[r,l]=(0,f.useState)(!1),[p,h]=(0,f.useState)(null),g=(0,d.zy)(),m=(0,oe.W)(),C=(0,ae.SE)(g.search),z=C.sortBy||O.by.nameAsc,I=C.filterBy?.toString()||"all",H=re.TP.hasPermission(L.w.DataSourcesCreate),k=(0,j.of)(pn),N=M=>{s({search:M})},ie=(0,Z.pw)(),{error:$,plugins:P,isLoading:Se}=(0,Z.PW)({keyword:o,isInstalled:I==="installed"?!0:void 0,hasUpdate:I==="has-update"?!0:void 0},z),Y=[{value:"all",label:(0,i.t)("connections.add-new-connection.filter-by-options.label.all","All")},{value:"installed",label:(0,i.t)("connections.add-new-connection.filter-by-options.label.installed","Installed")},{value:"has-update",label:(0,i.t)("connections.add-new-connection.filter-by-options.label.new-updates","New Updates")}],Ie=(M,ln)=>{H||(M.preventDefault(),M.stopPropagation(),Ye(ln),(0,Q.rR)("connections_plugin_card_clicked",{plugin_id:ln.id,creator_team:"grafana_plugins_catalog",schema_version:"1.0.0"}))},Ye=M=>{l(!0),h(M)},Ee=()=>{l(!1),h(null)},pe=(0,f.useMemo)(()=>({[v.QE.datasource]:P.filter(M=>M.type===v.QE.datasource),[v.QE.app]:P.filter(M=>M.type===v.QE.app)}),[P]),he=pe[v.QE.datasource],xe=pe[v.QE.app],Pe=(0,f.useMemo)(()=>he.map(M=>({...M,logo:M.info.logos.small,url:x.b.DataSourcesDetails.replace(":id",M.id)})),[he]),Oe=(0,f.useMemo)(()=>xe.map(M=>({...M,logo:M.info.logos.small,url:`/plugins/${M.id}`})),[xe]),ue=M=>{m.push({query:{sortBy:M.value}})},me=M=>{m.push({query:{filterBy:M}})},$a=(0,f.useMemo)(()=>!Se&&!$&&he.length<1&&xe.length<1,[Se,$,he,xe]);return(0,e.jsxs)(e.Fragment,{children:[p&&(0,e.jsx)(un,{item:p,isOpen:r,onDismiss:Ee}),(0,e.jsx)("div",{className:k.searchContainer,children:(0,e.jsxs)(G.G,{wrap:!0,children:[(0,e.jsx)(F.D,{label:(0,i.t)("common.search","Search"),children:(0,e.jsx)(_.L,{value:o,onSearch:N})}),(0,e.jsxs)(G.G,{className:k.actionBar,children:[ie?(0,e.jsx)(F.D,{label:(0,i.t)("plugins.filter.state","State"),children:(0,e.jsx)(A.z,{value:I,onChange:me,options:Y})}):(0,e.jsx)(R.m,{content:(0,i.t)("plugins.filter.disabled","This filter has been disabled because the Grafana server cannot access grafana.com"),placement:"top",children:(0,e.jsx)("div",{children:(0,e.jsx)(F.D,{label:(0,i.t)("plugins.filter.state","State"),children:(0,e.jsx)(A.z,{disabled:!0,value:I,onChange:me,options:Y})})})}),(0,e.jsx)(F.D,{label:(0,i.t)("plugins.filter.sort","Sort"),children:(0,e.jsx)(se.G,{"aria-label":(0,i.t)("plugins.filter.sort-list","Sort Plugins List"),width:24,value:z?.toString(),onChange:ue,options:[{value:"nameAsc",label:(0,i.t)("connections.add-new-connection.label.by-name-az","By name (A-Z)")},{value:"nameDesc",label:(0,i.t)("connections.add-new-connection.label.by-name-za","By name (Z-A)")},{value:"updated",label:(0,i.t)("connections.add-new-connection.label.by-updated-date","By updated date")},{value:"published",label:(0,i.t)("connections.add-new-connection.label.by-published-date","By published date")},{value:"downloads",label:(0,i.t)("connections.add-new-connection.label.by-downloads","By downloads")}]})})]})]})}),(0,e.jsxs)("div",{className:k.contentWrap,children:[Se?(0,e.jsx)(ge._,{text:(0,i.t)("common.loading","Loading...")}):$?(0,e.jsxs)(i.x6,{i18nKey:"alerting.policies.update-errors.error-code",values:{error:$.message},children:['Error message: "',{error:$.message},'"']}):(0,e.jsxs)(e.Fragment,{children:[he.length>0&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ee,{iconName:"database",label:(0,i.t)("connections.connect-data.datasources-header","Data Sources")}),(0,e.jsx)(Me,{items:Pe,onClickItem:Ie})]}),xe.length>0&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:k.spacer}),(0,e.jsx)(ee,{iconName:"apps",label:(0,i.t)("connections.connect-data.apps-header","Apps")}),(0,e.jsx)(Me,{items:Oe,onClickItem:Ie})]})]}),$a&&(0,e.jsx)(fe.p,{variant:"not-found",message:(0,i.t)("connections.connect-data.empty-message","No results matching your query were found")})]})]})}const xn=n=>({pageContainer:(0,c.css)({height:"100vh",overflow:"hidden"})});function mn(){const{isLoading:n,updatablePlugins:s}=(0,Z.sM)(),o=s.filter(C=>C.type===v.QE.datasource),[r,l]=(0,f.useState)(!1),p=o.length<=0||n,h=(0,j.of)(xn),g=()=>{l(!0)},m=(0,e.jsx)(B.A,{disabled:p,onUpdateAll:g,updatablePluginsLength:o.length});return(0,e.jsx)(y.Y,{navId:"connections-add-new-connection",actions:m,className:h.pageContainer,children:(0,e.jsxs)(y.Y.Contents,{children:[(0,e.jsx)(hn,{}),(0,e.jsx)(K.E,{}),(0,e.jsx)(b.A,{isOpen:r,isLoading:n,onDismiss:()=>l(!1),plugins:o})]})})}var Ve=a(41607),je=a(43173);function fn(){return[{text:(0,i.t)("connections.cloud.connections-home-page.add-new-connection.title","Add new connection"),subTitle:(0,i.t)("connections.cloud.connections-home-page.add-new-connection.subtitle","Connect data to Grafana through data sources, integrations and apps"),url:"/connections/add-new-connection",icon:"plus-circle"},{text:(0,i.t)("connections.cloud.connections-home-page.collector.title","Collector"),subTitle:(0,i.t)("connections.cloud.connections-home-page.collector.subtitle","Manage the configuration of Grafana Alloy, our distribution of the OpenTelemetry Collector"),url:"/a/grafana-collector-app",icon:"frontend-observability"},{text:(0,i.t)("connections.cloud.connections-home-page.data-sources.title","Data sources"),subTitle:(0,i.t)("connections.cloud.connections-home-page.data-sources.subtitle","Manage your existing data source connections"),url:"/connections/datasources",icon:"database"},{text:(0,i.t)("connections.cloud.connections-home-page.integrations.title","Integrations"),subTitle:(0,i.t)("connections.cloud.connections-home-page.integrations.subtitle","Manage your active integrations"),url:"/connections/infrastructure",icon:"apps"},{text:(0,i.t)("connections.cloud.connections-home-page.private-data-source-connections.title","Private data source connect"),subTitle:(0,i.t)("connections.cloud.connections-home-page.private-data-source-connections.subtitle","Manage your private network connections for data sources"),url:"/connections/private-data-source-connections",icon:"sitemap"}]}function vn(){return[{text:(0,i.t)("connections.oss.connections-home-page.add-new-connection.title","Add new connection"),subTitle:(0,i.t)("connections.oss.connections-home-page.add-new-connection.subtitle","Connect to a new data source"),url:"/connections/add-new-connection",icon:"plus-circle"},{text:(0,i.t)("connections.oss.connections-home-page.data-sources.title","View configured data sources"),subTitle:(0,i.t)("connections.oss.connections-home-page.data-sources.subtitle","Manage your existing data source connections"),url:"/connections/datasources",icon:"database"}]}function jn({title:n,description:s,icon:o,url:r,index:l}){const p=(0,j.of)(yn),h=g=>{(g.key==="Enter"||g.key===" ")&&(g.preventDefault(),ae.Ny.push(r))};return(0,e.jsxs)("div",{className:p.card,role:"button",tabIndex:0,onClick:()=>ae.Ny.push(r),onKeyDown:h,children:[(0,e.jsx)(S.I,{name:o,className:`${p.logo} ${l%2===0?p.evenLogo:p.oddLogo}`}),(0,e.jsxs)("div",{className:p.contentColumn,children:[(0,e.jsx)("h3",{className:p.title,children:n}),(0,e.jsx)("p",{className:p.description,children:s})]})]})}const yn=n=>({card:(0,c.css)({display:"flex",alignItems:"flex-start",gap:n.spacing(2),paddingTop:n.spacing(2),backgroundColor:n.colors.background.secondary,borderRadius:n.shape.radius.default,padding:`${n.spacing(3)} ${n.spacing(4)} ${n.spacing(2.25)} ${n.spacing(4)}`,minHeight:n.spacing(19.4),"&:hover":{cursor:"pointer",backgroundColor:n.colors.emphasize(n.colors.background.secondary,.03)},width:n.spacing(48)}),contentColumn:(0,c.css)({flex:1}),title:(0,c.css)({marginBottom:n.spacing(1),fontSize:n.typography.h4.fontSize,fontWeight:n.typography.h4.fontWeight,color:n.colors.text.primary}),description:(0,c.css)({WebkitLineClamp:3,WebkitBoxOrient:"vertical",display:"-webkit-box",overflow:"hidden",margin:"0",color:n.colors.text.secondary}),logo:(0,c.css)({objectFit:"contain",width:"47px",height:"47px",padding:n.spacing(1.2),borderRadius:n.spacing(1)}),evenLogo:(0,c.css)({color:"#4ADE80",backgroundColor:"rgba(34, 197, 94, 0.10)"}),oddLogo:(0,c.css)({color:"#FB923C",backgroundColor:"rgba(249, 115, 22, 0.10)"})});function Dn(){const n=(0,j.of)(Cn),s=je.$.buildInfo.edition===Ve.r.OpenSource;let o=s?vn():fn();return(0,e.jsx)(y.Y,{navId:"connections",pageNav:{text:"",active:!0},children:(0,e.jsx)(y.Y.Contents,{children:(0,e.jsxs)("div",{className:n.centeredContainer,children:[(0,e.jsx)("h1",{className:n.mainTitle,children:(0,e.jsx)(i.x6,{i18nKey:"connections.connections-home-page.welcome-to-connections",children:"Welcome to Connections"})}),(0,e.jsx)("p",{className:n.subTitle,children:s?(0,e.jsx)(i.x6,{i18nKey:"connections.oss.connections-home-page.subtitle",children:"Manage your data source connections in one place. Use this page to add a new data source or manage your existing connections."}):(0,e.jsx)(i.x6,{i18nKey:"connections.cloud.connections-home-page.subtitle",children:"Connect your infrastructure to Grafana Cloud using data sources, integrations and apps. Use this page to add to manage everything from data ingestion to private connections and telemetry pipelines."})}),o&&o.length>0&&(0,e.jsx)("section",{className:n.cardsSection,children:o?.map((r,l)=>(0,e.jsx)(jn,{title:r.text,description:r.subTitle,icon:r.icon,url:r.url,index:l},l))})]})})})}const Cn=n=>({mainTitle:(0,c.css)({textAlign:"left",[n.breakpoints.up("sm")]:{textAlign:"center"}}),subTitle:(0,c.css)({color:n.colors.text.secondary,textAlign:"left",[n.breakpoints.up("sm")]:{textAlign:"center",maxWidth:n.spacing(119)}}),cardsSection:(0,c.css)({display:"flex",flexWrap:"wrap",justifyContent:"flex-start",gap:n.spacing(4),paddingTop:n.spacing(2),paddingBottom:n.spacing(2),width:"100%",[n.breakpoints.up("sm")]:{justifyContent:"center",paddingTop:n.spacing(6),paddingBottom:n.spacing(6)}}),centeredContainer:(0,c.css)({display:"flex",flexDirection:"column",alignItems:"flex-start",[n.breakpoints.up("sm")]:{alignItems:"center"}})});var Ke=a(11098),He=a(85680),Sn=a(37256),En=a(32837),w=a(52045);function Pn({uid:n}){(0,w.oU)(n);const s=(0,u.wA)(),o=(0,u.d4)(g=>g.dataSources.dataSource),r=(0,u.d4)(g=>g.plugins.dashboards),l=(0,u.d4)(g=>g.plugins.isLoadingPluginDashboards);(0,f.useEffect)(()=>{o.id>0&&s((0,Sn.h9)())},[s,o.id]);const p=(g,m)=>{s((0,He.Q9)({pluginId:g.pluginId,path:g.path,overwrite:m,inputs:[{name:"*",type:"datasource",pluginId:o.type,value:o.name}]},g.title))},h=({uid:g})=>{s((0,He.TA)(g))};return(0,e.jsx)(bn,{dashboards:r,isLoading:l,onImportDashboard:p,onRemoveDashboard:h})}const bn=({isLoading:n,dashboards:s,onImportDashboard:o,onRemoveDashboard:r})=>n?(0,e.jsx)(Ke.A,{}):(0,e.jsx)(En.A,{dashboards:s,onImport:o,onRemove:r});var Ue=a(78282),Ze=a(84057),We=a(99723);function Qe(n){const{uid:s=""}=(0,d.g)(),o=(0,d.zy)(),r=(0,w.xw)(s),l=(0,w.S4)(r.type),p=(0,Z.ob)(r.type),h=new URLSearchParams(o.search),g=n||h.get("page"),{plugin:m,loadError:C,loading:z}=(0,w._e)(),I=(0,Ue.l)()?.getInstanceSettings(s),H=!!(I?.meta?.alerting??!1),k=I?.type==="alertmanager",N=H||k,ie=(0,u.d4)(Y=>Y.navIndex),$=g?`datasource-${g}-${s}`:`datasource-settings-${s}`;let P={node:{text:(0,i.t)("connections.use-data-source-settings-nav.page-nav.text.data-source-nav-node","Data Source Nav Node")},main:{text:(0,i.t)("connections.use-data-source-settings-nav.page-nav.text.data-source-nav-node","Data Source Nav Node")}};if(C){const Y={text:C,subTitle:(0,i.t)("connections.use-data-source-settings-nav.node.subTitle.data-source-error","Data Source Error"),icon:"exclamation-triangle"};P={node:Y,main:Y}}if((z||!m)&&(P=(0,Ze.tc)(ie,$,(0,We.$m)("settings"))),!r.uid){const Y={text:(0,i.t)("connections.use-data-source-settings-nav.node.subTitle.data-source-error","Data Source Error"),icon:"exclamation-triangle"};P={node:Y,main:Y}}return m&&(P=(0,Ze.tc)(ie,$,(0,We.Vh)((0,We.R4)(r,m),g||"settings"))),{navId:"connections-datasources",pageNav:{...P.main,dataSourcePluginName:p?.name||m?.meta.name||"",active:!0,text:r.name||"",subTitle:l.name?`Type: ${l.name}`:"",children:(P.main.children||[]).map(Y=>({...Y,url:Y.url?.replace("datasources/edit/","/connections/datasources/edit/")}))},dataSourceHeader:{alertingSupported:N}}}function Tn(){const{uid:n=""}=(0,d.g)(),{navId:s,pageNav:o}=Qe("dashboards");return(0,e.jsx)(y.Y,{navId:s,pageNav:o,children:(0,e.jsx)(y.Y.Contents,{children:(0,e.jsx)(Pn,{uid:n})})})}var ye=a(34999),Mn=a(43324),An=a(96221);function In(){const n="standalone-plugin-page-/connections/add-new-connection",{id:s=""}=(0,d.g)(),l=!!(0,u.d4)(p=>p.navIndex)[n]?n:"connections-add-new-connection";return(0,e.jsx)(Mn.V,{pluginId:s,navId:l,notFoundComponent:(0,e.jsx)(Nn,{}),notFoundNavModel:{text:(0,i.t)("connections.data-source-details-page.text.unknown-datasource","Unknown datasource"),subTitle:(0,i.t)("connections.data-source-details-page.subTitle.datasource-could-found","No datasource with this ID could be found."),active:!0}})}function Nn(){const{id:n}=(0,d.g)();return(0,e.jsx)(ye.F,{severity:An.Qd.Warning,title:"",children:(0,e.jsxs)(i.x6,{i18nKey:"connections.not-found-datasource.body",children:["Maybe you mistyped the URL or the plugin with the id ",(0,e.jsx)(te.E,{text:n,color:"orange"})," is unavailable.",(0,e.jsx)("br",{}),"To see a list of available datasources please ",(0,e.jsx)(ve.Y,{href:x.b.AddNewConnection,children:"click here"}),"."]})})}var Bn=a(51026),X=a(30918);function On(){const n=re.TP.hasPermission(L.w.DataSourcesCreate),s=(0,f.useCallback)(()=>{(0,X.DO)({path:window.location.pathname})},[]);return n?(0,e.jsx)(J.z9,{icon:"plus",href:je.$.appSubUrl+x.b.DataSourcesNew,onClick:s,children:(0,e.jsx)(i.x6,{i18nKey:"data-sources.datasource-add-button.label",children:"Add new data source"})}):null}var Je=a(77870),De=a(64003),Xe=a(64048),Ln=a(2543),Rn=a(65064),Ce=a(18548);const we="alpha-asc",ke="alpha-desc",Kn=[{label:"Sort by A\u2013Z",value:we},{label:"Sort by Z\u2013A",value:ke}];function Un({filterCheckbox:n}){const s=(0,u.wA)(),o=(0,f.useMemo)(()=>(0,Ln.debounce)(m=>{(0,X.ov)({query:m})},300),[]),r=(0,f.useCallback)(m=>{s((0,Ce.Bs)(m)),m&&o(m)},[s,o]),l=(0,u.d4)(({dataSources:m})=>(0,De.xs)(m)),p=(0,f.useCallback)(m=>s((0,Ce.Tk)(m.value===we)),[s]),h=(0,u.d4)(({dataSources:m})=>(0,De.lv)(m)),g={onChange:p,value:h?we:ke,getSortOptions:()=>Promise.resolve(Kn)};return(0,e.jsx)(Rn.A,{searchQuery:l,setSearchQuery:r,sortPicker:g,filterCheckbox:n},"action-bar")}function Wn(){const{isLoading:n}=(0,w.US)(),s=(0,Je.S)(),[o,r]=(0,D.s)(),l=!!o.starred,p=I=>{r({starred:I?"true":void 0})},h=(0,u.d4)(I=>(0,De.zC)(I.dataSources)),g=(0,u.d4)(({dataSources:I})=>(0,De.wC)(I)),m=re.TP.hasPermission(L.w.DataSourcesCreate),C=re.TP.hasPermission(L.w.DataSourcesWrite),z=re.TP.hasAccessToExplore();return(0,e.jsx)(wn,{dataSources:h,dataSourcesCount:g,isLoading:n,hasCreateRights:m,hasWriteRights:C,hasExploreRights:z,showFavoritesOnly:l,handleFavoritesCheckboxChange:p,favoriteDataSources:s})}function wn({dataSources:n,dataSourcesCount:s,isLoading:o,hasCreateRights:r,hasWriteRights:l,hasExploreRights:p,showFavoritesOnly:h,handleFavoritesCheckboxChange:g,favoriteDataSources:m}){const C=(0,j.of)(zn),z=(0,d.zy)(),I=m?.enabled&&g&&h!==void 0?{onChange:g,value:h,label:(0,i.t)("datasources.list.starred","Starred")}:void 0,H=(0,f.useMemo)(()=>!h||!m?.enabled?n:n.filter(N=>m?.isFavoriteDatasource(N.uid)),[n,h,m]);if((0,f.useEffect)(()=>{(0,X.kg)({grafana_version:je.$.buildInfo.version,path:z.pathname})},[z]),!o&&s===0)return(0,e.jsx)(fe.p,{variant:"call-to-action",button:(0,e.jsx)(J.z9,{disabled:!r,href:x.b.DataSourcesNew,icon:"database",size:"lg",children:(0,e.jsx)(i.x6,{i18nKey:"data-source-list.empty-state.button-title",children:"Add data source"})}),message:(0,i.t)("data-source-list.empty-state.title","No data sources defined"),children:(0,e.jsxs)(i.x6,{i18nKey:"data-source-list.empty-state.pro-tip",children:["You can also define data sources through configuration files."," ",(0,e.jsx)(ve.Y,{external:!0,href:"http://docs.grafana.org/administration/provisioning/?utm_source=grafana_ds_list#data-sources",children:"Learn more"})]})});const k=()=>o?new Array(20).fill(null).map((N,ie)=>(0,e.jsx)(Xe.N.Skeleton,{hasExploreRights:p},ie)):H.map(N=>(0,e.jsx)("li",{children:(0,e.jsx)(Xe.N,{dataSource:N,hasWriteRights:l,hasExploreRights:p})},N.uid));return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Un,{filterCheckbox:I}),H.length===0&&!o?(0,e.jsx)(fe.p,{variant:"not-found",message:(0,i.t)("data-sources.empty-state.message","No data sources found")}):(0,e.jsx)("ul",{className:C.list,children:k()})]})}const zn=n=>({list:(0,c.css)({listStyle:"none",display:"grid"})});function Fn(){const s=(0,u.d4)(({dataSources:o})=>(0,De.wC)(o))>0?(0,e.jsx)(On,{}):void 0;return(0,e.jsx)(y.Y,{navId:"connections-datasources",actions:s,children:(0,e.jsxs)(y.Y.Contents,{children:[(0,e.jsx)(Bn.l,{}),(0,e.jsx)(Wn,{})]})})}var $n=a(57852),_e=a(62392),Ae=a(54092),qe=a(33604),Yn=a(45229),de=a(51898),en=a(18027),Gn=a(63527),Vn=a(21285);function Hn({dataSourceName:n,isDefault:s,onDefaultChange:o,onNameChange:r,disabled:l}){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{className:"gf-form-group","aria-label":(0,i.t)("datasources.basic-settings.aria-label-datasource-settings-page-basic","Datasource settings page basic settings"),children:(0,e.jsxs)("div",{className:"gf-form-inline",children:[(0,e.jsx)("div",{className:"gf-form max-width-30",children:(0,e.jsx)(en.I,{label:(0,i.t)("datasources.basic-settings.label-name","Name"),tooltip:(0,i.t)("datasources.basic-serttings.tooltip-name","The name is used when you select the data source in panels. The default data source is preselected in new panels."),grow:!0,disabled:l,labelWidth:14,children:(0,e.jsx)(Gn.p,{id:"basic-settings-name",type:"text",value:n,placeholder:(0,i.t)("datasources.basic-settings.basic-settings-name-placeholder-name","Name"),onChange:p=>r(p.currentTarget.value),required:!0,"data-testid":de.Tp.pages.DataSource.name})})}),(0,e.jsx)(en.I,{label:(0,i.t)("datasources.basic-settings.label-default","Default"),labelWidth:8,disabled:l,children:(0,e.jsx)(Vn.K,{id:"basic-settings-default",value:s,onChange:p=>{o(p.currentTarget.checked)}})})]})})})}function Ya({enabled:n}){const s=useStyles2(Zn);return jsx("div",{className:s.badge,children:n?jsx(Badge,{color:"green",icon:"check-circle",text:t("datasources.alerting-enabled.text-alerting-supported","Alerting supported")}):jsx(Badge,{color:"orange",icon:"exclamation-triangle",text:t("datasources.alerting-enabled.text-alerting-not-supported","Alerting not supported")})})}const Zn=n=>({badge:css({marginBottom:n.spacing(2)})});function Qn({canSave:n,canDelete:s,onDelete:o,onSubmit:r,onTest:l}){return(0,e.jsxs)("div",{className:"gf-form-button-row",children:[(0,e.jsx)(J.$n,{type:"button",variant:"destructive",disabled:!s,onClick:o,"data-testid":de.Tp.pages.DataSource.delete,children:(0,e.jsx)(i.x6,{i18nKey:"datasources.button-row.delete",children:"Delete"})}),n&&(0,e.jsx)(J.$n,{type:"submit",variant:"primary",disabled:!n,onClick:r,"data-testid":de.Tp.pages.DataSource.saveAndTest,id:de.Tp.pages.DataSource.saveAndTest,children:(0,e.jsx)(i.x6,{i18nKey:"datasources.button-row.save-and-test",children:"Save & test"})}),!n&&(0,e.jsx)(J.$n,{variant:"primary",onClick:l,children:(0,e.jsx)(i.x6,{i18nKey:"datasources.button-row.test",children:"Test"})})]})}var Jn=a(66615),Xn=a(65642);const kn="datasources.settings.cloudInfoBox.isDismissed";function _n({dataSource:n}){let s="",o="";if(n.readOnly||(n.version??0)>2||Xn.$W.buildInfo.edition!==Ve.r.OpenSource)return null;switch(n.type){case"prometheus":s="Prometheus",o="Loki";break;case"loki":s="Loki",o="Prometheus";break;default:return null}return(0,e.jsx)(Jn.b,{storageKey:kn,defaultValue:!1,children:(r,l)=>r?null:(0,e.jsx)(ye.F,{title:(0,i.t)("datasources.cloud-info-box.title-alert","Configure your {{mainDS}} data source below",{mainDS:s}),severity:"info",bottomSpacing:4,onRemove:()=>{l(!0)},children:(0,e.jsxs)(i.x6,{i18nKey:"datasources.cloud-info-box.body-alert",children:["Or skip the effort and get ",{mainDS:s}," (and ",{extraDS:o},") as fully-managed, scalable, and hosted data sources from Grafana Labs with the"," ",(0,e.jsx)(ve.Y,{href:`https://grafana.com/signup/cloud/connect-account?src=grafana-oss&cnt=${n.type}-settings`,external:!0,children:"free-forever Grafana Cloud plan"}),"."]})})})}const qn="This data source was added by config and cannot be modified using the UI. Please contact your server admin to update this data source.";function nn(){return(0,e.jsx)(ye.F,{"data-testid":de.Tp.pages.DataSource.readOnly,severity:"info",title:(0,i.t)("datasources.data-source-read-only-message.title-provisioned-data-source","Provisioned data source"),children:qn})}function ea({dataSourceRights:n,onDelete:s,notFound:o}){const{readOnly:r,hasDeleteRights:l}=n,p=!r&&l,h=()=>window.history.back();return(0,e.jsxs)(e.Fragment,{children:[r&&(0,e.jsx)(nn,{}),(0,e.jsxs)("div",{className:"gf-form-button-row",children:[o&&(0,e.jsx)(fe.p,{variant:"not-found",message:(0,i.t)("datasources.data-source-load-error.not-found","Data source not found")}),p&&(0,e.jsx)(J.$n,{type:"submit",variant:"destructive",onClick:s,children:(0,e.jsx)(i.x6,{i18nKey:"datasources.data-source-load-error.delete",children:"Delete"})}),(0,e.jsx)(J.$n,{variant:"secondary",fill:"outline",type:"button",onClick:h,children:(0,e.jsx)(i.x6,{i18nKey:"datasources.data-source-load-error.back",children:"Back"})})]})]})}const na="You are not allowed to modify this data source. Please contact your server admin to update this data source.";function aa(){return(0,e.jsx)(ye.F,{severity:"info",title:(0,i.t)("datasources.data-source-missing-rights-message.title-missing-rights","Missing rights"),children:na})}function ta({plugin:n,pageId:s}){if(!n||!n.configPages)return null;const o=n.configPages.find(({id:r})=>r===s);return o?(0,e.jsx)(o.body,{plugin:n,query:{}}):(0,e.jsx)("div",{children:(0,e.jsxs)(i.x6,{i18nKey:"datasources.data-source-plugin-config-page.page-not-found",children:["Page not found: ",{page:o}]})})}var sa=a(3260);class oa extends f.PureComponent{constructor(s){super(s),this.onModelChanged=o=>{this.props.onModelChange(o)},this.onModelChanged=this.onModelChanged.bind(this)}render(){const{plugin:s,dataSource:o}=this.props;return s?(0,e.jsx)("div",{children:s.components.ConfigEditor&&(0,f.createElement)(s.components.ConfigEditor,{options:(0,sa.J7)(o,{source:"datasource",pluginId:s.meta?.id,pluginVersion:s.meta?.info?.version}),onOptionsChange:this.onModelChanged})}):null}}var ia=a(85622);function ra({state:n}){return(0,e.jsxs)("div",{className:"gf-form",children:[(0,e.jsx)("div",{className:"gf-form-label width-10",children:(0,e.jsx)(i.x6,{i18nKey:"datasources.data-source-plugin-state.plugin-state",children:"Plugin state"})}),(0,e.jsx)("div",{className:"gf-form-label gf-form-label--transparent",children:(0,e.jsx)(ia.p,{state:n})})]})}var ca=a(63704),ze=a(46907),la=a(22099),Fe=a(20941),Be=a(37946);const da=(n,s)=>({content:(0,c.css)({color:n.colors.text.secondary,paddingTop:s?n.spacing(1):0,maxHeight:"50vh",overflowY:"auto"}),disabled:(0,c.css)({pointerEvents:"none",color:n.colors.text.secondary}),extensionLinks:(0,c.css)({display:"inline-flex",marginTop:n.spacing(.5),gap:n.spacing(1)})}),an=({title:n,exploreUrl:s,dataSourceId:o,onDashboardLinkClicked:r})=>{const l=(0,j.$j)(),h=da(l,!!n),g=re.TP.hasAccessToExplore();return(0,e.jsx)("div",{className:h.content,children:(0,e.jsxs)(i.x6,{i18nKey:"data-source-testing-status-page.success-more-details-links",children:["Next, you can start to visualize data by"," ",(0,e.jsx)(Fe.N,{"aria-label":(0,i.t)("datasources.alert-success-message.aria-label-create-a-dashboard","Create a dashboard"),href:`/dashboard/new-with-ds/${o}`,className:"external-link",onClick:r,children:"building a dashboard"}),", or by querying data in the"," ",(0,e.jsx)(Fe.N,{"aria-label":(0,i.t)("datasources.alert-success-message.aria-label-explore-data","Explore data"),className:(0,c.cx)("external-link",{[`${h.disabled}`]:!g,"test-disabled":!g}),href:s,children:"Explore view"}),"."]})})};an.displayName="AlertSuccessMessage";const tn=({link:n})=>{const s=(0,j.$j)(),o={content:(0,c.css)({color:s.colors.text.secondary,paddingBlock:s.spacing(1),maxHeight:"50vh",overflowY:"auto"})};return n?/^(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/.test(n)?(0,e.jsx)("div",{className:o.content,children:(0,e.jsxs)(i.x6,{i18nKey:"data-source-testing-status-page.error-more-details-link",children:["Click"," ",(0,e.jsx)(Fe.N,{"aria-label":(0,i.t)("datasources.error-details-link.aria-label-more-details-about-the-error","More details about the error"),className:"external-link",href:n,target:"_blank",rel:"noreferrer",children:"here"})," ","to learn more about this error."]})}):(0,e.jsx)(e.Fragment,{}):(0,e.jsx)(e.Fragment,{})};tn.displayName="ErrorDetailsLink";const ua=new Set(["success","info","warning","error"]),ga=n=>ua.has(n),pa=n=>n.toLowerCase()==="ok"?"success":ga(n)?n:"info";function ha({testingStatus:n,exploreUrl:s,dataSource:o}){const r=pa(n?.status??"error"),l=n?.message,p=n?.details?.message,h=n?.details?.verboseMessage,g=n?.details?.errorDetailsLink,m=()=>{(0,X.TR)({grafana_version:je.$.buildInfo.version,datasource_uid:o.uid,plugin_name:o.typeName,path:window.location.pathname})},C=(0,j.of)(xa),z={dataSource:{type:o.type,uid:o.uid,name:o.name,typeName:o.typeName},testingStatus:n,severity:r},{links:I}=(0,ze.U)({extensionPointId:Ae.SM.DataSourceConfigStatus,context:z,limitPerPlugin:1}),{components:H}=(0,qe.f)({extensionPointId:Ae.SM.DataSourceConfigStatus}),{links:k}=(0,ze.U)({extensionPointId:Ae.SM.DataSourceConfigErrorStatus,context:{dataSource:{type:o.type,uid:o.uid,name:o.name},testingStatus:n},limitPerPlugin:3}),N=I.filter(P=>Be.s.includes(P.pluginId)),ie=k.filter(P=>Be.s.includes(P.pluginId)),$=r==="error"?[...N,...ie]:N;return l?(0,e.jsx)("div",{className:(0,c.cx)("gf-form-group",C.container),children:(0,e.jsxs)(ye.F,{severity:r,title:l,"data-testid":de.Tp.pages.DataSource.alert,children:[n?.details&&(0,e.jsxs)(e.Fragment,{children:[p?(0,e.jsx)(e.Fragment,{children:String(p)}):null,r==="success"?(0,e.jsx)(an,{title:l,exploreUrl:s,dataSourceId:o.uid,onDashboardLinkClicked:m}):null,r==="error"&&g?(0,e.jsx)(tn,{link:String(g)}):null,h?(0,e.jsx)("details",{style:{whiteSpace:"pre-wrap"},children:String(h)}):null]}),$.length>0&&(0,e.jsx)("div",{className:C.linksContainer,children:$.map(P=>(0,e.jsx)("a",{href:P.path?(0,ca.Jf)(P.path):void 0,onClick:P.onClick,className:C.pluginLink,title:P.description,children:P.title},P.id))}),H.length>0&&(0,e.jsx)("div",{className:C.linksContainer,children:(0,la.RC)({props:z,components:H,limit:2,pluginId:Be.s})})]})}):null}const xa=n=>({container:(0,c.css)({paddingTop:n.spacing(3)}),moreLink:(0,c.css)({marginBlock:n.spacing(1)}),linksContainer:(0,c.css)({display:"flex",justifyContent:"flex-end",marginTop:n.spacing(1)}),pluginLink:(0,c.css)({color:n.colors.text.link,textDecoration:"none",marginLeft:n.spacing(2),fontSize:n.typography.bodySmall.fontSize,fontWeight:n.typography.fontWeightMedium,"&:hover":{color:n.colors.text.primary,textDecoration:"underline"},"&:first-child":{marginLeft:0}})});function ma({uid:n,pageId:s}){(0,w.oU)(n);const o=(0,u.wA)(),r=(0,w.xw)(n),l=(0,w.S4)(r.type),p=(0,w._e)(),h=(0,w.u1)(n),g=(0,w.Tn)(n),m=(0,w.$k)(),C=(0,w.BY)(n),z=(0,w.k9)(),I=N=>o((0,Ce.C_)(N)),H=N=>o((0,Ce.rb)(N)),k=N=>o((0,Ce.jz)(N));return(0,e.jsx)(fa,{pageId:s,dataSource:r,dataSourceMeta:l,dataSourceSettings:p,dataSourceRights:h,exploreUrl:g,onDelete:m,onDefaultChange:I,onNameChange:H,onOptionsChange:k,onTest:C,onUpdate:z})}function fa({pageId:n,dataSource:s,dataSourceMeta:o,dataSourceSettings:r,dataSourceRights:l,exploreUrl:p,onDelete:h,onDefaultChange:g,onNameChange:m,onOptionsChange:C,onTest:z,onUpdate:I}){const{plugin:H,loadError:k,testingStatus:N,loading:ie}=r,{readOnly:$,hasWriteRights:P,hasDeleteRights:Se}=l,Y=s.id>0&&s.uid,{components:Ie,isLoading:Ye}=va();let Ee=s.jsonData,pe=s.secureJsonData;const he=Ie.some(ue=>ue.meta.pluginId==="grafana-pdc-app"),xe={...s,jsonData:{...s.jsonData,pdcInjected:he}},Pe=(0,Ue.l)()?.getInstanceSettings(s.uid),Oe=async ue=>{ue.preventDefault(),(0,X._i)("save_and_test");try{await I({...s}),(0,X.m3)({item:"success"}),Yn.A.publish(new $n.wE)}catch{(0,X.m3)({item:"fail"});return}z()};return ie||Ye?(0,e.jsx)(Ke.A,{}):k||!Y||!Pe?(0,e.jsx)(ea,{notFound:!Y||!Pe,dataSourceRights:l,onDelete:()=>{(0,X._i)("delete"),h()}}):n?(0,e.jsx)(_e.p,{instanceSettings:Pe,children:(0,e.jsx)(ta,{pageId:n,plugin:H})}):(0,e.jsxs)("form",{onSubmit:Oe,children:[!P&&(0,e.jsx)(aa,{}),$&&(0,e.jsx)(nn,{}),o.state&&(0,e.jsx)(ra,{state:o.state}),(0,e.jsx)(_n,{dataSource:s}),(0,e.jsx)(Hn,{dataSourceName:s.name,isDefault:s.isDefault,onDefaultChange:g,onNameChange:m,disabled:$||!P}),H&&(0,e.jsx)(_e.p,{instanceSettings:Pe,children:(0,e.jsx)(oa,{plugin:H,dataSource:xe,dataSourceMeta:o,onModelChange:C})}),Ie.map(ue=>(0,e.jsx)("div",{children:(0,e.jsx)(ue,{context:{dataSource:s,dataSourceMeta:o,testingStatus:N,setJsonData:me=>{Ee={...Ee,...me},C({...s,secureJsonData:{...pe},jsonData:Ee})},setSecureJsonData:me=>{pe={...pe,...me},C({...s,jsonData:{...Ee},secureJsonData:pe})}}})},ue.meta.id)),(0,e.jsx)(ha,{testingStatus:N,exploreUrl:p,dataSource:s}),(0,e.jsx)(Qn,{onSubmit:Oe,onDelete:()=>{(0,X._i)("delete"),h()},onTest:()=>{(0,X._i)("test"),z()},canDelete:!$&&Se,canSave:!$&&P})]})}function va(){const{components:n,isLoading:s}=(0,qe.f)({extensionPointId:Ae.SM.DataSourceConfig});return(0,f.useMemo)(()=>({components:n.filter(r=>{switch(r.meta.pluginId){case"grafana-pdc-app":case"grafana-auth-app":return!0;default:return!1}}),isLoading:s}),[n,s])}var ja=a(76319),$e=a(87063),ya=a(88559),sn=a(62054);const Da=({uid:n})=>{const s=(0,Je.S)(),o=(0,Ue.l)().getInstanceSettings(n),r=o?s.isFavoriteDatasource(o.uid):!1;return s.enabled&&o&&!o.meta.builtIn&&(0,e.jsx)(ja.K,{name:r?"favorite":"star",iconType:r?"mono":"default",onClick:()=>r?s.removeFavoriteDatasource(o):s.addFavoriteDatasource(o),disabled:s.isLoading,tooltip:r?(0,i.t)("datasources.edit-data-source-actions.remove-favorite","Remove from favorites"):(0,i.t)("datasources.edit-data-source-actions.add-favorite","Add to favorites"),"data-testid":"favorite-button"},`favorite-${r?"favorite-mono":"star-default"}`)};function Ca({uid:n}){const s=(0,w.xw)(n),o=re.TP.hasAccessToExplore(),{links:r,isLoading:l}=(0,ze.U)({extensionPointId:Ae.SM.DataSourceConfigActions,context:{dataSource:{type:s.type,uid:s.uid,name:s.name,typeName:s.typeName}},limitPerPlugin:1}),p=r.filter(C=>Be.s.includes(C.pluginId)),h=!l&&p.length>0,g=()=>{(0,X._i)("explore"),(0,X.M1)({grafana_version:je.$.buildInfo.version,datasource_uid:s.uid,plugin_name:s.typeName,path:window.location.pathname})},m=(0,e.jsxs)($e.W,{children:[(0,e.jsx)($e.W.Item,{label:(0,i.t)("datasources.edit-data-source-actions.open-in-explore","Open in Explore View"),url:(0,sn.h)(s),onClick:g,icon:"compass"}),p.map(C=>(0,e.jsx)($e.W.Item,{label:C.title,url:C.path,onClick:C.onClick,icon:C.icon},C.id))]});return s.uid?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Da,{uid:n}),o&&(0,e.jsx)(e.Fragment,{children:h?(0,e.jsx)(ya.m,{overlay:m,children:(0,e.jsxs)(J.$n,{variant:"secondary",size:"sm",children:[(0,e.jsx)(i.x6,{i18nKey:"datasources.edit-data-source-actions.explore-data",children:"Explore data"}),(0,e.jsx)(S.I,{name:"angle-down"})]})}):(0,e.jsx)(J.z9,{variant:"secondary",size:"sm",href:(0,sn.h)(s),onClick:g,children:(0,e.jsx)(i.x6,{i18nKey:"datasources.edit-data-source-actions.explore-data",children:"Explore data"})})}),(0,e.jsx)(J.z9,{size:"sm",variant:"secondary",href:`dashboard/new-with-ds/${s.uid}`,onClick:()=>{(0,X._i)("build_a_dashboard"),(0,X.TR)({grafana_version:je.$.buildInfo.version,datasource_uid:s.uid,plugin_name:s.typeName,path:window.location.pathname})},children:(0,e.jsx)(i.x6,{i18nKey:"datasources.edit-data-source-actions.build-a-dashboard",children:"Build a dashboard"})})]}):null}const Sa=n=>{const s=[],o=n.alertingSupported;return n.dataSourcePluginName&&(s.push({label:(0,i.t)("datasources.use-data-source-info.label.type","Type"),value:n.dataSourcePluginName}),s.push({label:(0,i.t)("datasources.use-data-source-info.label.alerting","Alerting"),value:(0,e.jsx)(te.E,{color:o?"green":"red",text:o?(0,i.t)("datasources.use-data-source-info.badge-text-supported","Supported"):(0,i.t)("datasources.use-data-source-info.badge-text-not-supported","Not supported")})})),s};function Ea({title:n}){const s=(0,j.of)(Pa);return(0,e.jsx)("div",{className:s.container,children:(0,e.jsx)("h1",{className:s.title,children:n})})}const Pa=n=>({container:(0,c.css)({marginBottom:n.spacing(2),h1:{display:"inline-block"}}),title:(0,c.css)({display:"inline-block",margin:"0 0 0 0",maxWidth:"40vw",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"})});function ba({uid:n,pageId:s}){const{navId:o,pageNav:r,dataSourceHeader:l}=Qe(),p=Sa({dataSourcePluginName:r.dataSourcePluginName,alertingSupported:l.alertingSupported});return(0,e.jsx)(y.Y,{navId:o,pageNav:r,renderTitle:h=>(0,e.jsx)(Ea,{title:h}),info:p,actions:(0,e.jsx)(Ca,{uid:n}),children:(0,e.jsx)(y.Y.Contents,{children:(0,e.jsx)(ma,{uid:n,pageId:s})})})}const Ta=ba;function Ma(){const{uid:n=""}=(0,d.g)(),s=(0,d.zy)(),r=new URLSearchParams(s.search).get("page");return(0,e.jsx)(Ta,{uid:n,pageId:r})}var Aa=a(12737),on=a(5585),rn=a(63509);function Ia({filterByPluginType:n}){let s=(0,Z.F9)(n);const{isLoading:o}=(0,Z.m5)(),r=(0,j.of)(Ba);return o||s.length===0?null:(0,e.jsxs)(ye.F,{title:(0,i.t)("plugins.plugins-errors-info.title-unsigned-plugins","Unsigned plugins were found during plugin initialization. Grafana Labs cannot guarantee the integrity of these plugins. We recommend only using signed plugins."),"data-testid":de.Tp.pages.PluginsList.signatureErrorNotice,severity:"warning",children:[(0,e.jsx)("p",{children:(0,e.jsx)(i.x6,{i18nKey:"plugins.plugins-errors-info.disabled-list",children:"The following plugins are disabled and not shown in the list below:"})}),(0,e.jsx)(on.B,{items:s,className:r.list,renderItem:l=>(0,e.jsx)("div",{className:r.wrapper,children:(0,e.jsxs)(W.B,{justifyContent:"flex-start",alignItems:"center",children:[(0,e.jsx)("strong",{children:l.pluginId}),(0,e.jsx)(rn.B,{status:Na(l.errorCode),className:r.badge})]})})}),(0,e.jsx)(ve.Y,{href:"https://grafana.com/docs/grafana/latest/plugins/plugin-signatures/",external:!0,className:r.docsLink,children:(0,e.jsx)(i.x6,{i18nKey:"plugins.plugins-errors-info.read-more-about-plugin-signing",children:"Read more about plugin signing"})})]})}function Na(n){switch(n){case v.ZK.invalidSignature:return v.Ac.invalid;case v.ZK.missingSignature:return v.Ac.missing;case v.ZK.modifiedSignature:return v.Ac.modified;default:return v.Ac.missing}}function Ba(n){return{list:(0,c.css)({listStyleType:"circle"}),wrapper:(0,c.css)({marginTop:n.spacing(1)}),badge:(0,c.css)({marginTop:0}),docsLink:(0,c.css)({display:"inline-block",marginTop:n.spacing(2)})}}function Oa({onClick:n,dataSourcePlugin:s}){const o=s.module==="phantom",r=!o&&!s.unlicensed,l=s.info?.links?.length>0?s.info.links[0]:null,p=l?.target??"_blank",h=(0,j.of)(La);return(0,e.jsxs)(T.Z,{className:(0,c.cx)(h.card,"card-parent"),onClick:r?n:()=>{},children:[(0,e.jsx)(T.Z.Heading,{className:h.heading,"aria-label":de.Tp.pages.AddDataSource.dataSourcePluginsV2(s.name),children:s.name}),(0,e.jsx)(T.Z.Figure,{align:"center",className:h.figure,children:(0,e.jsx)("img",{className:h.logo,src:s.info.logos.small,alt:""})}),(0,e.jsx)(T.Z.Description,{className:h.description,children:s.info.description}),!o&&(0,e.jsx)(T.Z.Meta,{className:h.meta,children:(0,e.jsx)(rn.B,{status:s.signature})}),(0,e.jsx)(T.Z.Actions,{className:h.actions,children:l&&(0,e.jsx)(J.z9,{"aria-label":(0,i.t)("datasources.data-source-type-card.aria-label-learn-more","{{dataSourcePluginName}}, learn more.",{dataSourcePluginName:s.name}),href:`${l.url}?utm_source=grafana_add_ds`,onClick:g=>g.stopPropagation(),rel:"noopener",target:p,variant:"secondary",children:l.name})})]})}function La(n){return{heading:(0,c.css)({fontSize:n.v1.typography.heading.h5,fontWeight:"inherit"}),figure:(0,c.css)({width:"inherit",marginRight:"0px","> img":{width:n.spacing(7)}}),meta:(0,c.css)({marginTop:"6px",position:"relative"}),description:(0,c.css)({margin:"0px",fontSize:n.typography.size.sm}),actions:(0,c.css)({position:"relative",alignSelf:"center",marginTop:"0px",opacity:0,".card-parent:hover &, .card-parent:focus-within &":{opacity:1}}),card:(0,c.css)({gridTemplateAreas:`
        "Figure   Heading   Actions"
        "Figure Description Actions"
        "Figure    Meta     Actions"
        "Figure     -       Actions"`}),logo:(0,c.css)({marginRight:n.v1.spacing.lg,marginLeft:n.v1.spacing.sm,width:n.spacing(7),maxHeight:n.spacing(7)})}}function cn({dataSourcePlugins:n,onClickDataSourceType:s}){return!n||!n.length?null:(0,e.jsx)(on.B,{items:n,getItemKey:o=>o.id.toString(),renderItem:o=>(0,e.jsx)(Oa,{dataSourcePlugin:o,onClick:()=>s(o)}),className:(0,c.css)({"> li":{marginBottom:"2px"}})})}function Ra({categories:n,onClickDataSourceType:s}){const o=`${x.b.AddNewConnection}?cat=data-source`,r=(0,j.of)(Ka),l=(0,f.useCallback)(()=>{(0,Q.rR)("connections_add_datasource_find_more_ds_plugins_clicked",{targetPath:o,path:window.location.pathname,creator_team:"grafana_plugins_catalog",schema_version:"1.0.0"})},[o]);return(0,e.jsxs)(e.Fragment,{children:[n.map(({id:p,title:h,plugins:g})=>(0,e.jsxs)("div",{className:r.category,children:[(0,e.jsx)("div",{className:r.header,id:p,children:h}),(0,e.jsx)(cn,{dataSourcePlugins:g,onClickDataSourceType:s})]},p)),(0,e.jsx)("div",{className:r.more,children:(0,e.jsx)(J.z9,{variant:"secondary",href:o,onClick:l,target:"_self",rel:"noopener",children:(0,e.jsx)(i.x6,{i18nKey:"datasources.data-source-categories.find-more-data-source-plugins",children:"Find more data source plugins"})})})]})}const Ka=n=>({category:(0,c.css)({marginBottom:n.spacing(2)}),header:(0,c.css)({fontSize:n.typography.h5.fontSize,marginBottom:n.spacing(1)}),more:(0,c.css)({margin:n.spacing(4),textAlign:"center"})});function Ua(){(0,w.hx)();const n=(0,u.wA)(),s=(0,u.d4)(g=>(0,De.hp)(g.dataSources)),o=(0,u.d4)(g=>g.dataSources.dataSourceTypeSearchQuery),r=(0,u.d4)(g=>g.dataSources.isLoadingDataSourcePlugins),l=(0,u.d4)(g=>g.dataSources.categories),p=(0,w.Um)(),h=g=>n((0,Ce.eB)(g));return(0,e.jsx)(Wa,{dataSources:s,dataSourceCategories:l,searchQuery:o,isLoading:r,onAddDataSource:p,onSetSearchQuery:h})}function Wa({dataSources:n,dataSourceCategories:s,searchQuery:o,isLoading:r,onAddDataSource:l,onSetSearchQuery:p}){return r?(0,e.jsx)(Ke.A,{}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"page-action-bar",children:[(0,e.jsx)(Aa.Z,{value:o,onChange:p,placeholder:(0,i.t)("datasources.new-data-source-view.placeholder-filter-by-name-or-type","Filter by name or type")}),(0,e.jsx)("div",{className:"page-action-bar__spacer"}),(0,e.jsx)(J.z9,{href:x.b.DataSources,fill:"outline",variant:"secondary",icon:"arrow-left",children:(0,e.jsx)(i.x6,{i18nKey:"datasources.new-data-source-view.cancel",children:"Cancel"})})]}),!o&&(0,e.jsx)(Ia,{filterByPluginType:v.QE.datasource}),(0,e.jsxs)("div",{children:[o&&(0,e.jsx)(cn,{dataSourcePlugins:n,onClickDataSourceType:l}),!o&&(0,e.jsx)(Ra,{categories:s,onClickDataSourceType:l})]})]})}function wa(){return(0,e.jsx)(y.Y,{navId:"connections-datasources",pageNav:{text:(0,i.t)("connections.new-data-source-page.text.add-data-source","Add data source"),subTitle:(0,i.t)("connections.new-data-source-page.subTitle.choose-a-data-source-type","Choose a data source type"),active:!0},children:(0,e.jsx)(y.Y.Contents,{children:(0,e.jsx)(Ua,{})})})}function za(){const{search:n}=(0,d.zy)();return(0,e.jsx)(d.C5,{replace:!0,to:{pathname:x.b.AddNewConnection,search:n}})}function Fa(){const s=!!(0,u.d4)(o=>o.navIndex)["standalone-plugin-page-/connections/add-new-connection"];return(0,e.jsxs)(d.BV,{children:[(0,e.jsx)(d.qh,{caseSensitive:!0,path:"/",element:(0,e.jsx)(Dn,{})}),(0,e.jsx)(d.qh,{caseSensitive:!0,path:x.b.DataSources.replace(x.b.Base,""),element:(0,e.jsx)(Fn,{})}),(0,e.jsx)(d.qh,{caseSensitive:!0,path:x.b.DataSourcesNew.replace(x.b.Base,""),element:(0,e.jsx)(wa,{})}),(0,e.jsx)(d.qh,{caseSensitive:!0,path:x.b.DataSourcesDetails.replace(x.b.Base,""),element:(0,e.jsx)(In,{})}),(0,e.jsx)(d.qh,{caseSensitive:!0,path:x.b.DataSourcesEdit.replace(x.b.Base,""),element:(0,e.jsx)(Ma,{})}),(0,e.jsx)(d.qh,{caseSensitive:!0,path:x.b.DataSourcesDashboards.replace(x.b.Base,""),element:(0,e.jsx)(Tn,{})}),!s&&(0,e.jsx)(d.qh,{caseSensitive:!0,path:x.b.AddNewConnection.replace(x.b.Base,""),element:(0,e.jsx)(mn,{})}),(0,e.jsx)(d.qh,{path:x.b.ConnectDataOutdated.replace(x.b.Base,""),element:(0,e.jsx)(za,{})}),(0,e.jsx)(d.qh,{path:"/your-connections/:page",element:(0,e.jsx)(d.C5,{replace:!0,to:`${x.b.Base}/:page`})}),(0,e.jsx)(d.qh,{path:x.b.YourConnectionsOutdated.replace(x.b.Base,""),element:(0,e.jsx)(d.C5,{replace:!0,to:x.b.DataSources})}),(0,e.jsx)(d.qh,{element:(0,e.jsx)(d.C5,{replace:!0,to:"/notfound"})})]})}},27589:(ne,E,a)=>{a.d(E,{z:()=>c});var e=a(74848),d=a(22803),u=a(92745),x=a(63142);function c({plugin:v}){const j=(0,x.of)(f);return(0,e.jsx)("p",{className:j.hasUpdate,children:(0,e.jsx)(u.x6,{i18nKey:"plugins.plugin-update-available-badge.update-available",children:"Update available!"})})}const f=v=>({hasUpdate:(0,d.css)({color:v.colors.text.secondary,fontSize:v.typography.bodySmall.fontSize,marginBottom:0})})},42135:(ne,E,a)=>{a.d(E,{E:()=>f});var e=a(74848),d=a(92745),u=a(27489),x=a(89640),c=a(35137);const f=()=>(0,e.jsxs)("div",{children:[(0,e.jsx)(c.$,{v:2}),(0,e.jsx)(x.Y,{href:"https://github.com/grafana/grafana/issues/new?assignees=&labels=area%2Fdatasource%2Ctype%2Fnew-plugin-request&projects=&template=3-data_source_request.yaml&title=%5BNew+Data+Source%5D%3A+%3Cname-of-service%3E",onClick:()=>(0,u.rR)("connections_data_source_request_clicked"),external:!0,children:(0,e.jsx)(d.x6,{i18nKey:"connections.connect-data.request-data-source",children:"Request a new data source"})}),(0,e.jsx)("br",{}),(0,e.jsx)(x.Y,{href:"https://github.com/orgs/grafana/projects/619/views/1?pane=info",onClick:()=>(0,u.rR)("connections_data_source_roadmap_clicked"),external:!0,children:(0,e.jsx)(d.x6,{i18nKey:"connections.connect-data.roadmap",children:"View roadmap"})})]})},51026:(ne,E,a)=>{a.d(E,{l:()=>Z});var e=a(74848),d=a(22803),u=a(96540),x=a(92745),c=a(43173),f=a(55315),v=a(34999),j=a(45861),y=a(63142),K=a(73427);const B=i=>({alertContent:(0,d.css)({display:"flex",flexDirection:"row",padding:0,justifyContent:"space-between",alignItems:"center"}),alertParagraph:(0,d.css)({margin:i.spacing(0,1,0,0),lineHeight:i.spacing(i.components.height.sm)})}),b=new f.X("advisor-redirect-notice");function Z(){const i=(0,y.of)(B),ae=K.TP.hasRole("Admin")||K.TP.isGrafanaAdmin,[Q,F]=(0,u.useState)(!1),A=ae&&c.$.featureToggles.grafanaAdvisor&&!!c.$.apps["grafana-advisor-app"];return(0,u.useEffect)(()=>{A&&b.getItem("showNotice").then(R=>{R!=="false"&&F(!0)})},[A]),Q?(0,e.jsx)(v.F,{severity:"info",title:"",onRemove:()=>{b.setItem("showNotice","false"),F(!1)},children:(0,e.jsxs)("div",{className:i.alertContent,children:[(0,e.jsx)("p",{className:i.alertParagraph,children:(0,e.jsx)(x.x6,{i18nKey:"connections.advisor-redirect-notice.body",children:"Try the new Advisor to uncover potential issues with your data sources and plugins."})}),(0,e.jsx)(j.z9,{"aria-label":(0,x.t)("connections.advisor-redirect-notice.aria-label-link-to-advisor","Link to Advisor"),icon:"arrow-right",href:"/a/grafana-advisor-app",fill:"text",children:(0,e.jsx)(x.x6,{i18nKey:"connections.advisor-redirect-notice.go-to-advisor",children:"Go to Advisor"})})]})}):(0,e.jsx)(e.Fragment,{})}},65064:(ne,E,a)=>{a.d(E,{A:()=>y});var e=a(74848),d=a(22803),u=a(45861),x=a(18027),c=a(12737),f=a(32635),v=a(63142),j=a(18552);function y({searchQuery:B,linkButton:b,setSearchQuery:Z,target:i,placeholder:ae="Search by name or type",sortPicker:Q,filterCheckbox:F}){const A=(0,v.of)(K),R={href:b?.href,disabled:b?.disabled};return i&&(R.target=i),(0,e.jsxs)("div",{className:A.container,children:[(0,e.jsx)(x.I,{grow:!0,children:(0,e.jsx)(c.Z,{value:B,onChange:Z,placeholder:ae})}),F&&(0,e.jsx)(f.S,{label:F.label,value:F.value,onChange:se=>F.onChange(se.currentTarget.checked)}),Q&&(0,e.jsx)(j.r,{onChange:Q.onChange,value:Q.value,getSortOptions:Q.getSortOptions}),b&&(0,e.jsx)(u.z9,{...R,children:b.title})]})}const K=B=>({container:(0,d.css)({display:"flex",alignItems:"center",gap:B.spacing(2),marginBottom:B.spacing(2)})})},65223:(ne,E,a)=>{a.d(E,{U:()=>se,A:()=>re});var e=a(74848),d=a(96540),u=a(92745),x=a(27489),c=a(43173),f=a(71599),v=a(23691),j=a(13660),y=a(22803),K=a(63142),B=a(45967),b=a(30703),Z=a(68079),i=a(50201),ae=a(32635);const Q=D=>({table:(0,y.css)({marginTop:D.spacing(2),width:"100%",borderCollapse:"collapse"}),tableRow:(0,y.css)({borderBottom:`1px solid ${D.colors.border.weak}`,td:{paddingRight:D.spacing(1)}}),icon:(0,y.css)({display:"flex",justifyContent:"center",alignItems:"center"}),header:(0,y.css)({textAlign:"left",padding:D.spacing(1),borderBottom:`2px solid ${D.colors.border.strong}`,th:{paddingRight:D.spacing(1)}}),data:(0,y.css)({padding:"10px"}),footer:(0,y.css)({fontSize:D.typography.bodySmall.fontSize,marginTop:D.spacing(3)}),noPluginsMessage:(0,y.css)({display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}),tableContainer:(0,y.css)({overflowY:"auto",overflowX:"hidden",maxHeight:D.spacing(41),marginBottom:D.spacing(2)}),errorIcon:(0,y.css)({color:D.colors.error.main}),successIcon:(0,y.css)({color:D.colors.success.main}),pluginsInstalled:(0,y.css)({svg:{marginRight:D.spacing(1)}})}),F=({id:D,inProgress:G,isSelected:_,isInstalled:O,errorMap:oe})=>{const L=(0,K.of)(Q);return oe&&oe.has(D)?(0,e.jsx)(B.m,{content:(0,u.t)("plugins.catalog.update-all.error","Error updating plugin: {{errorMessage}}",{errorMessage:oe.get(D)?.message}),children:(0,e.jsx)(b.I,{className:L.errorIcon,size:"xl",name:"exclamation-triangle"})}):O?(0,e.jsx)(b.I,{className:L.successIcon,size:"xl",name:"check"}):G&&_?(0,e.jsx)(Z.y,{}):""},A=({plugins:D,pluginsNotInstalled:G,inProgress:_,selectedPlugins:O,onCheckboxChange:oe,errorMap:L})=>{const U=(0,K.of)(Q),te=D.length-G.size,q=D.length!==G.size&&!_;return(0,e.jsx)("div",{children:D.length===0?(0,e.jsx)(i.p,{variant:"completed",message:(0,u.t)("plugins.catalog.update-all.all-plugins-updated","All plugins updated!")}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{children:(0,e.jsx)(u.x6,{i18nKey:"plugins.catalog.update-all.header",children:"The following plugins have update available"})}),(0,e.jsx)("div",{className:U.tableContainer,children:(0,e.jsxs)("table",{className:U.table,children:[(0,e.jsx)("thead",{className:U.header,children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{children:(0,e.jsx)(u.x6,{i18nKey:"plugins.catalog.update-all.update-header",children:"Update"})}),(0,e.jsx)("th",{children:(0,e.jsx)(u.x6,{i18nKey:"plugins.catalog.update-all.name-header",children:"Name"})}),(0,e.jsx)("th",{children:(0,e.jsx)(u.x6,{i18nKey:"plugins.catalog.update-all.installed-header",children:"Installed"})}),(0,e.jsx)("th",{children:(0,e.jsx)(u.x6,{i18nKey:"plugins.catalog.update-all.available-header",children:"Available"})}),(0,e.jsx)("th",{})]})}),(0,e.jsx)("tbody",{children:D.map(({id:T,name:W,installedVersion:ce,latestVersion:le})=>(0,e.jsxs)("tr",{className:U.tableRow,children:[(0,e.jsx)("td",{children:(0,e.jsx)(ae.S,{onChange:()=>oe(T),value:O?.has(T),disabled:!G.has(T)})}),(0,e.jsx)("td",{children:W}),(0,e.jsx)("td",{children:ce}),(0,e.jsx)("td",{children:le}),(0,e.jsx)("td",{className:U.icon,children:(0,e.jsx)(F,{id:T,inProgress:_,isSelected:O?.has(T)??!1,isInstalled:!G.has(T),errorMap:L})})]},T))})]})}),te>0&&q&&(0,e.jsxs)("div",{className:U.pluginsInstalled,children:[(0,e.jsx)(b.I,{className:U.successIcon,size:"lg",name:"check"}),`${te} ${(0,u.t)("plugins.catalog.update-all.update-status-text","plugins updated")}`]}),L.size>0&&q&&(0,e.jsxs)("div",{className:U.pluginsInstalled,children:[(0,e.jsx)(b.I,{className:U.errorIcon,size:"lg",name:"exclamation-triangle"}),`${L.size} ${(0,u.t)("plugins.catalog.update-all.error-status-text","failed - see error messages")}`]}),c.$.pluginAdminExternalManageEnabled&&(0,e.jsx)("footer",{className:U.footer,children:(0,e.jsx)(u.x6,{i18nKey:"plugins.catalog.update-all.cloud-update-message",children:"* It may take a few minutes for the plugins to be available for usage."})})]})})},R="plugins_update_all_clicked",se=({isOpen:D,onDismiss:G,isLoading:_,plugins:O})=>{const oe=(0,v.xX)(),{error:L}=(0,v.XN)(),[U,te]=(0,d.useState)(new Map),[q,T]=(0,d.useState)(!1),[W,ce]=(0,d.useState)(),le=(0,d.useRef)(O),be=(0,d.useMemo)(()=>new Set(O.map(S=>S.id)),[O]),Te=O.length;(0,d.useEffect)(()=>{le.current.length===0&&(le.current=[...O])},[O]),(0,d.useEffect)(()=>{q&&(W?.forEach(S=>{be.has(S)||ce(V=>{const ee=new Set(V);return ee.delete(S),ee})}),W?.size===0&&T(!1))},[q,be,W]),(0,d.useEffect)(()=>{if(W===void 0&&O.length>0&&!_){const S=new Set(O.map(V=>V.id));ce(S)}},[_,O,W]),(0,d.useEffect)(()=>{q&&L&&!U.has(L.id)&&W?.has(L.id)&&(te(S=>{const V=new Map(S);return V.set(L.id,L),V}),ce(S=>{const V=new Set(S);return V.delete(L.id),V}))},[L,U,q,W]);const Le=async()=>{if(!q)if((0,x.rR)(R,{path:window.location.pathname,count:W?.size,creator_team:"grafana_plugins_catalog",schema_version:"1.0.0"}),T(!0),c.$.pluginAdminExternalManageEnabled)for(let S of O)W?.has(S.id)&&await oe(S.id,S.latestVersion,j.u8.UPDATE);else O.forEach(S=>{W?.has(S.id)&&oe(S.id,S.latestVersion,j.u8.UPDATE)})},Ne=()=>{le.current=[],te(new Map),T(!1),ce(void 0),G()},Re=S=>{ce(V=>{const ee=new Set(V);return ee.has(S)?ee.delete(S):ee.add(S),ee}),U.has(S)&&te(V=>{const ee=new Map(V);return ee.delete(S),ee})},Me=W?.size||0;return(0,e.jsx)(f.u,{isOpen:D,title:(0,u.t)("plugins.catalog.update-all.modal-title","Update Plugins"),body:(0,e.jsx)(A,{plugins:le.current,pluginsNotInstalled:be,inProgress:q,errorMap:U,onCheckboxChange:Re,selectedPlugins:W}),onConfirm:Te>0?Le:Ne,onDismiss:Ne,disabled:fe(q,Te,Me),confirmText:ge(Te,q,Me),confirmButtonVariant:"primary"})};function ge(D,G,_){return G?(0,u.t)("plugins.catalog.update-all.modal-in-progress","Updating..."):D>0?(0,u.t)("plugins.catalog.update-all.modal-confirmation","Update")+` (${_})`:(0,u.t)("plugins.catalog.update-all.modal-dismiss","Close")}function fe(D,G,_){return!!(D||G>0&&_===0)}const re=se},74814:(ne,E,a)=>{a.d(E,{J:()=>f});var e=a(74848),d=a(92745),u=a(99887),x=a(63142),c=a(93984);function f(){const v=(0,x.of)(c.X);return(0,e.jsx)(u.E,{text:(0,d.t)("plugins.plugin-installed-badge.text-installed","Installed"),color:"orange",className:v})}},81687:(ne,E,a)=>{a.d(E,{W:()=>d});var e=a(36490);const d=()=>({push:({query:u})=>{e.Ny.partial(u)}})},84969:(ne,E,a)=>{a.d(E,{L:()=>v});var e=a(74848),d=a(96540),u=a(40996),x=a(92745),c=a(12737);const f=(j,y=0,K=[])=>{const B=(0,d.useRef)(!0),b=[...K,B];return(0,u.A)(()=>{if(B.current){B.current=!1;return}return j()},y,b)},v=({value:j,onSearch:y})=>{const[K,B]=(0,d.useState)(j);return f(()=>y(K??""),500,[K]),(0,e.jsx)(c.Z,{value:K,onKeyDown:b=>{(b.key==="Enter"||b.keyCode===13)&&y(b.currentTarget.value)},placeholder:(0,x.t)("plugins.search-field.placeholder-search-grafana-plugins","Search Grafana plugins"),onChange:b=>{B(b)},width:46})}},85680:(ne,E,a)=>{a.d(E,{Bz:()=>ae,Q9:()=>Z,Ss:()=>F,TA:()=>i,lC:()=>Q});var e=a(68143),d=a(6890),u=a(64762),x=a(13956),c=a(79718),f=a(89224),v=a(69289),j=a(37256),y=a(39167),K=a(22429),B=a(75421),b=a(37918);function Z(A,R){return async se=>{await(0,e.AI)().post("/api/dashboards/import",A),se((0,d.dx)((0,u.tZ)("Dashboard Imported",R))),se((0,j.h9)())}}function i(A){return async R=>{await(0,x.n)().deleteDashboard(A,!1),R((0,j.h9)())}}const ae=()=>(A,R)=>{const ge=R().dashboard.getModel();ge&&(ge.destroy(),A((0,y.Y7)(ge.uid))),(0,B.jG)().stopAutoRefresh(),A((0,b.p0)()),A((0,f.rG)()),c.t.leave(),(0,K.UA)().setCurrent(void 0)},Q=A=>R=>{R((0,v.Cj)(A)),(0,B.jG)().refreshTimeModel()},F=A=>R=>{R((0,v.xu)(A)),(0,B.jG)().refreshTimeModel()}},93984:(ne,E,a)=>{a.d(E,{X:()=>d});var e=a(22803);const d=u=>(0,e.css)({background:u.colors.background.primary,borderColor:u.colors.border.strong,color:u.colors.text.secondary})},99946:(ne,E,a)=>{a.d(E,{y:()=>x});var e=a(74848),d=a(92745),u=a(99887);function x(){return(0,e.jsx)(u.E,{icon:"exclamation-triangle",text:(0,d.t)("plugins.plugin-deprecated-badge.text-deprecated","Deprecated"),color:"orange",tooltip:(0,d.t)("plugins.plugin-deprecated-badge.tooltip-plugin-deprecated-longer-receives-updates","This plugin is deprecated and no longer receives updates.")})}}}]);

//# sourceMappingURL=4827.4b2fc5c05db09e8c4840.js.map