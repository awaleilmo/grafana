{"version":3,"file":"AlertGroups.e0a87803daa30c932672.js","mappings":"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","sources":["webpack://grafana/./public/app/features/alerting/unified/components/CollapseToggle.tsx","webpack://grafana/./public/app/features/alerting/unified/components/alert-groups/AlertStateFilter.tsx","webpack://grafana/./public/app/features/alerting/unified/components/alert-groups/GroupBy.tsx","webpack://grafana/./public/app/features/alerting/unified/components/alert-groups/ReceiverFilter.tsx","webpack://grafana/./public/app/features/alerting/unified/components/alert-groups/AlertGroupFilter.tsx","webpack://grafana/./public/app/features/alerting/unified/hooks/useFilteredAmGroups.ts","webpack://grafana/./public/app/features/alerting/unified/hooks/useGroupedAlerts.ts","webpack://grafana/./public/app/features/alerting/unified/AlertGroups.tsx","webpack://grafana/./public/app/features/alerting/unified/components/alert-groups/AlertDetails.tsx","webpack://grafana/./public/app/features/alerting/unified/components/alert-groups/AlertGroupAlertsTable.tsx","webpack://grafana/./public/app/features/alerting/unified/styles/notifications.ts","webpack://grafana/./public/app/features/alerting/unified/components/alert-groups/AlertGroupHeader.tsx","webpack://grafana/./public/app/features/alerting/unified/components/alert-groups/AlertGroup.tsx"],"sourcesContent":["import { HTMLAttributes } from 'react';\n\nimport { Button, IconSize } from '@grafana/ui';\n\ninterface Props extends HTMLAttributes<HTMLButtonElement> {\n  isCollapsed: boolean;\n  onToggle: (isCollapsed: boolean) => void;\n  // Todo: this should be made compulsory for a11y purposes\n  idControlled?: string;\n  size?: IconSize;\n  className?: string;\n  text?: string;\n}\n\nexport const CollapseToggle = ({\n  isCollapsed,\n  onToggle,\n  idControlled,\n  className,\n  text,\n  size = 'xl',\n  ...restOfProps\n}: Props) => {\n  return (\n    <Button\n      type=\"button\"\n      fill=\"text\"\n      variant=\"secondary\"\n      aria-expanded={!isCollapsed}\n      aria-controls={idControlled}\n      className={className}\n      icon={isCollapsed ? 'angle-right' : 'angle-down'}\n      onClick={() => onToggle(!isCollapsed)}\n      {...restOfProps}\n    >\n      {text}\n    </Button>\n  );\n};\n","import { SelectableValue } from '@grafana/data';\nimport { Trans } from '@grafana/i18n';\nimport { Icon, Label, RadioButtonGroup, Tooltip } from '@grafana/ui';\nimport { AlertState } from 'app/plugins/datasource/alertmanager/types';\n\ninterface Props {\n  stateFilter?: AlertState;\n  onStateFilterChange: (value: AlertState) => void;\n}\n\nexport const AlertStateFilter = ({ onStateFilterChange, stateFilter }: Props) => {\n  const alertStateOptions: SelectableValue[] = Object.entries(AlertState)\n    .sort(([labelA], [labelB]) => (labelA < labelB ? -1 : 1))\n    .map(([label, state]) => ({\n      label,\n      value: state,\n    }));\n\n  return (\n    <div>\n      <Label>\n        <span>\n          <Trans i18nKey=\"alerting.alert-state-filter.notification-state\">Notification state</Trans>&nbsp;\n        </span>\n        <Tooltip\n          content={\n            <div>\n              <ul>\n                <li>\n                  <Trans i18nKey=\"alerting.alert-state-filter.active-the-alert-is-firing\">\n                    Active: The alert notification has been handled. The alert is still firing and continues to be\n                    managed.\n                  </Trans>\n                </li>\n                <li>\n                  <Trans i18nKey=\"alerting.alert-state-filter.suppressed-the-alert-has-been-silenced\">\n                    Suppressed: The alert has been silenced.\n                  </Trans>\n                </li>\n                <li>\n                  <Trans i18nKey=\"alerting.alert-state-filter.unprocessed-the-alert-is-received\">\n                    Unprocessed: The alert is received but its notification has not been processed yet.\n                  </Trans>\n                </li>\n              </ul>\n            </div>\n          }\n        >\n          <Icon name=\"info-circle\" size=\"sm\" />\n        </Tooltip>\n      </Label>\n      <RadioButtonGroup options={alertStateOptions} value={stateFilter} onChange={onStateFilterChange} />\n    </div>\n  );\n};\n","import { uniq } from 'lodash';\n\nimport { SelectableValue } from '@grafana/data';\nimport { Trans, t } from '@grafana/i18n';\nimport { Icon, Label, MultiSelect, Tooltip } from '@grafana/ui';\nimport { AlertmanagerGroup } from 'app/plugins/datasource/alertmanager/types';\n\nimport { isPrivateLabelKey } from '../../utils/labels';\n\ninterface Props {\n  groups: AlertmanagerGroup[];\n  groupBy: string[];\n  onGroupingChange: (keys: string[]) => void;\n}\n\nexport const GroupBy = ({ groups, groupBy, onGroupingChange }: Props) => {\n  const labelKeyOptions = uniq(groups.flatMap((group) => group.alerts).flatMap(({ labels }) => Object.keys(labels)))\n    .filter((label) => !isPrivateLabelKey(label)) // Filter out private labels\n    .map<SelectableValue>((key) => ({\n      label: key,\n      value: key,\n    }));\n\n  return (\n    <div data-testid={'group-by-container'}>\n      <Label>\n        <span>\n          <Trans i18nKey=\"alerting.group-by.custom-group-by\">Custom group by</Trans>&nbsp;\n        </span>\n        <Tooltip\n          content={\n            <div>\n              <Trans i18nKey=\"alerting.group-by.tooltip-group-by\">\n                Group notifications using a different combination of labels. This option can help validate the grouping\n                settings of your notification policies.\n              </Trans>\n            </div>\n          }\n        >\n          <Icon name=\"info-circle\" size=\"sm\" />\n        </Tooltip>\n      </Label>\n      <MultiSelect\n        aria-label={t('alerting.group-by.aria-label-group-by-label-keys', 'Group by label keys')}\n        value={groupBy}\n        placeholder={t('alerting.group-by.placeholder-group-by', 'Group by')}\n        prefix={<Icon name={'tag-alt'} />}\n        onChange={(items) => {\n          onGroupingChange(items.map(({ value }) => value as string));\n        }}\n        options={labelKeyOptions}\n        width={34}\n      />\n    </div>\n  );\n};\n","import { uniq } from 'lodash';\n\nimport { SelectableValue } from '@grafana/data';\nimport { Trans, t } from '@grafana/i18n';\nimport { Icon, Label, MultiSelect, Tooltip } from '@grafana/ui';\nimport { AlertmanagerGroup } from 'app/plugins/datasource/alertmanager/types';\n\nconst collator = new Intl.Collator('en', { sensitivity: 'accent' });\n\ninterface Props {\n  groups: AlertmanagerGroup[];\n  receivers: string[];\n  onReceiversChange: (receivers: string[]) => void;\n}\n\nexport const ReceiverFilter = ({ groups, receivers, onReceiversChange }: Props) => {\n  const receiverOptions = uniq(groups.map((group) => group.receiver.name))\n    .map<SelectableValue<string>>((receiverName) => ({\n      label: receiverName === 'NONE' ? t('alerting.receiver-filter.no-grouping', 'No grouping') : receiverName,\n      value: receiverName,\n    }))\n    .sort((a, b) => collator.compare(a.label || '', b.label || ''));\n\n  return (\n    <div data-testid={'receiver-filter-container'}>\n      <Label>\n        <span>\n          <Trans i18nKey=\"alerting.receiver-filter.contact-point\">Contact point</Trans>&nbsp;\n        </span>\n        <Tooltip\n          content={\n            <Trans i18nKey=\"alerting.receiver-filter.tooltip-contact-point\">\n              Filter notifications by the contact point they are being delivered to.\n            </Trans>\n          }\n        >\n          <Icon name=\"info-circle\" size=\"sm\" />\n        </Tooltip>\n      </Label>\n      <MultiSelect<string>\n        aria-label={t('alerting.receiver-filter.aria-label-contact-points', 'Filter by contact points')}\n        value={receivers}\n        placeholder={t('alerting.receiver-filter.placeholder-contact-point', 'Filter by contact point')}\n        prefix={<Icon name=\"at\" />}\n        onChange={(items) => {\n          onReceiversChange(items.map(({ value }) => value).filter((v): v is string => v !== undefined));\n        }}\n        options={receiverOptions}\n        width={34}\n      />\n    </div>\n  );\n};\n","import { css } from '@emotion/css';\nimport { useState } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { Trans } from '@grafana/i18n';\nimport { Button, useStyles2 } from '@grafana/ui';\nimport { useQueryParams } from 'app/core/hooks/useQueryParams';\nimport { AlertState, AlertmanagerGroup } from 'app/plugins/datasource/alertmanager/types';\n\nimport { getFiltersFromUrlParams } from '../../utils/misc';\n\nimport { AlertStateFilter } from './AlertStateFilter';\nimport { GroupBy } from './GroupBy';\nimport { MatcherFilter } from './MatcherFilter';\nimport { ReceiverFilter } from './ReceiverFilter';\n\ninterface Props {\n  groups: AlertmanagerGroup[];\n}\n\nexport const AlertGroupFilter = ({ groups }: Props) => {\n  const [filterKey, setFilterKey] = useState<number>(Math.floor(Math.random() * 100));\n  const [queryParams, setQueryParams] = useQueryParams();\n  const { groupBy = [], queryString, alertState, receivers = [] } = getFiltersFromUrlParams(queryParams);\n  const matcherFilterKey = `matcher-${filterKey}`;\n\n  const styles = useStyles2(getStyles);\n\n  const clearFilters = () => {\n    setQueryParams({\n      groupBy: null,\n      queryString: null,\n      alertState: null,\n      contactPoint: null,\n      receivers: null,\n    });\n    setTimeout(() => setFilterKey(filterKey + 1), 100);\n  };\n\n  const showClearButton = !!(groupBy.length > 0 || queryString || alertState || receivers.length > 0);\n\n  return (\n    <div className={styles.wrapper}>\n      <div className={styles.filterSection}>\n        <MatcherFilter\n          key={matcherFilterKey}\n          defaultQueryString={queryString}\n          onFilterChange={(value) => setQueryParams({ queryString: value ? value : null })}\n        />\n        <GroupBy\n          groups={groups}\n          groupBy={groupBy}\n          onGroupingChange={(keys) => setQueryParams({ groupBy: keys.length ? keys.join(',') : null })}\n        />\n        <ReceiverFilter\n          groups={groups}\n          receivers={receivers}\n          onReceiversChange={(receivers) =>\n            setQueryParams({ receivers: receivers.length ? receivers.join(',') : null })\n          }\n        />\n        <AlertStateFilter\n          stateFilter={alertState as AlertState}\n          onStateFilterChange={(value) => setQueryParams({ alertState: value ? value : null })}\n        />\n        {showClearButton && (\n          <Button className={styles.clearButton} variant={'secondary'} icon=\"times\" onClick={clearFilters}>\n            <Trans i18nKey=\"alerting.alert-group-filter.clear-filters\">Clear filters</Trans>\n          </Button>\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  wrapper: css({\n    borderBottom: `1px solid ${theme.colors.border.medium}`,\n    marginBottom: theme.spacing(3),\n  }),\n  filterSection: css({\n    display: 'flex',\n    flexDirection: 'row',\n    marginBottom: theme.spacing(3),\n    gap: theme.spacing(1),\n  }),\n  clearButton: css({\n    marginLeft: theme.spacing(1),\n    marginTop: '19px',\n  }),\n});\n","import { useMemo } from 'react';\n\nimport { useQueryParams } from 'app/core/hooks/useQueryParams';\nimport { AlertmanagerGroup } from 'app/plugins/datasource/alertmanager/types';\n\nimport { labelsMatchMatchers } from '../utils/alertmanager';\nimport { parsePromQLStyleMatcherLooseSafe } from '../utils/matchers';\nimport { getFiltersFromUrlParams } from '../utils/misc';\n\nexport const useFilteredAmGroups = (groups: AlertmanagerGroup[]) => {\n  const [queryParams] = useQueryParams();\n  const { queryString, alertState, receivers } = getFiltersFromUrlParams(queryParams);\n\n  return useMemo(() => {\n    const matchers = queryString ? parsePromQLStyleMatcherLooseSafe(queryString) : [];\n\n    return groups.reduce((filteredGroup: AlertmanagerGroup[], group) => {\n      // Filter by receiver if specified\n      const receiverMatches = receivers && receivers.length > 0 ? receivers.includes(group.receiver.name) : true;\n\n      if (!receiverMatches) {\n        return filteredGroup;\n      }\n\n      const alerts = group.alerts.filter(({ labels, status }) => {\n        const labelsMatch = labelsMatchMatchers(labels, matchers);\n        const filtersMatch = alertState ? status.state === alertState : true;\n        return labelsMatch && filtersMatch;\n      });\n      if (alerts.length > 0) {\n        // The ungrouped alerts should be first in the results\n        if (Object.keys(group.labels).length === 0) {\n          filteredGroup.unshift({ ...group, alerts });\n        } else {\n          filteredGroup.push({ ...group, alerts });\n        }\n      }\n      return filteredGroup;\n    }, []);\n  }, [queryString, groups, alertState, receivers]);\n};\n","import { uniqBy } from 'lodash';\nimport { useMemo } from 'react';\n\nimport { Labels } from '@grafana/data';\nimport { AlertmanagerGroup } from 'app/plugins/datasource/alertmanager/types';\n\nexport const useGroupedAlerts = (groups: AlertmanagerGroup[], groupBy: string[]): AlertmanagerGroup[] => {\n  return useMemo(() => {\n    if (groupBy.length === 0) {\n      const emptyGroupings = groups.filter((group) => Object.keys(group.labels).length === 0);\n      if (emptyGroupings.length > 1) {\n        // Merges multiple ungrouped grouping\n        return groups.reduce<AlertmanagerGroup[]>((combinedGroups, group) => {\n          if (Object.keys(group.labels).length === 0) {\n            const noGroupingGroup = combinedGroups.find(({ labels }) => Object.keys(labels));\n            if (!noGroupingGroup) {\n              combinedGroups.push({ alerts: group.alerts, labels: {}, receiver: { name: 'NONE' } });\n            } else {\n              noGroupingGroup.alerts = uniqBy([...noGroupingGroup.alerts, ...group.alerts], 'labels');\n            }\n          } else {\n            combinedGroups.push(group);\n          }\n          return combinedGroups;\n        }, []);\n      } else {\n        return groups;\n      }\n    }\n\n    // api/v2/alerts/groups returns alerts grouped by labels AND receiver.\n    // It means that the same alert can be in multiple groups if it has multiple receivers.\n    // Hence, to get the list of unique alerts we need to get unique alerts by fingerprint.\n    const alerts = uniqBy(\n      groups.flatMap(({ alerts }) => alerts),\n      (alert) => alert.fingerprint\n    );\n    return alerts.reduce<AlertmanagerGroup[]>((groupings, alert) => {\n      const alertContainsGroupings = groupBy.every((groupByLabel) => Object.keys(alert.labels).includes(groupByLabel));\n\n      if (alertContainsGroupings) {\n        // We need to create a group for each receiver. This is how Alertmanager groups alerts.\n        // Alertmanager not only does grouping by labels but also by receiver.\n        const receiverAlertGroups = alert.receivers.map<AlertmanagerGroup>((receiver) => ({\n          alerts: [alert],\n          labels: groupBy.reduce<Labels>((acc, key) => {\n            acc = { ...acc, [key]: alert.labels[key] };\n            return acc;\n          }, {}),\n          receiver,\n        }));\n\n        // Merge the same groupings - groupings are the same if they have the same labels and receiver\n        receiverAlertGroups.forEach((receiverAlertGroup) => {\n          const existingGroup = groupings.find((grouping) => {\n            return (\n              Object.keys(receiverAlertGroup.labels).every(\n                (key) => grouping.labels[key] === receiverAlertGroup.labels[key]\n              ) && grouping.receiver.name === receiverAlertGroup.receiver.name\n            );\n          });\n\n          if (existingGroup) {\n            existingGroup.alerts.push(alert);\n          } else {\n            groupings.push(receiverAlertGroup);\n          }\n        });\n      } else {\n        const noGroupingGroup = groupings.find((group) => Object.keys(group.labels).length === 0);\n        if (!noGroupingGroup) {\n          groupings.push({ alerts: [alert], labels: {}, receiver: { name: 'NONE' } });\n        } else {\n          noGroupingGroup.alerts.push(alert);\n        }\n      }\n\n      return groupings;\n    }, []);\n  }, [groups, groupBy]);\n};\n","import { Fragment, useEffect } from 'react';\n\nimport { Trans, t } from '@grafana/i18n';\nimport { Alert, Box, LoadingPlaceholder, Text } from '@grafana/ui';\nimport { useQueryParams } from 'app/core/hooks/useQueryParams';\nimport { useDispatch } from 'app/types/store';\n\nimport { AlertmanagerChoice } from '../../../plugins/datasource/alertmanager/types';\n\nimport { alertmanagerApi } from './api/alertmanagerApi';\nimport { AlertmanagerPageWrapper } from './components/AlertingPageWrapper';\nimport { AlertGroup } from './components/alert-groups/AlertGroup';\nimport { AlertGroupFilter } from './components/alert-groups/AlertGroupFilter';\nimport { useFilteredAmGroups } from './hooks/useFilteredAmGroups';\nimport { useGroupedAlerts } from './hooks/useGroupedAlerts';\nimport { useUnifiedAlertingSelector } from './hooks/useUnifiedAlertingSelector';\nimport { useAlertmanager } from './state/AlertmanagerContext';\nimport { fetchAlertGroupsAction } from './state/actions';\nimport { NOTIFICATIONS_POLL_INTERVAL_MS } from './utils/constants';\nimport { GRAFANA_RULES_SOURCE_NAME } from './utils/datasource';\nimport { getFiltersFromUrlParams } from './utils/misc';\nimport { initialAsyncRequestState } from './utils/redux';\nimport { withPageErrorBoundary } from './withPageErrorBoundary';\n\nconst AlertGroups = () => {\n  const { selectedAlertmanager } = useAlertmanager();\n  const dispatch = useDispatch();\n  const [queryParams] = useQueryParams();\n  const { groupBy = [] } = getFiltersFromUrlParams(queryParams);\n\n  const { currentData: amConfigStatus } = alertmanagerApi.endpoints.getGrafanaAlertingConfigurationStatus.useQuery();\n\n  const alertGroups = useUnifiedAlertingSelector((state) => state.amAlertGroups);\n  const { loading, error, result: results = [] } = alertGroups[selectedAlertmanager || ''] ?? initialAsyncRequestState;\n\n  const groupedAlerts = useGroupedAlerts(results, groupBy);\n  const filteredAlertGroups = useFilteredAmGroups(groupedAlerts);\n\n  const grafanaAmDeliveryDisabled =\n    selectedAlertmanager === GRAFANA_RULES_SOURCE_NAME &&\n    amConfigStatus?.alertmanagersChoice === AlertmanagerChoice.External;\n\n  useEffect(() => {\n    function fetchNotifications() {\n      if (selectedAlertmanager) {\n        dispatch(fetchAlertGroupsAction(selectedAlertmanager));\n      }\n    }\n    fetchNotifications();\n    const interval = setInterval(fetchNotifications, NOTIFICATIONS_POLL_INTERVAL_MS);\n    return () => {\n      clearInterval(interval);\n    };\n  }, [dispatch, selectedAlertmanager]);\n\n  return (\n    <>\n      <AlertGroupFilter groups={results} />\n      {loading && (\n        <LoadingPlaceholder text={t('alerting.alert-groups.text-loading-notifications', 'Loading notifications')} />\n      )}\n      {error && !loading && (\n        <Alert\n          title={t('alerting.alert-groups.title-error-loading-notifications', 'Error loading notifications')}\n          severity={'error'}\n        >\n          {error.message || 'Unknown error'}\n        </Alert>\n      )}\n\n      {grafanaAmDeliveryDisabled && (\n        <Alert\n          title={t(\n            'alerting.alert-groups.title-grafana-alerts-delivered-alertmanager',\n            'Grafana alerts are not delivered to Grafana Alertmanager'\n          )}\n        >\n          <Trans i18nKey=\"alerting.alert-groups.body-grafana-alerted-delivered\">\n            Grafana is configured to send alerts to external alertmanagers only. No alerts are expected to be available\n            here for the selected Alertmanager.\n          </Trans>\n        </Alert>\n      )}\n\n      {results &&\n        filteredAlertGroups.map((group, index) => {\n          return (\n            <Fragment key={`${JSON.stringify(group.labels)}-group-${index}`}>\n              {((index === 1 && Object.keys(filteredAlertGroups[0].labels).length === 0) ||\n                (index === 0 && Object.keys(group.labels).length > 0)) && (\n                <Box paddingY={2}>\n                  <Text element=\"h2\" variant=\"body\">\n                    <Trans\n                      i18nKey=\"alerting.alert-groups.grouped-by\"\n                      values={{ labels: Object.keys(group.labels).join(', ') }}\n                    >\n                      Grouped by: {'{{labels}}'}\n                    </Trans>\n                  </Text>\n                </Box>\n              )}\n              <AlertGroup alertManagerSourceName={selectedAlertmanager || ''} group={group} />\n            </Fragment>\n          );\n        })}\n      {results && !filteredAlertGroups.length && (\n        <p>\n          <Trans i18nKey=\"alerting.alert-groups.no-results\">No results.</Trans>\n        </p>\n      )}\n    </>\n  );\n};\n\nfunction AlertGroupsPage() {\n  return (\n    <AlertmanagerPageWrapper navId=\"groups\" accessType=\"instance\">\n      <AlertGroups />\n    </AlertmanagerPageWrapper>\n  );\n}\n\nexport default withPageErrorBoundary(AlertGroupsPage);\n","import { css } from '@emotion/css';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { Trans, t } from '@grafana/i18n';\nimport { LinkButton, useStyles2 } from '@grafana/ui';\nimport { contextSrv } from 'app/core/services/context_srv';\nimport { AlertState, AlertmanagerAlert } from 'app/plugins/datasource/alertmanager/types';\nimport { AccessControlAction } from 'app/types/accessControl';\n\nimport { AlertmanagerAction } from '../../hooks/useAbilities';\nimport { isGrafanaRulesSource } from '../../utils/datasource';\nimport { makeAMLink, makeLabelBasedSilenceLink } from '../../utils/misc';\nimport { AnnotationDetailsField } from '../AnnotationDetailsField';\nimport { Authorize } from '../Authorize';\n\ninterface AmNotificationsAlertDetailsProps {\n  alertManagerSourceName: string;\n  alert: AlertmanagerAlert;\n}\n\nexport const AlertDetails = ({ alert, alertManagerSourceName }: AmNotificationsAlertDetailsProps) => {\n  const styles = useStyles2(getStyles);\n\n  // For Grafana Managed alerts the Generator URL redirects to the alert rule edit page, so update permission is required\n  // For external alert manager the Generator URL redirects to an external service which we don't control\n  const isGrafanaSource = isGrafanaRulesSource(alertManagerSourceName);\n  const isSeeSourceButtonEnabled = isGrafanaSource\n    ? contextSrv.hasPermission(AccessControlAction.AlertingRuleRead)\n    : true;\n\n  return (\n    <>\n      <div className={styles.actionsRow}>\n        {alert.status.state === AlertState.Suppressed && (\n          <Authorize actions={[AlertmanagerAction.CreateSilence, AlertmanagerAction.UpdateSilence]}>\n            <LinkButton\n              href={`${makeAMLink(\n                '/alerting/silences',\n                alertManagerSourceName\n              )}&silenceIds=${alert.status.silencedBy.join(',')}`}\n              className={styles.button}\n              icon={'bell'}\n              size={'sm'}\n            >\n              <Trans i18nKey=\"alerting.alert-details.manage-silences\">Manage silences</Trans>\n            </LinkButton>\n          </Authorize>\n        )}\n        {alert.status.state === AlertState.Active && (\n          <Authorize actions={[AlertmanagerAction.CreateSilence]}>\n            <LinkButton\n              href={makeLabelBasedSilenceLink(alertManagerSourceName, alert.labels)}\n              className={styles.button}\n              icon={'bell-slash'}\n              size={'sm'}\n            >\n              <Trans i18nKey=\"alerting.alert-details.silence\">Silence</Trans>\n            </LinkButton>\n          </Authorize>\n        )}\n        {isSeeSourceButtonEnabled && alert.generatorURL && (\n          <LinkButton className={styles.button} href={alert.generatorURL} icon={'chart-line'} size={'sm'}>\n            {isGrafanaSource\n              ? t('alerting.alert-details.button-see-rule', 'See alert rule')\n              : t('alerting.alert-details.button-see-source', 'See source')}\n          </LinkButton>\n        )}\n      </div>\n      {Object.entries(alert.annotations).map(([annotationKey, annotationValue]) => (\n        <AnnotationDetailsField key={annotationKey} annotationKey={annotationKey} value={annotationValue} />\n      ))}\n      <div className={styles.receivers}>\n        <Trans\n          i18nKey=\"alerting.alert-details.receivers-list\"\n          values={{\n            receivers: alert.receivers\n              .map(({ name }) => name)\n              .filter((name) => !!name)\n              .join(', '),\n          }}\n        >\n          Receivers: {'{{receivers}}'}\n        </Trans>\n      </div>\n    </>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  button: css({\n    '& + &': {\n      marginLeft: theme.spacing(1),\n    },\n  }),\n  actionsRow: css({\n    padding: `${theme.spacing(2, 0)} !important`,\n    borderBottom: `1px solid ${theme.colors.border.medium}`,\n  }),\n  receivers: css({\n    padding: theme.spacing(1, 0),\n  }),\n});\n","import { css } from '@emotion/css';\nimport { useMemo } from 'react';\n\nimport { GrafanaTheme2, intervalToAbbreviatedDurationString } from '@grafana/data';\nimport { Trans, t } from '@grafana/i18n';\nimport { useStyles2 } from '@grafana/ui';\nimport { AlertmanagerAlert } from 'app/plugins/datasource/alertmanager/types';\n\nimport { AlertLabels } from '../AlertLabels';\nimport { DynamicTableColumnProps, DynamicTableItemProps } from '../DynamicTable';\nimport { DynamicTableWithGuidelines } from '../DynamicTableWithGuidelines';\nimport { AmAlertStateTag } from '../silences/AmAlertStateTag';\n\nimport { AlertDetails } from './AlertDetails';\n\ninterface Props {\n  alerts: AlertmanagerAlert[];\n  alertManagerSourceName: string;\n}\n\ntype AlertGroupAlertsTableColumnProps = DynamicTableColumnProps<AlertmanagerAlert>;\ntype AlertGroupAlertsTableItemProps = DynamicTableItemProps<AlertmanagerAlert>;\n\nexport const AlertGroupAlertsTable = ({ alerts, alertManagerSourceName }: Props) => {\n  const styles = useStyles2(getStyles);\n\n  const columns = useMemo(\n    (): AlertGroupAlertsTableColumnProps[] => [\n      {\n        id: 'state',\n        label: t('alerting.alert-group-alerts-table.columns.label.notification-state', 'Notification state'),\n        // eslint-disable-next-line react/display-name\n        renderCell: ({ data: alert }) => (\n          <>\n            <AmAlertStateTag state={alert.status.state} />\n            <span className={styles.duration}>\n              <Trans\n                i18nKey=\"alerting.alert-group-alerts-table.duration\"\n                values={{\n                  time: intervalToAbbreviatedDurationString({\n                    start: new Date(alert.startsAt),\n                    end: new Date(alert.endsAt),\n                  }),\n                }}\n              >\n                for {'{{time}}'}\n              </Trans>\n            </span>\n          </>\n        ),\n        size: '220px',\n      },\n      {\n        id: 'labels',\n        label: t('alerting.alert-group-alerts-table.columns.label.instance-labels', 'Instance labels'),\n        // eslint-disable-next-line react/display-name\n        renderCell: ({ data: { labels } }) => <AlertLabels labels={labels} size=\"sm\" />,\n        size: 1,\n      },\n    ],\n    [styles]\n  );\n\n  const items = useMemo(\n    (): AlertGroupAlertsTableItemProps[] =>\n      alerts.map((alert) => ({\n        id: alert.fingerprint,\n        data: alert,\n      })),\n    [alerts]\n  );\n\n  return (\n    <div className={styles.tableWrapper} data-testid=\"alert-group-table\">\n      <DynamicTableWithGuidelines\n        cols={columns}\n        items={items}\n        isExpandable={true}\n        renderExpandedContent={({ data: alert }) => (\n          <AlertDetails alert={alert} alertManagerSourceName={alertManagerSourceName} />\n        )}\n      />\n    </div>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  tableWrapper: css({\n    marginTop: theme.spacing(3),\n    [theme.breakpoints.up('md')]: {\n      marginLeft: theme.spacing(4.5),\n    },\n  }),\n  duration: css({\n    marginLeft: theme.spacing(1),\n    fontSize: theme.typography.bodySmall.fontSize,\n  }),\n});\n","import { css } from '@emotion/css';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { AlertState } from 'app/plugins/datasource/alertmanager/types';\n\nexport const getNotificationsTextColors = (theme: GrafanaTheme2) => ({\n  [AlertState.Active]: css({\n    color: theme.colors.error.text,\n  }),\n  [AlertState.Suppressed]: css({\n    color: theme.colors.primary.text,\n  }),\n  [AlertState.Unprocessed]: css({\n    color: theme.colors.secondary.text,\n  }),\n});\n","import pluralize from 'pluralize';\n\nimport { useStyles2 } from '@grafana/ui';\nimport { AlertState, AlertmanagerGroup } from 'app/plugins/datasource/alertmanager/types';\n\nimport { getNotificationsTextColors } from '../../styles/notifications';\n\ninterface Props {\n  group: AlertmanagerGroup;\n}\n\nexport const AlertGroupHeader = ({ group }: Props) => {\n  const textStyles = useStyles2(getNotificationsTextColors);\n  const total = group.alerts.length;\n  const countByStatus = group.alerts.reduce(\n    (statusObj, alert) => {\n      if (statusObj[alert.status.state]) {\n        statusObj[alert.status.state] += 1;\n      } else {\n        statusObj[alert.status.state] = 1;\n      }\n      return statusObj;\n    },\n    {} as Record<AlertState, number>\n  );\n\n  return (\n    <div>\n      {`${total} ${pluralize('alert', total)}: `}\n      {Object.entries(countByStatus).map(([state, count], index) => {\n        return (\n          <span\n            key={`${JSON.stringify(group.labels)}-notifications-${index}`}\n            className={textStyles[state as AlertState]}\n          >\n            {index > 0 && ', '}\n            {`${count} ${state}`}\n          </span>\n        );\n      })}\n    </div>\n  );\n};\n","import { css } from '@emotion/css';\nimport { useState } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { Trans } from '@grafana/i18n';\nimport { Stack, TextLink, useStyles2 } from '@grafana/ui';\nimport { AlertmanagerGroup } from 'app/plugins/datasource/alertmanager/types';\n\nimport { createContactPointSearchLink } from '../../utils/misc';\nimport { AlertLabels } from '../AlertLabels';\nimport { CollapseToggle } from '../CollapseToggle';\nimport { MetaText } from '../MetaText';\n\nimport { AlertGroupAlertsTable } from './AlertGroupAlertsTable';\nimport { AlertGroupHeader } from './AlertGroupHeader';\n\ninterface Props {\n  group: AlertmanagerGroup;\n  alertManagerSourceName: string;\n}\n\nexport const AlertGroup = ({ alertManagerSourceName, group }: Props) => {\n  const [isCollapsed, setIsCollapsed] = useState<boolean>(true);\n  const styles = useStyles2(getStyles);\n\n  // When group is grouped, receiver.name is 'NONE' as it can contain multiple receivers\n  const receiverInGroup = group.receiver.name !== 'NONE';\n  const contactPoint = group.receiver.name;\n\n  return (\n    <div className={styles.wrapper}>\n      <div className={styles.header}>\n        <div className={styles.group} data-testid=\"alert-group\">\n          <CollapseToggle\n            size=\"sm\"\n            isCollapsed={isCollapsed}\n            onToggle={() => setIsCollapsed(!isCollapsed)}\n            data-testid=\"alert-group-collapse-toggle\"\n          />\n          {Object.keys(group.labels).length ? (\n            <Stack direction=\"row\" alignItems=\"center\">\n              <AlertLabels labels={group.labels} size=\"sm\" />\n\n              {receiverInGroup && (\n                <MetaText icon=\"at\">\n                  <Trans i18nKey=\"alerting.alert-group.delivered-to\" values={{ name: group.receiver.name }}>\n                    Delivered to{' '}\n                    <TextLink\n                      href={createContactPointSearchLink(contactPoint, alertManagerSourceName)}\n                      variant=\"bodySmall\"\n                      color=\"primary\"\n                      inline={false}\n                    >\n                      {'{{name}}'}\n                    </TextLink>\n                  </Trans>\n                </MetaText>\n              )}\n            </Stack>\n          ) : (\n            <span>\n              <Trans i18nKey=\"alerting.alert-group.no-grouping\">No grouping</Trans>\n            </span>\n          )}\n        </div>\n        <AlertGroupHeader group={group} />\n      </div>\n      {!isCollapsed && <AlertGroupAlertsTable alertManagerSourceName={alertManagerSourceName} alerts={group.alerts} />}\n    </div>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  wrapper: css({\n    '& + &': {\n      marginTop: theme.spacing(2),\n    },\n  }),\n  header: css({\n    display: 'flex',\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    padding: theme.spacing(1),\n    backgroundColor: theme.colors.background.secondary,\n    width: '100%',\n  }),\n  group: css({\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n  }),\n});\n"],"names":["CollapseToggle","isCollapsed","onToggle","idControlled","className","text","size","restOfProps","AlertStateFilter","onStateFilterChange","stateFilter","alertStateOptions","labelA","labelB","label","state","Label","Tooltip","Icon","RadioButtonGroup","GroupBy","groups","groupBy","onGroupingChange","labelKeyOptions","group","labels","key","items","value","collator","ReceiverFilter","receivers","onReceiversChange","receiverOptions","receiverName","a","b","v","AlertGroupFilter","filterKey","setFilterKey","queryParams","setQueryParams","useQueryParams","queryString","alertState","matcherFilterKey","styles","getStyles","clearFilters","showClearButton","MatcherFilter","keys","Button","theme","useFilteredAmGroups","matchers","filteredGroup","alerts","status","labelsMatch","filtersMatch","useGroupedAlerts","combinedGroups","noGroupingGroup","alert","groupings","groupByLabel","receiver","acc","receiverAlertGroup","existingGroup","grouping","AlertGroups","selectedAlertmanager","dispatch","amConfigStatus","alertmanagerApi","alertGroups","useUnifiedAlertingSelector","loading","error","results","groupedAlerts","filteredAlertGroups","grafanaAmDeliveryDisabled","fetchNotifications","interval","LoadingPlaceholder","Alert","index","Fragment","Box","Text","AlertGroup","AlertGroupsPage","withPageErrorBoundary","AlertDetails","alertManagerSourceName","isGrafanaSource","isSeeSourceButtonEnabled","Authorize","annotationKey","annotationValue","AnnotationDetailsField","name","AlertGroupAlertsTable","columns","AmAlertStateTag","AlertLabels","DynamicTableWithGuidelines","getNotificationsTextColors","AlertGroupHeader","textStyles","total","countByStatus","statusObj","count","setIsCollapsed","receiverInGroup","contactPoint","Stack","MetaText","TextLink"],"sourceRoot":""}