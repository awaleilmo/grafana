{"version":3,"file":"6104.83bd5820f3ccc839fa50.js","mappings":"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","sources":["webpack://grafana/./public/app/features/dimensions/editors/TextDimensionEditor.tsx","webpack://grafana/./public/app/core/components/Layers/LayerName.tsx","webpack://grafana/./public/app/features/dimensions/editors/ResourceDimensionEditor.tsx","webpack://grafana/./public/app/features/dimensions/editors/ScalarDimensionEditor.tsx","webpack://grafana/./public/app/features/dimensions/editors/ScaleDimensionEditor.tsx","webpack://grafana/./public/app/core/components/Layers/AddLayerButton.tsx","webpack://grafana/./public/app/features/dimensions/editors/ColorDimensionEditor.tsx"],"sourcesContent":["import { useCallback, useId } from 'react';\n\nimport {\n  FieldNamePickerConfigSettings,\n  StandardEditorProps,\n  StandardEditorsRegistryItem,\n  StringFieldConfigSettings,\n} from '@grafana/data';\nimport { t } from '@grafana/i18n';\nimport { TextDimensionConfig, TextDimensionMode } from '@grafana/schema';\nimport { Button, InlineField, InlineFieldRow, RadioButtonGroup } from '@grafana/ui';\nimport { FieldNamePicker } from '@grafana/ui/internal';\nimport { StringValueEditor } from 'app/core/components/OptionsUI/string';\n\nimport { TextDimensionOptions } from '../types';\n\nconst dummyFieldSettings = {\n  settings: {},\n} as StandardEditorsRegistryItem<string, FieldNamePickerConfigSettings>;\n\nconst dummyStringSettings = {\n  settings: {},\n} as StandardEditorsRegistryItem<string, StringFieldConfigSettings>;\n\ntype Props = StandardEditorProps<TextDimensionConfig, TextDimensionOptions>;\n\nexport const TextDimensionEditor = ({ value, context, onChange }: Props) => {\n  const textOptions = [\n    {\n      label: t('dimensions.text-dimension-editor.label-fixed', 'Fixed'),\n      value: TextDimensionMode.Fixed,\n      description: t('dimensions.text-dimension-editor.description-fixed', 'Fixed value'),\n    },\n    {\n      label: t('dimensions.text-dimension-editor.label-field', 'Field'),\n      value: TextDimensionMode.Field,\n      description: t('dimensions.text-dimension-editor.description-field', 'Display field value'),\n    },\n    //  { label: 'Template', value: TextDimensionMode.Template, description: 'use template text' },\n  ];\n  const labelWidth = 9;\n\n  const onModeChange = useCallback(\n    (mode: TextDimensionMode) => {\n      onChange({\n        ...value,\n        mode,\n      });\n    },\n    [onChange, value]\n  );\n\n  const onFieldChange = useCallback(\n    (field?: string) => {\n      onChange({\n        ...value,\n        field,\n      });\n    },\n    [onChange, value]\n  );\n\n  const onFixedChange = useCallback(\n    (fixed = '') => {\n      onChange({\n        ...value,\n        fixed,\n      });\n    },\n    [onChange, value]\n  );\n\n  const onClearFixed = () => {\n    onFixedChange('');\n  };\n\n  const fieldInputId = useId();\n  const valueInputId = useId();\n  const templateInputId = useId();\n\n  const mode = value?.mode ?? TextDimensionMode.Fixed;\n  return (\n    <>\n      <InlineFieldRow>\n        <InlineField\n          label={t('dimensions.text-dimension-editor.label-source', 'Source')}\n          labelWidth={labelWidth}\n          grow={true}\n        >\n          <RadioButtonGroup value={mode} options={textOptions} onChange={onModeChange} fullWidth />\n        </InlineField>\n      </InlineFieldRow>\n      {mode !== TextDimensionMode.Fixed && (\n        <InlineFieldRow>\n          <InlineField\n            label={t('dimensions.text-dimension-editor.label-field', 'Field')}\n            labelWidth={labelWidth}\n            grow={true}\n          >\n            <FieldNamePicker\n              id={fieldInputId}\n              context={context}\n              value={value.field ?? ''}\n              onChange={onFieldChange}\n              item={dummyFieldSettings}\n            />\n          </InlineField>\n        </InlineFieldRow>\n      )}\n      {mode === TextDimensionMode.Fixed && (\n        <InlineFieldRow key={value?.fixed}>\n          <InlineField\n            label={t('dimensions.text-dimension-editor.label-value', 'Value')}\n            labelWidth={labelWidth}\n            grow={true}\n          >\n            <StringValueEditor\n              id={valueInputId}\n              context={context}\n              value={value?.fixed}\n              onChange={onFixedChange}\n              item={dummyStringSettings}\n              suffix={\n                value?.fixed && (\n                  <Button\n                    aria-label={t('dimensions.text-dimension-editor.aria-label-clear-value', 'Clear value')}\n                    icon=\"times\"\n                    variant=\"secondary\"\n                    fill=\"text\"\n                    size=\"sm\"\n                    onClick={onClearFixed}\n                  />\n                )\n              }\n            />\n          </InlineField>\n        </InlineFieldRow>\n      )}\n      {mode === TextDimensionMode.Template && (\n        <InlineFieldRow>\n          <InlineField\n            label={t('dimensions.text-dimension-editor.label-template', 'Template')}\n            labelWidth={labelWidth}\n            grow={true}\n          >\n            <StringValueEditor // This could be a code editor\n              id={templateInputId}\n              context={context}\n              value={value?.fixed}\n              onChange={onFixedChange}\n              item={dummyStringSettings}\n            />\n          </InlineField>\n        </InlineFieldRow>\n      )}\n    </>\n  );\n};\n","import { css, cx } from '@emotion/css';\nimport { useState } from 'react';\nimport * as React from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { t } from '@grafana/i18n';\nimport { Icon, Input, FieldValidationMessage, useStyles2 } from '@grafana/ui';\n\nexport interface LayerNameProps {\n  name: string;\n  onChange: (v: string) => void;\n  verifyLayerNameUniqueness?: (nameToCheck: string) => boolean;\n  overrideStyles?: boolean;\n}\n\nexport const LayerName = ({ name, onChange, verifyLayerNameUniqueness, overrideStyles }: LayerNameProps) => {\n  const styles = useStyles2(getStyles);\n\n  const [isEditing, setIsEditing] = useState<boolean>(false);\n  const [validationError, setValidationError] = useState<string | null>(null);\n\n  const onEditLayer = (event: React.SyntheticEvent) => {\n    setIsEditing(true);\n  };\n\n  const onEndEditName = (newName: string) => {\n    setIsEditing(false);\n\n    if (validationError) {\n      setValidationError(null);\n      return;\n    }\n\n    if (name !== newName) {\n      onChange(newName);\n    }\n  };\n\n  const onInputChange = (event: React.SyntheticEvent<HTMLInputElement>) => {\n    const newName = event.currentTarget.value.trim();\n\n    if (newName.length === 0) {\n      setValidationError('An empty layer name is not allowed');\n      return;\n    }\n\n    if (verifyLayerNameUniqueness && !verifyLayerNameUniqueness(newName) && newName !== name) {\n      setValidationError('Layer name already exists');\n      return;\n    }\n\n    if (validationError) {\n      setValidationError(null);\n    }\n  };\n\n  const onEditLayerBlur = (event: React.SyntheticEvent<HTMLInputElement>) => {\n    onEndEditName(event.currentTarget.value.trim());\n  };\n\n  const onKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {\n    if (event.key === 'Enter') {\n      onEndEditName(event.currentTarget.value);\n    }\n  };\n\n  const onFocus = (event: React.FocusEvent<HTMLInputElement>) => {\n    event.target.select();\n  };\n\n  return (\n    <>\n      <div className={styles.wrapper}>\n        {!isEditing && (\n          <button\n            className={styles.layerNameWrapper}\n            title={t('layers.layer-name.edit-layer-title', 'Edit layer name')}\n            onClick={onEditLayer}\n            data-testid=\"layer-name-div\"\n          >\n            <span className={overrideStyles ? '' : styles.layerName}>{name}</span>\n            <Icon name=\"pen\" className={styles.layerEditIcon} size=\"sm\" />\n          </button>\n        )}\n\n        {isEditing && (\n          <>\n            <Input\n              type=\"text\"\n              defaultValue={name}\n              onBlur={onEditLayerBlur}\n              autoFocus\n              onKeyDown={onKeyDown}\n              onFocus={onFocus}\n              invalid={validationError !== null}\n              onChange={onInputChange}\n              className={styles.layerNameInput}\n              data-testid=\"layer-name-input\"\n            />\n            {validationError && <FieldValidationMessage horizontal>{validationError}</FieldValidationMessage>}\n          </>\n        )}\n      </div>\n    </>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme2) => {\n  return {\n    wrapper: css({\n      label: 'Wrapper',\n      display: 'flex',\n      alignItems: 'center',\n      marginLeft: theme.spacing(0.5),\n    }),\n    layerNameWrapper: css({\n      display: 'flex',\n      cursor: 'pointer',\n      border: '1px solid transparent',\n      borderRadius: theme.shape.radius.default,\n      alignItems: 'center',\n      padding: `0 0 0 ${theme.spacing(0.5)}`,\n      margin: 0,\n      background: 'transparent',\n\n      '&:hover': {\n        background: theme.colors.action.hover,\n        border: `1px dashed ${theme.colors.border.strong}`,\n      },\n\n      '&:focus': {\n        border: `2px solid ${theme.colors.primary.border}`,\n      },\n\n      '&:hover, &:focus': {\n        '.query-name-edit-icon': {\n          visibility: 'visible',\n        },\n      },\n    }),\n    layerName: css({\n      fontWeight: theme.typography.fontWeightMedium,\n      color: theme.colors.primary.text,\n      cursor: 'pointer',\n      overflow: 'hidden',\n      marginLeft: theme.spacing(0.5),\n    }),\n    layerEditIcon: cx(\n      css({\n        marginLeft: theme.spacing(2),\n        visibility: 'hidden',\n      }),\n      'query-name-edit-icon'\n    ),\n    layerNameInput: css({\n      maxWidth: '300px',\n      margin: '-4px 0',\n    }),\n  };\n};\n","import { useCallback } from 'react';\nimport * as React from 'react';\n\nimport { FieldNamePickerConfigSettings, StandardEditorProps, StandardEditorsRegistryItem } from '@grafana/data';\nimport { t } from '@grafana/i18n';\nimport { ResourceDimensionConfig, ResourceDimensionMode } from '@grafana/schema';\nimport { InlineField, InlineFieldRow, RadioButtonGroup } from '@grafana/ui';\nimport { FieldNamePicker } from '@grafana/ui/internal';\n\nimport { getPublicOrAbsoluteUrl } from '../resource';\nimport { MediaType, ResourceDimensionOptions, ResourceFolderName, ResourcePickerSize } from '../types';\n\nimport { ResourcePicker } from './ResourcePicker';\n\nconst dummyFieldSettings = {\n  settings: {},\n} as StandardEditorsRegistryItem<string, FieldNamePickerConfigSettings>;\n\nexport const ResourceDimensionEditor = (\n  props: StandardEditorProps<ResourceDimensionConfig, ResourceDimensionOptions, unknown>\n) => {\n  const { value, context, onChange, item } = props;\n  const labelWidth = 9;\n  const resourceOptions = [\n    {\n      label: t('dimensions.resource-dimension-editor.label-fixed', 'Fixed'),\n      value: ResourceDimensionMode.Fixed,\n      description: t('dimensions.resource-dimension-editor.description-fixed', 'Fixed value'),\n    },\n    {\n      label: t('dimensions.resource-dimension-editor.label-field', 'Field'),\n      value: ResourceDimensionMode.Field,\n      description: t('dimensions.resource-dimension-editor.description-field', 'Use a string field result'),\n    },\n    //  { label: 'Mapping', value: ResourceDimensionMode.Mapping, description: 'Map the results of a value to an svg' },\n  ];\n\n  const onModeChange = useCallback(\n    (mode: ResourceDimensionMode) => {\n      onChange({\n        ...value,\n        mode,\n      });\n    },\n    [onChange, value]\n  );\n\n  const onFieldChange = useCallback(\n    (field = '') => {\n      onChange({\n        ...value,\n        field,\n      });\n    },\n    [onChange, value]\n  );\n\n  const onFixedChange = useCallback(\n    (fixed?: string) => {\n      onChange({\n        ...value,\n        fixed: fixed ?? '',\n      });\n    },\n    [onChange, value]\n  );\n\n  const onClear = (event: React.MouseEvent) => {\n    event.stopPropagation();\n    onChange({ mode: ResourceDimensionMode.Fixed, fixed: '', field: '' });\n  };\n\n  const mode = value?.mode ?? ResourceDimensionMode.Fixed;\n  const showSourceRadio = item.settings?.showSourceRadio ?? true;\n  const mediaType = item.settings?.resourceType ?? MediaType.Icon;\n  const folderName = item.settings?.folderName ?? ResourceFolderName.Icon;\n  const maxFiles = item.settings?.maxFiles; // undefined leads to backend default\n  let srcPath = '';\n  if (mediaType === MediaType.Icon) {\n    if (value?.fixed) {\n      srcPath = getPublicOrAbsoluteUrl(value.fixed);\n    } else if (item.settings?.placeholderValue) {\n      srcPath = getPublicOrAbsoluteUrl(item.settings.placeholderValue);\n    }\n  }\n\n  return (\n    <>\n      {showSourceRadio && (\n        <InlineFieldRow>\n          <InlineField\n            label={t('dimensions.resource-dimension-editor.label-source', 'Source')}\n            labelWidth={labelWidth}\n            grow={true}\n          >\n            <RadioButtonGroup value={mode} options={resourceOptions} onChange={onModeChange} fullWidth />\n          </InlineField>\n        </InlineFieldRow>\n      )}\n      {mode !== ResourceDimensionMode.Fixed && (\n        <InlineFieldRow>\n          <InlineField\n            label={t('dimensions.resource-dimension-editor.label-field', 'Field')}\n            labelWidth={labelWidth}\n            grow={true}\n          >\n            <FieldNamePicker\n              context={context}\n              value={value.field ?? ''}\n              onChange={onFieldChange}\n              item={dummyFieldSettings}\n            />\n          </InlineField>\n        </InlineFieldRow>\n      )}\n      {mode === ResourceDimensionMode.Fixed && (\n        <ResourcePicker\n          onChange={onFixedChange}\n          onClear={onClear}\n          value={value?.fixed}\n          src={srcPath}\n          placeholder={item.settings?.placeholderText ?? 'Select a value'}\n          name={niceName(value?.fixed) ?? ''}\n          mediaType={mediaType}\n          folderName={folderName}\n          size={ResourcePickerSize.NORMAL}\n          maxFiles={maxFiles}\n        />\n      )}\n      {mode === ResourceDimensionMode.Mapping && (\n        <InlineFieldRow>\n          <InlineField\n            label={t('dimensions.resource-dimension-editor.label-mappings', 'Mappings')}\n            labelWidth={labelWidth}\n            grow={true}\n          >\n            {/* eslint-disable-next-line @grafana/i18n/no-untranslated-strings*/}\n            <div>TODO mappings editor!</div>\n          </InlineField>\n        </InlineFieldRow>\n      )}\n    </>\n  );\n};\n\nexport function niceName(value?: string): string | undefined {\n  if (!value) {\n    return undefined;\n  }\n  const idx = value.lastIndexOf('/');\n  if (idx > 0) {\n    return value.substring(idx + 1);\n  }\n  return value;\n}\n","import { css } from '@emotion/css';\nimport { useCallback, useId, useMemo } from 'react';\n\nimport { FieldType, GrafanaTheme2, SelectableValue, StandardEditorProps } from '@grafana/data';\nimport { t } from '@grafana/i18n';\nimport { ScalarDimensionMode, ScalarDimensionConfig } from '@grafana/schema';\nimport { InlineField, InlineFieldRow, RadioButtonGroup, Select, useStyles2 } from '@grafana/ui';\nimport { useFieldDisplayNames, useSelectOptions } from '@grafana/ui/internal';\nimport { NumberInput } from 'app/core/components/OptionsUI/NumberInput';\n\nimport { ScalarDimensionOptions } from '../types';\n\ntype Props = StandardEditorProps<ScalarDimensionConfig, ScalarDimensionOptions>;\n\nexport const ScalarDimensionEditor = ({ value, context, onChange, item }: Props) => {\n  const { settings } = item;\n\n  const fixedValueOption: SelectableValue<string> = useMemo(\n    () => ({\n      label: t('dimensions.scalar-dimension-editor.fixed-value-options.label-fixed-values', 'Fixed value'),\n      value: '_____fixed_____',\n    }),\n    []\n  );\n\n  const scalarOptions = [\n    {\n      label: t('dimensions.scalar-dimension-editor.scalar-options.label-mod', 'Mod'),\n      value: ScalarDimensionMode.Mod,\n      description: t(\n        'dimensions.scalar-dimension-editor.scalar-options.description-mod',\n        'Use field values, mod from max'\n      ),\n    },\n    {\n      label: t('dimensions.scalar-dimension-editor.scalar-options.label-clamped', 'Clamped'),\n      value: ScalarDimensionMode.Clamped,\n      description: t(\n        'dimensions.scalar-dimension-editor.scalar-options.description-clamped',\n        'Use field values, clamped to max and min'\n      ),\n    },\n  ];\n\n  const DEFAULT_VALUE = 0;\n\n  const fieldName = value?.field;\n  const isFixed = Boolean(!fieldName);\n  const names = useFieldDisplayNames(context.data);\n  const selectOptions = useSelectOptions(names, fieldName, fixedValueOption, FieldType.number);\n\n  const styles = useStyles2(getStyles);\n\n  const onSelectChange = useCallback(\n    (selection: SelectableValue<string>) => {\n      const field = selection.value;\n      if (field && field !== fixedValueOption.value) {\n        onChange({\n          ...value,\n          field,\n        });\n      } else {\n        const fixed = value.fixed ?? DEFAULT_VALUE;\n        onChange({\n          ...value,\n          field: undefined,\n          fixed,\n        });\n      }\n    },\n    [onChange, value, fixedValueOption.value]\n  );\n\n  const onModeChange = useCallback(\n    (mode: ScalarDimensionMode) => {\n      onChange({\n        ...value,\n        mode,\n      });\n    },\n    [onChange, value]\n  );\n\n  const onValueChange = useCallback(\n    (v: number | undefined) => {\n      onChange({\n        ...value,\n        field: undefined,\n        fixed: v ?? DEFAULT_VALUE,\n      });\n    },\n    [onChange, value]\n  );\n\n  const valueInputId = useId();\n\n  const val = value ?? {};\n  const mode = value?.mode ?? ScalarDimensionMode.Mod;\n  const selectedOption = isFixed ? fixedValueOption : selectOptions.find((v) => v.value === fieldName);\n  return (\n    <>\n      <div>\n        <InlineFieldRow>\n          <InlineField label={t('dimensions.scalar-dimension-editor.label-limit', 'Limit')} labelWidth={8} grow={true}>\n            <RadioButtonGroup value={mode} options={scalarOptions} onChange={onModeChange} fullWidth />\n          </InlineField>\n        </InlineFieldRow>\n        <Select\n          value={selectedOption}\n          options={selectOptions}\n          onChange={onSelectChange}\n          noOptionsMessage={t('dimensions.scalar-dimension-editor.noOptionsMessage-no-fields-found', 'No fields found')}\n        />\n      </div>\n      <div className={styles.range}>\n        {isFixed && (\n          <InlineFieldRow>\n            <InlineField\n              label={t('dimensions.scalar-dimension-editor.label-value', 'Value')}\n              labelWidth={8}\n              grow={true}\n            >\n              <NumberInput\n                id={valueInputId}\n                value={val?.fixed ?? DEFAULT_VALUE}\n                onChange={onValueChange}\n                max={settings?.max}\n                min={settings?.min}\n              />\n            </InlineField>\n          </InlineFieldRow>\n        )}\n      </div>\n    </>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  range: css({\n    paddingTop: theme.spacing(1),\n  }),\n});\n","import { css } from '@emotion/css';\nimport { useCallback, useId, useMemo } from 'react';\n\nimport { GrafanaTheme2, SelectableValue, StandardEditorProps } from '@grafana/data';\nimport { t } from '@grafana/i18n';\nimport { ScaleDimensionConfig } from '@grafana/schema';\nimport { InlineField, InlineFieldRow, Select, useStyles2 } from '@grafana/ui';\nimport { useFieldDisplayNames, useSelectOptions } from '@grafana/ui/internal';\nimport { NumberInput } from 'app/core/components/OptionsUI/NumberInput';\n\nimport { validateScaleOptions, validateScaleConfig } from '../scale';\nimport { ScaleDimensionOptions } from '../types';\n\nexport const ScaleDimensionEditor = (props: StandardEditorProps<ScaleDimensionConfig, ScaleDimensionOptions>) => {\n  const { value, context, onChange, item, id } = props;\n  const { settings } = item;\n  const styles = useStyles2(getStyles);\n\n  const fixedValueOption: SelectableValue<string> = useMemo(\n    () => ({\n      label: t('dimensions.scale-dimension-editor.fixed-value-option.label.fixed-value', 'Fixed value'),\n      value: '_____fixed_____',\n    }),\n    []\n  );\n\n  const fieldName = value?.field;\n  const isFixed = Boolean(!fieldName);\n  const names = useFieldDisplayNames(context.data);\n  const selectOptions = useSelectOptions(names, fieldName, fixedValueOption, settings?.filteredFieldType);\n  const minMaxStep = useMemo(() => {\n    return validateScaleOptions(settings);\n  }, [settings]);\n\n  // Validate and update\n  const validateAndDoChange = useCallback(\n    (v: ScaleDimensionConfig) => {\n      // always called with a copy so no need to spread\n      onChange(validateScaleConfig(v, minMaxStep));\n    },\n    [onChange, minMaxStep]\n  );\n\n  const onSelectChange = useCallback(\n    (selection: SelectableValue<string>) => {\n      const field = selection.value;\n      if (field && field !== fixedValueOption.value) {\n        validateAndDoChange({\n          ...value,\n          field,\n        });\n      } else {\n        validateAndDoChange({\n          ...value,\n          field: undefined,\n        });\n      }\n    },\n    [validateAndDoChange, value, fixedValueOption.value]\n  );\n\n  const onMinChange = useCallback(\n    (min?: number) => {\n      if (min !== undefined) {\n        validateAndDoChange({\n          ...value,\n          min,\n        });\n      }\n    },\n    [validateAndDoChange, value]\n  );\n\n  const onMaxChange = useCallback(\n    (max?: number) => {\n      if (max !== undefined) {\n        validateAndDoChange({\n          ...value,\n          max,\n        });\n      }\n    },\n    [validateAndDoChange, value]\n  );\n\n  const onValueChange = useCallback(\n    (fixed?: number) => {\n      if (fixed !== undefined) {\n        validateAndDoChange({\n          ...value,\n          fixed,\n        });\n      }\n    },\n    [validateAndDoChange, value]\n  );\n\n  const valueInputId = useId();\n  const minInputId = useId();\n  const maxInputId = useId();\n\n  const val = value ?? {};\n  const selectedOption = isFixed ? fixedValueOption : selectOptions.find((v) => v.value === fieldName);\n  return (\n    <>\n      <div>\n        <Select\n          inputId={id}\n          value={selectedOption}\n          options={selectOptions}\n          onChange={onSelectChange}\n          noOptionsMessage={t('dimensions.scale-dimension-editor.noOptionsMessage-no-fields-found', 'No fields found')}\n        />\n      </div>\n      <div className={styles.range}>\n        {isFixed && (\n          <InlineFieldRow>\n            <InlineField label={t('dimensions.scale-dimension-editor.label-value', 'Value')} labelWidth={8} grow={true}>\n              <NumberInput id={valueInputId} value={val.fixed} {...minMaxStep} onChange={onValueChange} />\n            </InlineField>\n          </InlineFieldRow>\n        )}\n        {!isFixed && !minMaxStep.hideRange && (\n          <>\n            <InlineFieldRow>\n              <InlineField label={t('dimensions.scale-dimension-editor.label-min', 'Min')} labelWidth={8} grow={true}>\n                <NumberInput id={minInputId} value={val.min} {...minMaxStep} onChange={onMinChange} />\n              </InlineField>\n            </InlineFieldRow>\n            <InlineFieldRow>\n              <InlineField label={t('dimensions.scale-dimension-editor.label-max', 'Max')} labelWidth={8} grow={true}>\n                <NumberInput id={maxInputId} value={val.max} {...minMaxStep} onChange={onMaxChange} />\n              </InlineField>\n            </InlineFieldRow>\n          </>\n        )}\n      </div>\n    </>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  range: css({\n    paddingTop: theme.spacing(1),\n  }),\n});\n","import { SelectableValue } from '@grafana/data';\nimport { ValuePicker } from '@grafana/ui';\n\nexport type AddLayerButtonProps = {\n  onChange: (sel: SelectableValue<string>) => void;\n  options: Array<SelectableValue<string>>;\n  label: string;\n};\n\nexport const AddLayerButton = ({ onChange, options, label }: AddLayerButtonProps) => {\n  return (\n    <ValuePicker\n      icon=\"plus\"\n      label={label}\n      variant=\"secondary\"\n      options={options}\n      onChange={onChange}\n      isFullWidth={true}\n    />\n  );\n};\n","import { css } from '@emotion/css';\nimport { useCallback, useMemo } from 'react';\n\nimport { GrafanaTheme2, SelectableValue, StandardEditorProps, FieldNamePickerBaseNameMode } from '@grafana/data';\nimport { t } from '@grafana/i18n';\nimport { ColorDimensionConfig } from '@grafana/schema';\nimport { Select, ColorPicker, useStyles2 } from '@grafana/ui';\nimport { useFieldDisplayNames, useSelectOptions } from '@grafana/ui/internal';\n\ninterface ColorDimensionSettings {\n  isClearable?: boolean;\n  baseNameMode?: FieldNamePickerBaseNameMode;\n  placeholder?: string;\n}\n\nexport const ColorDimensionEditor = (props: StandardEditorProps<ColorDimensionConfig, ColorDimensionSettings>) => {\n  const fixedColorOption: SelectableValue<string> = useMemo(\n    () => ({\n      label: t('dimensions.color-dimension-editor.label-fixed-color', 'Fixed color'),\n      value: '_____fixed_____',\n    }),\n    []\n  );\n  const { value, context, onChange, item, id } = props;\n\n  const defaultColor = 'dark-green';\n\n  const styles = useStyles2(getStyles);\n  const fieldName = value?.field;\n  const isFixed = value && Boolean(!fieldName) && value?.fixed;\n  const names = useFieldDisplayNames(context.data);\n  const selectOptions = useSelectOptions(names, fieldName, fixedColorOption, undefined, item.settings?.baseNameMode);\n\n  const onSelectChange = useCallback(\n    (selection: SelectableValue<string>) => {\n      if (!selection) {\n        onChange(undefined);\n        return;\n      }\n\n      const field = selection.value;\n      if (field && field !== fixedColorOption.value) {\n        onChange({\n          ...value,\n          field,\n        });\n      } else {\n        const fixed = value?.fixed ?? defaultColor;\n        onChange({\n          ...value,\n          field: undefined,\n          fixed,\n        });\n      }\n    },\n    [fixedColorOption.value, onChange, value]\n  );\n\n  const onColorChange = useCallback(\n    (c: string) => {\n      onChange({\n        field: undefined,\n        fixed: c ?? defaultColor,\n      });\n    },\n    [onChange]\n  );\n\n  const selectedOption = isFixed ? fixedColorOption : selectOptions.find((v) => v.value === fieldName);\n  return (\n    <>\n      <div className={styles.container}>\n        <Select\n          inputId={id}\n          value={selectedOption}\n          options={selectOptions}\n          onChange={onSelectChange}\n          noOptionsMessage={t('dimensions.color-dimension-editor.noOptionsMessage-no-fields-found', 'No fields found')}\n          isClearable={item.settings?.isClearable}\n          placeholder={item.settings?.placeholder}\n        />\n        {isFixed && (\n          <div className={styles.picker}>\n            <ColorPicker color={value?.fixed} onChange={onColorChange} enableNamedColors={true} />\n          </div>\n        )}\n      </div>\n    </>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  container: css({\n    display: 'flex',\n    flexWrap: 'nowrap',\n    justifyContent: 'flex-end',\n    alignItems: 'center',\n  }),\n  picker: css({\n    paddingLeft: theme.spacing(1),\n  }),\n});\n"],"names":["dummyFieldSettings","dummyStringSettings","TextDimensionEditor","value","context","onChange","textOptions","labelWidth","onModeChange","mode","onFieldChange","field","onFixedChange","fixed","onClearFixed","fieldInputId","valueInputId","templateInputId","LayerName","name","verifyLayerNameUniqueness","overrideStyles","styles","getStyles","isEditing","setIsEditing","validationError","setValidationError","onEditLayer","event","onEndEditName","newName","onInputChange","onEditLayerBlur","onKeyDown","onFocus","theme","ResourceDimensionEditor","props","item","resourceOptions","onClear","showSourceRadio","mediaType","folderName","maxFiles","srcPath","niceName","idx","ScalarDimensionEditor","settings","fixedValueOption","scalarOptions","DEFAULT_VALUE","fieldName","isFixed","names","selectOptions","onSelectChange","selection","onValueChange","v","val","selectedOption","ScaleDimensionEditor","id","minMaxStep","validateAndDoChange","onMinChange","min","onMaxChange","max","minInputId","maxInputId","AddLayerButton","options","label","ColorDimensionEditor","fixedColorOption","defaultColor","onColorChange","c"],"sourceRoot":""}