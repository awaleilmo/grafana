{"version":3,"file":"ProvisioningWizardPage.46c00cc11646e6ef1755.js","mappings":"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","sources":["webpack://grafana/./public/app/features/provisioning/Repository/PullRequestButtons.tsx","webpack://grafana/./public/app/features/provisioning/Repository/RepositoryLink.tsx","webpack://grafana/./public/app/features/provisioning/Shared/ProgressBar.tsx","webpack://grafana/./public/app/features/provisioning/Job/JobContent.tsx","webpack://grafana/./public/app/features/provisioning/Job/FinishedJobStatus.tsx","webpack://grafana/./public/app/features/provisioning/Job/JobStatus.tsx","webpack://grafana/./public/app/features/provisioning/Job/JobSummary.tsx","webpack://grafana/./public/app/features/provisioning/Shared/ProvisioningAlert.tsx","webpack://grafana/./public/app/features/provisioning/utils/getFormErrors.ts","webpack://grafana/./public/app/features/provisioning/Wizard/StepStatusContext.tsx","webpack://grafana/./public/app/features/provisioning/Wizard/hooks/useModeOptions.ts","webpack://grafana/./public/app/features/provisioning/Wizard/hooks/useResourceStats.ts","webpack://grafana/./public/app/features/provisioning/Wizard/BootstrapStep.tsx","webpack://grafana/./public/app/features/provisioning/guards.ts","webpack://grafana/./public/app/features/provisioning/utils/httpUtils.ts","webpack://grafana/./public/app/features/provisioning/hooks/useBranchOptions.ts","webpack://grafana/./public/app/features/provisioning/Wizard/ConnectStep.tsx","webpack://grafana/./public/app/features/provisioning/Wizard/FinishStep.tsx","webpack://grafana/./public/app/features/provisioning/Wizard/Stepper.tsx","webpack://grafana/./public/app/features/provisioning/Wizard/hooks/useCreateSyncJob.ts","webpack://grafana/./public/app/features/provisioning/Wizard/SynchronizeStep.tsx","webpack://grafana/./public/app/features/provisioning/Wizard/ProvisioningWizard.tsx","webpack://grafana/./public/app/features/provisioning/Wizard/ConnectPage.tsx","webpack://grafana/./public/app/features/provisioning/Shared/MessageList.tsx"],"sourcesContent":["import { Trans } from '@grafana/i18n';\nimport { LinkButton } from '@grafana/ui';\nimport { RepositoryUrLs } from 'app/api/clients/provisioning/v0alpha1';\n\ninterface Props {\n  jobType?: 'sync' | 'delete' | 'move';\n  urls?: RepositoryUrLs;\n}\nexport function PullRequestButtons({ urls, jobType }: Props) {\n  const pullRequestURL = urls?.newPullRequestURL;\n  const compareURL = urls?.compareURL;\n  const branchURL = urls?.sourceURL;\n\n  if (jobType === 'sync') {\n    return null;\n  }\n\n  return (\n    <>\n      <LinkButton href={branchURL} icon=\"external-link-alt\" variant=\"secondary\" target=\"_blank\">\n        <Trans i18nKey=\"provisioning.repository-link.delete-or-move-job.view-branch\">View branch</Trans>\n      </LinkButton>\n      <LinkButton href={compareURL} icon=\"external-link-alt\" variant=\"secondary\" target=\"_blank\">\n        <Trans i18nKey=\"provisioning.repository-link.delete-or-move-job.compare-branch\">Compare branch</Trans>\n      </LinkButton>\n      <LinkButton href={pullRequestURL} icon=\"external-link-alt\" variant=\"secondary\" target=\"_blank\">\n        <Trans i18nKey=\"provisioning.repository-link.delete-or-move-job.open-pull-request\">Open pull request</Trans>\n      </LinkButton>\n    </>\n  );\n}\n","import { skipToken } from '@reduxjs/toolkit/query';\n\nimport { Trans } from '@grafana/i18n';\nimport { LinkButton, Stack, Text, TextLink } from '@grafana/ui';\nimport { useGetRepositoryQuery } from 'app/api/clients/provisioning/v0alpha1';\n\nimport { getRepoHref } from '../utils/git';\n\ntype RepositoryLinkProps = {\n  name?: string;\n  jobType: 'sync' | 'delete' | 'move';\n};\n\nexport function RepositoryLink({ name, jobType }: RepositoryLinkProps) {\n  const repoQuery = useGetRepositoryQuery(name ? { name } : skipToken);\n  const repo = repoQuery.data;\n\n  if (!repo || repoQuery.isLoading) {\n    return null;\n  }\n\n  const repoHref = getRepoHref(repo.spec?.github);\n\n  if (jobType === 'sync') {\n    return (\n      <>\n        <Text>\n          <Trans i18nKey=\"provisioning.repository-link.grafana-repository-synced\">\n            Your resources are now in your external storage and provisioned into your instance. From now on, your\n            instance and the external storage will be synchronized.\n          </Trans>\n        </Text>\n\n        {repoHref && (\n          <Stack direction=\"row\" gap={2}>\n            <TextLink href={repoHref} external>\n              <Trans i18nKey=\"provisioning.repository-link.sync-job.view-repository\">View repository</Trans>\n            </TextLink>\n          </Stack>\n        )}\n      </>\n    );\n  }\n\n  return (\n    <>\n      {repoHref && (\n        <Stack direction=\"row\" gap={2}>\n          <LinkButton href={repoHref} icon=\"external-link-alt\" variant=\"secondary\" target=\"_blank\">\n            <Trans i18nKey=\"provisioning.repository-link.delete-or-move-job.view-repository\">View repository</Trans>\n          </LinkButton>\n        </Stack>\n      )}\n    </>\n  );\n}\n","import { css } from '@emotion/css';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { useStyles2 } from '@grafana/ui';\n\ninterface ProgressBarProps {\n  progress?: number;\n  topBottomSpacing?: number;\n}\nconst ProgressBar = ({ progress, topBottomSpacing }: ProgressBarProps) => {\n  const styles = useStyles2(getStyles, topBottomSpacing);\n\n  if (progress === undefined) {\n    return null;\n  }\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.filler} style={{ width: `${progress}%` }}></div>\n    </div>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme2, topBottomSpacing = 2) => ({\n  container: css({\n    height: '10px',\n    width: '400px',\n    backgroundColor: theme.colors.background.secondary,\n    borderRadius: theme.shape.radius.pill,\n    overflow: 'hidden',\n    margin: theme.spacing(topBottomSpacing, 0),\n  }),\n  filler: css({\n    height: '100%',\n    background: theme.colors.success.text,\n    [theme.transitions.handleMotion('no-preference', 'reduce')]: {\n      transition: 'width 0.5s ease-in-out',\n    },\n  }),\n});\n\nexport default ProgressBar;\n","import { useEffect, useRef } from 'react';\n\nimport { Trans, t } from '@grafana/i18n';\nimport { ControlledCollapse, Spinner, Stack, Text } from '@grafana/ui';\nimport { Job } from 'app/api/clients/provisioning/v0alpha1';\n\nimport { PullRequestButtons } from '../Repository/PullRequestButtons';\nimport { RepositoryLink } from '../Repository/RepositoryLink';\nimport ProgressBar from '../Shared/ProgressBar';\nimport { StepStatusInfo } from '../Wizard/types';\n\nimport { JobSummary } from './JobSummary';\n\nexport interface JobContentProps {\n  jobType: 'sync' | 'delete' | 'move';\n  job?: Job;\n  isFinishedJob?: boolean;\n  onStatusChange?: (statusInfo: StepStatusInfo) => void;\n}\n\nexport function JobContent({ jobType, job, isFinishedJob = false, onStatusChange }: JobContentProps) {\n  const errorSetRef = useRef(false);\n\n  const { state, message, progress, summary, errors } = job?.status || {};\n  const repoName = job?.metadata?.labels?.['provisioning.grafana.app/repository'];\n  const pullRequestURL = job?.status?.url?.newPullRequestURL;\n\n  // Update step status based on job state\n  useEffect(() => {\n    if (!state) {\n      return;\n    }\n\n    switch (state) {\n      case 'success':\n        onStatusChange?.({ status: 'success' });\n        break;\n      case 'warning':\n        if (!errorSetRef.current) {\n          onStatusChange?.({\n            status: 'warning',\n            warning: {\n              title: t('provisioning.job-status.status.title-warning-running-job', 'Job completed with warnings'),\n              message: errors?.length ? errors : message,\n            },\n          });\n          errorSetRef.current = true;\n        }\n        break;\n      case 'error':\n        if (!errorSetRef.current) {\n          onStatusChange?.({\n            status: 'error',\n            error: {\n              title: t('provisioning.job-status.status.title-error-running-job', 'Error running job'),\n              message: errors?.length ? errors : message,\n            },\n          });\n          errorSetRef.current = true;\n        }\n        break;\n      case 'working':\n      case 'pending':\n        onStatusChange?.({ status: 'running' });\n        break;\n      default:\n        break;\n    }\n  }, [state, message, errors, onStatusChange]);\n\n  if (!job?.status) {\n    return null;\n  }\n\n  return (\n    <Stack direction=\"column\" gap={2}>\n      <Stack direction=\"column\" gap={2}>\n        {['working', 'pending'].includes(state ?? '') && (\n          <Stack direction=\"column\" alignItems=\"center\">\n            <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"center\" gap={2}>\n              <Spinner size={24} />\n              <Text element=\"h5\" color=\"secondary\">\n                {message ?? state ?? t('provisioning.job-status.starting', 'Starting...')}\n              </Text>\n            </Stack>\n            <ProgressBar progress={progress ?? 0} />\n          </Stack>\n        )}\n        {isFinishedJob && summary && (\n          <Stack direction=\"column\" gap={2}>\n            <Text variant=\"h3\">\n              <Trans i18nKey=\"provisioning.job-status.summary\">Summary</Trans>\n            </Text>\n            <JobSummary summary={summary} />\n          </Stack>\n        )}\n        {state === 'success' ? (\n          <Stack direction=\"row\" gap={1}>\n            {pullRequestURL ? (\n              <PullRequestButtons urls={job.status?.url} jobType={jobType} />\n            ) : (\n              <RepositoryLink name={repoName} jobType={jobType} />\n            )}\n          </Stack>\n        ) : (\n          <ControlledCollapse label={t('provisioning.job-status.label-view-details', 'View details')} isOpen={false}>\n            <pre>{JSON.stringify(job, null, 2)}</pre>\n          </ControlledCollapse>\n        )}\n      </Stack>\n    </Stack>\n  );\n}\n","import { useEffect, useRef } from 'react';\n\nimport { Trans, t } from '@grafana/i18n';\nimport { Spinner, Stack, Text } from '@grafana/ui';\nimport { useGetRepositoryJobsWithPathQuery } from 'app/api/clients/provisioning/v0alpha1';\n\nimport { StepStatusInfo } from '../Wizard/types';\n\nimport { JobContent } from './JobContent';\n\nexport interface FinishedJobProps {\n  jobUid: string;\n  repositoryName: string;\n  jobType: 'sync' | 'delete' | 'move';\n  onStatusChange?: (statusInfo: StepStatusInfo) => void;\n}\n\nexport function FinishedJobStatus({ jobUid, repositoryName, jobType, onStatusChange }: FinishedJobProps) {\n  const hasRetried = useRef(false);\n  const finishedQuery = useGetRepositoryJobsWithPathQuery({\n    name: repositoryName,\n    uid: jobUid,\n  });\n  const retryFailed = hasRetried.current && finishedQuery.isError;\n\n  const job = finishedQuery.data;\n\n  useEffect(() => {\n    const shouldRetry = !job && !hasRetried.current && !finishedQuery.isFetching;\n    let timeoutId: ReturnType<typeof setTimeout>;\n\n    if (shouldRetry) {\n      hasRetried.current = true;\n      timeoutId = setTimeout(() => {\n        finishedQuery.refetch();\n      }, 1000);\n    }\n\n    if (retryFailed) {\n      onStatusChange?.({\n        status: 'error',\n        error: {\n          title: t('provisioning.job-status.no-job-found', 'No job found'),\n          message: t(\n            'provisioning.job-status.no-job-found-message',\n            'The job may have been deleted or could not be retrieved. Cancel the current process and start again.'\n          ),\n        },\n      });\n      return;\n    }\n\n    if (finishedQuery.isSuccess && job?.status) {\n      const { state, message, errors } = job.status;\n\n      if (state === 'error') {\n        onStatusChange?.({\n          status: 'error',\n          error: {\n            title: t('provisioning.job-status.status.title-error-running-job', 'Error running job'),\n            message: errors?.length ? errors : message,\n          },\n        });\n      } else if (state === 'success') {\n        onStatusChange?.({\n          status: 'success',\n          success: {\n            title: t('provisioning.job-status.status.title-success-running-job', 'Job completed successfully'),\n          },\n        });\n      } else if (state === 'warning') {\n        onStatusChange?.({\n          status: 'warning',\n          warning: {\n            title: t('provisioning.job-status.status.title-warning-running-job', 'Job completed with warnings'),\n            message: errors?.length ? errors : message,\n          },\n        });\n      }\n    }\n\n    return () => {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n      }\n    };\n  }, [finishedQuery, job, onStatusChange, retryFailed]);\n\n  if (!job || finishedQuery.isLoading || finishedQuery.isFetching) {\n    return (\n      <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"center\" gap={2}>\n        <Spinner size={24} />\n        <Text element=\"h4\" color=\"secondary\">\n          <Trans i18nKey=\"provisioning.job-status.loading-finished-job\">Loading finished job...</Trans>\n        </Text>\n      </Stack>\n    );\n  }\n\n  return <JobContent job={job} isFinishedJob={true} onStatusChange={onStatusChange} jobType={jobType} />;\n}\n","import { Trans, t } from '@grafana/i18n';\nimport { Spinner, Stack, Text } from '@grafana/ui';\nimport { Job, useListJobQuery } from 'app/api/clients/provisioning/v0alpha1';\n\nimport { StepStatusInfo } from '../Wizard/types';\n\nimport { FinishedJobStatus } from './FinishedJobStatus';\nimport { JobContent } from './JobContent';\n\nexport interface JobStatusProps {\n  watch: Job;\n  jobType: 'sync' | 'delete' | 'move';\n  onStatusChange?: (statusInfo: StepStatusInfo) => void;\n}\n\nexport function JobStatus({ jobType, watch, onStatusChange }: JobStatusProps) {\n  const activeQuery = useListJobQuery({\n    fieldSelector: `metadata.name=${watch.metadata?.name}`,\n    watch: true,\n  });\n  const activeJob = activeQuery?.data?.items?.[0];\n  const repoLabel = watch.metadata?.labels?.['provisioning.grafana.app/repository'];\n\n  // Only initialize finished query if we've checked active jobs and found none\n  const activeQueryCompleted = !activeQuery.isUninitialized && !activeQuery.isLoading;\n  const shouldCheckFinishedJobs = activeQueryCompleted && !activeJob && !!repoLabel;\n\n  if (activeQuery.isLoading) {\n    return (\n      <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"center\" gap={2}>\n        <Spinner size={24} />\n        <Text element=\"h4\" color=\"secondary\">\n          <Trans i18nKey=\"provisioning.job-status.starting\">Starting...</Trans>\n        </Text>\n      </Stack>\n    );\n  }\n\n  if (activeQuery.isError) {\n    onStatusChange?.({\n      status: 'error',\n      error: {\n        title: t('provisioning.job-status.title.error-fetching-active-job', 'Error fetching active job'),\n      },\n    });\n    return null;\n  }\n\n  if (activeJob) {\n    return <JobContent job={activeJob} isFinishedJob={false} onStatusChange={onStatusChange} jobType={jobType} />;\n  }\n\n  if (shouldCheckFinishedJobs) {\n    return (\n      <FinishedJobStatus\n        jobUid={watch.metadata?.uid!}\n        repositoryName={repoLabel}\n        onStatusChange={onStatusChange}\n        jobType={jobType}\n      />\n    );\n  }\n\n  return (\n    <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"center\" gap={2}>\n      <Spinner size={24} />\n      <Text element=\"h4\" weight=\"bold\">\n        <Trans i18nKey=\"provisioning.job-status.starting\">Starting...</Trans>\n      </Text>\n    </Stack>\n  );\n}\n","import { InteractiveTable, Stack } from '@grafana/ui';\nimport { JobResourceSummary } from 'app/api/clients/provisioning/v0alpha1';\n\ntype SummaryCell<T extends keyof JobResourceSummary = keyof JobResourceSummary> = {\n  row: {\n    original: JobResourceSummary;\n  };\n};\n\nconst getSummaryColumns = () => [\n  {\n    id: 'resource',\n    header: 'Resource',\n    cell: ({ row: { original: item } }: SummaryCell) => item.resource,\n  },\n  {\n    id: 'created',\n    header: 'Created',\n    cell: ({ row: { original: item } }: SummaryCell) => item.create?.toString() || '-',\n  },\n  {\n    id: 'deleted',\n    header: 'Deleted',\n    cell: ({ row: { original: item } }: SummaryCell) => item.delete?.toString() || '-',\n  },\n  {\n    id: 'updated',\n    header: 'Updated',\n    cell: ({ row: { original: item } }: SummaryCell) => item.update?.toString() || '-',\n  },\n  {\n    id: 'unchanged',\n    header: 'Unchanged',\n    cell: ({ row: { original: item } }: SummaryCell) => item.noop?.toString() || '-',\n  },\n  {\n    id: 'errors',\n    header: 'Errors',\n    cell: ({ row: { original: item } }: SummaryCell) => item.error?.toString() || '-',\n  },\n  {\n    id: 'total',\n    header: 'Total',\n    cell: ({ row: { original: item } }: SummaryCell) => {\n      const total = (item.create || 0) + (item.delete || 0) + (item.update || 0) + (item.noop || 0) + (item.error || 0);\n      return total.toString();\n    },\n  },\n];\n\ninterface Props {\n  summary: JobResourceSummary[];\n}\n\nexport function JobSummary({ summary }: Props) {\n  return (\n    <Stack direction=\"column\" gap={2}>\n      <InteractiveTable\n        data={summary}\n        columns={getSummaryColumns()}\n        getRowId={(item) => item.resource || ''}\n        pageSize={10}\n      />\n    </Stack>\n  );\n}\n","import { t } from '@grafana/i18n';\nimport { Alert } from '@grafana/ui';\n\nimport { StatusInfo } from '../types';\n\nimport { MessageList } from './MessageList';\n\ninterface ProvisioningAlertProps {\n  error?: string | StatusInfo;\n  warning?: string | StatusInfo;\n  success?: string | StatusInfo;\n}\n\nconst getTitle = (alert: string | StatusInfo, type: 'error' | 'warning' | 'success' = 'error') => {\n  if (typeof alert === 'string') {\n    return alert;\n  }\n\n  if (type === 'warning') {\n    return alert.title || t('provisioning.warning-title-default', 'Warning');\n  } else if (type === 'success') {\n    return alert.title || t('provisioning.success-title-default', 'Success');\n  } else {\n    return alert.title || t('provisioning.error-title-default', 'Error');\n  }\n};\n\nconst getMessage = (alert: string | StatusInfo) => {\n  if (typeof alert === 'string' || !alert.message) {\n    return null;\n  }\n\n  if (Array.isArray(alert.message)) {\n    return <MessageList messages={alert.message} />;\n  }\n\n  return alert.message;\n};\n\nexport function ProvisioningAlert({ error, warning, success }: ProvisioningAlertProps) {\n  const alertData = error || warning || success;\n  const type = error ? 'error' : warning ? 'warning' : 'success';\n  const severity = type === 'success' ? 'success' : type;\n\n  if (!alertData) {\n    return null;\n  }\n\n  return (\n    <Alert severity={severity} title={getTitle(alertData, type)}>\n      {getMessage(alertData)}\n    </Alert>\n  );\n}\n","import { ErrorDetails } from 'app/api/clients/provisioning/v0alpha1';\n\nimport { WizardFormData } from '../Wizard/types';\n\nexport type RepositoryField = keyof WizardFormData['repository'];\nexport type RepositoryFormPath = `repository.${RepositoryField}`;\nexport type FormErrorTuple = [RepositoryFormPath | null, { message: string } | null];\n\n/**\n * Maps API error details to form error fields for React Hook Form\n *\n * @param errors Array of error details from the API response\n * @returns Tuple with form field path and error message\n */\nexport const getFormErrors = (errors: ErrorDetails[]): FormErrorTuple => {\n  const fieldsToValidate = [\n    'local.path',\n    'github.branch',\n    'github.url',\n    'secure.token',\n    'gitlab.branch',\n    'gitlab.url',\n    'bitbucket.branch',\n    'bitbucket.url',\n    'git.branch',\n    'git.url',\n  ];\n  const fieldMap: Record<string, RepositoryFormPath> = {\n    path: 'repository.path',\n    branch: 'repository.branch',\n    url: 'repository.url',\n    token: 'repository.token',\n  };\n\n  for (const error of errors) {\n    if (error.field) {\n      const cleanField = error.field.replace('spec.', '');\n      if (fieldsToValidate.includes(cleanField)) {\n        const fieldParts = cleanField.split('.');\n        const lastPart = fieldParts[fieldParts.length - 1];\n\n        if (lastPart in fieldMap) {\n          return [fieldMap[lastPart], { message: error.detail || `Invalid ${lastPart}` }];\n        }\n      }\n    }\n  }\n\n  return [null, null];\n};\n","import { createContext, useContext, useState, useCallback, PropsWithChildren } from 'react';\n\nimport { StepStatusInfo } from './types';\n\ninterface StepStatusContextData {\n  // Current status\n  stepStatusInfo: StepStatusInfo;\n\n  // Status setters\n  setStepStatusInfo: (info: StepStatusInfo) => void;\n\n  // Computed status checks\n  hasStepError: boolean;\n  hasStepWarning: boolean;\n  isStepRunning: boolean;\n  isStepSuccess: boolean;\n  isStepIdle: boolean;\n}\n\nconst StepStatusContext = createContext<StepStatusContextData | undefined>(undefined);\n\nexport const StepStatusProvider = ({ children }: PropsWithChildren) => {\n  const [stepStatusInfo, setStepStatusInfoState] = useState<StepStatusInfo>({ status: 'idle' });\n\n  const setStepStatusInfo = useCallback((info: StepStatusInfo) => {\n    setStepStatusInfoState(info);\n  }, []);\n\n  const value: StepStatusContextData = {\n    stepStatusInfo,\n    setStepStatusInfo,\n    hasStepError: stepStatusInfo.status === 'error',\n    hasStepWarning: stepStatusInfo.status === 'warning',\n    isStepRunning: stepStatusInfo.status === 'running',\n    isStepSuccess: stepStatusInfo.status === 'success',\n    isStepIdle: stepStatusInfo.status === 'idle',\n  };\n\n  return <StepStatusContext.Provider value={value}>{children}</StepStatusContext.Provider>;\n};\n\nexport const useStepStatus = () => {\n  const context = useContext(StepStatusContext);\n\n  if (context === undefined) {\n    throw new Error('useStepStatus must be used within a StepStatusProvider');\n  }\n\n  return context;\n};\n","import { useMemo } from 'react';\n\nimport { t } from '@grafana/i18n';\nimport { RepositoryViewList } from 'app/api/clients/provisioning/v0alpha1';\n\nimport { ModeOption } from '../types';\n\n/**\n * Filters available mode options based on system state\n */\nfunction filterModeOptions(modeOptions: ModeOption[], repoName: string, settings?: RepositoryViewList): ModeOption[] {\n  const folderConnected = settings?.items?.some((item) => item.target === 'folder' && item.name !== repoName);\n\n  return modeOptions.filter((option) => {\n    if (settings?.legacyStorage) {\n      return option.target === 'instance';\n    }\n\n    if (option.target === 'folder') {\n      return true;\n    }\n\n    if (option.target === 'instance') {\n      return !folderConnected;\n    }\n\n    return false;\n  });\n}\n\n/**\n * Hook that provides filtered mode options\n * This needs to be a hook, so we can add translations\n */\nexport function useModeOptions(repoName: string, settings?: RepositoryViewList) {\n  return useMemo(() => {\n    const modeOptions: ModeOption[] = [\n      {\n        target: 'instance',\n        label: t('provisioning.mode-options.instance.label', 'Sync all resources with external storage'),\n        description: t(\n          'provisioning.mode-options.instance.description',\n          'Resources will be synced with external storage and provisioned into this instance. Existing Grafana resources will be migrated and merged if needed. After setup, all new resources and changes will be saved to external storage and automatically provisioned back into the instance.'\n        ),\n        subtitle: t(\n          'provisioning.mode-options.instance.subtitle',\n          'Use this option if you want to sync and manage your entire Grafana instance through external storage.'\n        ),\n      },\n      {\n        target: 'folder',\n        label: t('provisioning.mode-options.folder.label', 'Sync external storage to a new Grafana folder'),\n        description: t(\n          'provisioning.mode-options.folder.description',\n          'After setup, a new Grafana folder will be created and synced with external storage. If any resources are present in external storage, they will be provisioned to this new folder. All new resources created in this folder will be stored and versioned in external storage.'\n        ),\n        subtitle: t(\n          'provisioning.mode-options.folder.subtitle',\n          'Use this option to sync external resources into a new folder without affecting the rest of your instance. You can repeat this process for up to 10 folders.'\n        ),\n      },\n    ];\n\n    return filterModeOptions(modeOptions, repoName, settings);\n  }, [repoName, settings]);\n}\n","import { skipToken } from '@reduxjs/toolkit/query';\nimport { useMemo } from 'react';\n\nimport { t } from '@grafana/i18n';\nimport {\n  GetRepositoryFilesApiResponse,\n  GetResourceStatsApiResponse,\n  useGetRepositoryFilesQuery,\n  useGetResourceStatsQuery,\n} from 'app/api/clients/provisioning/v0alpha1';\n\n/**\n * Calculates resource statistics from API responses\n */\nfunction getResourceStats(files?: GetRepositoryFilesApiResponse, stats?: GetResourceStatsApiResponse) {\n  const isSupportedFile = (path: string) => path.endsWith('.json') || path.endsWith('.yaml');\n\n  const items = files?.items ?? [];\n\n  const fileCount = items.filter((file) => {\n    const path = file.path ?? '';\n    return isSupportedFile(path);\n  }).length;\n\n  let counts: string[] = [];\n  let resourceCount = 0;\n\n  stats?.instance?.forEach((stat) => {\n    switch (stat.group) {\n      case 'folders':\n      case 'folder.grafana.app':\n        resourceCount += stat.count;\n        counts.push(t('provisioning.bootstrap-step.folders-count', '{{count}} folder', { count: stat.count }));\n        break;\n      case 'dashboard.grafana.app':\n        resourceCount += stat.count;\n        counts.push(t('provisioning.bootstrap-step.dashboards-count', '{{count}} dashboard', { count: stat.count }));\n        break;\n    }\n  });\n\n  return {\n    fileCount,\n    resourceCount,\n    resourceCountString: counts.join(',\\n'),\n  };\n}\n\n/**\n * Hook that provides resource statistics and sync logic\n */\nexport function useResourceStats(repoName?: string, isLegacyStorage?: boolean) {\n  const resourceStatsQuery = useGetResourceStatsQuery(repoName ? undefined : skipToken);\n  const filesQuery = useGetRepositoryFilesQuery(repoName ? { name: repoName } : skipToken);\n\n  const isLoading = resourceStatsQuery.isLoading || filesQuery.isLoading;\n\n  const { resourceCount, resourceCountString, fileCount } = useMemo(\n    () => getResourceStats(filesQuery.data, resourceStatsQuery.data),\n    [filesQuery.data, resourceStatsQuery.data]\n  );\n\n  const requiresMigration = isLegacyStorage || resourceCount > 0;\n  const shouldSkipSync = !requiresMigration && resourceCount === 0 && fileCount === 0;\n\n  // Format display strings\n  const resourceCountDisplay =\n    resourceCount > 0 ? resourceCountString : t('provisioning.bootstrap-step.empty', 'Empty');\n  const fileCountDisplay =\n    fileCount > 0\n      ? t('provisioning.bootstrap-step.files-count', '{{count}} files', { count: fileCount })\n      : t('provisioning.bootstrap-step.empty', 'Empty');\n\n  return {\n    resourceCount,\n    resourceCountString: resourceCountDisplay,\n    fileCount,\n    fileCountString: fileCountDisplay,\n    isLoading,\n    requiresMigration,\n    shouldSkipSync,\n  };\n}\n","import { useEffect } from 'react';\nimport { Controller, useFormContext } from 'react-hook-form';\n\nimport { Trans, t } from '@grafana/i18n';\nimport { Box, Card, Field, Input, LoadingPlaceholder, Stack, Text } from '@grafana/ui';\nimport { RepositoryViewList } from 'app/api/clients/provisioning/v0alpha1';\nimport { generateRepositoryTitle } from 'app/features/provisioning/utils/data';\n\nimport { useStepStatus } from './StepStatusContext';\nimport { useModeOptions } from './hooks/useModeOptions';\nimport { useResourceStats } from './hooks/useResourceStats';\nimport { WizardFormData } from './types';\n\nexport interface Props {\n  settingsData?: RepositoryViewList;\n  repoName: string;\n}\n\nexport function BootstrapStep({ settingsData, repoName }: Props) {\n  const { setStepStatusInfo } = useStepStatus();\n  const {\n    register,\n    control,\n    setValue,\n    watch,\n    getValues,\n    formState: { errors },\n  } = useFormContext<WizardFormData>();\n\n  const selectedTarget = watch('repository.sync.target');\n  const options = useModeOptions(repoName, settingsData);\n  const { target } = options[0];\n  const { resourceCountString, fileCountString, isLoading } = useResourceStats(repoName, settingsData?.legacyStorage);\n\n  useEffect(() => {\n    // Pick a name nice name based on type+settings\n    const repository = getValues('repository');\n    const title = generateRepositoryTitle(repository);\n    setValue('repository.title', title);\n  }, [getValues, setValue]);\n\n  useEffect(() => {\n    setStepStatusInfo({ status: isLoading ? 'running' : 'idle' });\n  }, [isLoading, setStepStatusInfo]);\n\n  useEffect(() => {\n    setValue('repository.sync.target', target);\n  }, [target, setValue]);\n\n  if (isLoading) {\n    return (\n      <Box padding={4}>\n        <LoadingPlaceholder\n          text={t('provisioning.bootstrap-step.text-loading-resource-information', 'Loading resource information...')}\n        />\n      </Box>\n    );\n  }\n\n  return (\n    <Stack direction=\"column\" gap={2}>\n      <Stack direction=\"column\" gap={2}>\n        <Box alignItems=\"center\" padding={4}>\n          <Stack direction=\"row\" gap={4} alignItems=\"flex-start\" justifyContent=\"center\">\n            <Stack direction=\"column\" gap={1} alignItems=\"center\">\n              <Text color=\"secondary\">\n                <Trans i18nKey=\"provisioning.bootstrap-step.grafana\">Grafana instance</Trans>\n              </Text>\n              <Stack direction=\"row\" gap={2}>\n                <Text variant=\"h4\">{resourceCountString}</Text>\n              </Stack>\n            </Stack>\n            <Stack direction=\"column\" gap={1} alignItems=\"center\">\n              <Text color=\"secondary\">\n                <Trans i18nKey=\"provisioning.bootstrap-step.ext-storage\">External storage</Trans>\n              </Text>\n              <Text variant=\"h4\">{fileCountString}</Text>\n            </Stack>\n          </Stack>\n        </Box>\n\n        <Controller\n          name=\"repository.sync.target\"\n          control={control}\n          render={({ field: { ref, onChange, ...field } }) => (\n            <>\n              {options.map((action) => (\n                <Card\n                  key={action.target}\n                  isSelected={action.target === selectedTarget}\n                  onClick={() => {\n                    onChange(action.target);\n                  }}\n                  noMargin\n                  {...field}\n                >\n                  <Card.Heading>{action.label}</Card.Heading>\n                  <Card.Description>\n                    <Stack direction=\"column\" gap={3}>\n                      {action.description}\n                      <Text color=\"primary\">{action.subtitle}</Text>\n                    </Stack>\n                  </Card.Description>\n                </Card>\n              ))}\n            </>\n          )}\n        />\n\n        {/* Only show title field if folder sync */}\n        {selectedTarget === 'folder' && (\n          <Field\n            label={t('provisioning.bootstrap-step.label-display-name', 'Display name')}\n            description={t(\n              'provisioning.bootstrap-step.description-clear-repository-connection',\n              'Add a clear name for this repository connection'\n            )}\n            error={errors.repository?.title?.message}\n            invalid={!!errors.repository?.title}\n            required\n            noMargin\n          >\n            <Input\n              id=\"repository-title\"\n              {...register('repository.title', {\n                required: t('provisioning.bootstrap-step.error-field-required', 'This field is required.'),\n              })}\n              placeholder={t(\n                'provisioning.bootstrap-step.placeholder-my-repository-connection',\n                'My repository connection'\n              )}\n              // Autofocus the title field if it's the only available option\n              autoFocus={options.length === 1 && options[0].target === 'folder'}\n            />\n          </Field>\n        )}\n      </Stack>\n    </Stack>\n  );\n}\n","export interface HttpError extends Error {\n  status?: number;\n}\n\nexport function isSupportedGitProvider(provider: string): provider is 'github' | 'gitlab' | 'bitbucket' {\n  return ['github', 'gitlab', 'bitbucket'].includes(provider);\n}\n\nexport function isHttpError(err: unknown): err is HttpError {\n  return err instanceof Error && 'status' in err;\n}\n","import { t } from '@grafana/i18n';\n\nimport { HttpError, isHttpError } from '../guards';\n\nexport interface RepositoryInfo {\n  owner: string;\n  repo: string;\n}\n\nexport interface ApiRequest {\n  url: string;\n  headers: Record<string, string>;\n}\n\nconst githubUrlRegex = /^https:\\/\\/github\\.com\\/([^\\/]+)\\/([^\\/]+)\\/?$/;\nconst gitlabUrlRegex = /^https:\\/\\/gitlab\\.com\\/([^\\/]+)\\/([^\\/]+)\\/?$/;\nconst bitbucketUrlRegex = /^https:\\/\\/bitbucket\\.org\\/([^\\/]+)\\/([^\\/]+)\\/?$/;\n\nexport function parseRepositoryUrl(url: string, type: string): RepositoryInfo | null {\n  let match: RegExpMatchArray | null = null;\n\n  switch (type) {\n    case 'github':\n      match = url.match(githubUrlRegex);\n      break;\n    case 'gitlab':\n      match = url.match(gitlabUrlRegex);\n      break;\n    case 'bitbucket':\n      match = url.match(bitbucketUrlRegex);\n      break;\n    default:\n      return null;\n  }\n\n  if (match && match[1] && match[2]) {\n    return {\n      owner: match[1],\n      repo: match[2].replace(/\\.git$/, ''),\n    };\n  }\n\n  return null;\n}\n\nexport function getProviderHeaders(repositoryType: string, token: string): Record<string, string> {\n  switch (repositoryType) {\n    case 'github':\n      return { Authorization: `Bearer ${token}` };\n    case 'gitlab':\n      return { 'Private-Token': token };\n    case 'bitbucket':\n      return { Authorization: `Basic ${btoa(token)}` };\n    default:\n      throw new Error(\n        t('provisioning.http-utils.unsupported-repository-type', 'Unsupported repository type: {{repositoryType}}', {\n          repositoryType,\n        })\n      );\n  }\n}\n\nexport async function makeApiRequest(request: ApiRequest) {\n  const response = await window.fetch(request.url, {\n    method: 'GET',\n    headers: request.headers,\n  });\n\n  if (!response.ok) {\n    const errorData = await response.text();\n    console.error('API Error Response:', errorData);\n    const error: HttpError = new Error(\n      t('provisioning.http-utils.http-error', 'HTTP {{status}}: {{statusText}}', {\n        status: response.status,\n        statusText: response.statusText,\n      })\n    );\n    error.status = response.status;\n    throw error;\n  }\n\n  return response.json();\n}\n\n// GitHub, GitLab, and Bitbucket limit results to 100 items per page, so we need to paginate\nasync function fetchWithPagination(\n  buildUrl: (page: number) => string,\n  headers: Record<string, string>\n): Promise<Array<{ name: string }>> {\n  const allBranches = [];\n  let page = 1;\n  let hasMorePages = true;\n\n  while (hasMorePages && page <= 10) {\n    const url = buildUrl(page);\n    const data = await makeApiRequest({ url, headers });\n\n    // Handle GitHub/GitLab format (direct array) and Bitbucket format ({ values: [...] })\n    const branches = Array.isArray(data) ? data : data?.values;\n\n    if (Array.isArray(branches) && branches.length > 0) {\n      allBranches.push(...branches);\n      hasMorePages = branches.length === 100;\n      page++;\n    } else {\n      hasMorePages = false;\n    }\n  }\n\n  return allBranches;\n}\n\nexport async function fetchAllGitHubBranches(\n  owner: string,\n  repo: string,\n  headers: Record<string, string>\n): Promise<Array<{ name: string }>> {\n  return fetchWithPagination(\n    (page) => `https://api.github.com/repos/${owner}/${repo}/branches?per_page=100&page=${page}`,\n    headers\n  );\n}\n\nexport async function fetchAllGitLabBranches(\n  owner: string,\n  repo: string,\n  headers: Record<string, string>\n): Promise<Array<{ name: string }>> {\n  const encodedPath = encodeURIComponent(`${owner}/${repo}`);\n  return fetchWithPagination(\n    (page) => `https://gitlab.com/api/v4/projects/${encodedPath}/repository/branches?per_page=100&page=${page}`,\n    headers\n  );\n}\n\nexport async function fetchAllBitbucketBranches(\n  owner: string,\n  repo: string,\n  headers: Record<string, string>\n): Promise<Array<{ name: string }>> {\n  return fetchWithPagination(\n    (page) => `https://api.bitbucket.org/2.0/repositories/${owner}/${repo}/refs/branches?pagelen=100&page=${page}`,\n    headers\n  );\n}\n\nexport async function fetchAllBranches(\n  repositoryType: string,\n  owner: string,\n  repo: string,\n  token: string\n): Promise<Array<{ name: string }>> {\n  const headers = getProviderHeaders(repositoryType, token);\n\n  switch (repositoryType) {\n    case 'github':\n      return fetchAllGitHubBranches(owner, repo, headers);\n    case 'gitlab':\n      return fetchAllGitLabBranches(owner, repo, headers);\n    case 'bitbucket':\n      return fetchAllBitbucketBranches(owner, repo, headers);\n    default:\n      throw new Error(\n        t('provisioning.http-utils.unsupported-repository-type', 'Unsupported repository type: {{repositoryType}}', {\n          repositoryType,\n        })\n      );\n  }\n}\n\nexport function getErrorMessage(err: unknown) {\n  let errorMessage = t('provisioning.http-utils.request-failed', 'Request failed');\n\n  if (isHttpError(err)) {\n    if (err.status === 401) {\n      errorMessage = t(\n        'provisioning.http-utils.authentication-failed',\n        'Authentication failed. Please check your access token.'\n      );\n    } else if (err.status === 404) {\n      errorMessage = t(\n        'provisioning.http-utils.resource-not-found',\n        'Resource not found. Please check the URL or repository.'\n      );\n    } else if (err.status === 403) {\n      errorMessage = t('provisioning.http-utils.access-denied', 'Access denied. Please check your token permissions.');\n    } else if (err.message) {\n      errorMessage = err.message;\n    }\n  }\n\n  return errorMessage;\n}\n","/**\n * A hook to fetch all branches from a given repository.\n * Used to populate the branch dropdown in the repository selection.\n * We can't use the '/ref` endpoint at this point because the repository connection hasn't been created yet.\n */\nimport { useMemo } from 'react';\nimport { useAsync } from 'react-use';\n\nimport { RepoType } from '../Wizard/types';\nimport { isSupportedGitProvider } from '../guards';\nimport { fetchAllBranches, getErrorMessage, parseRepositoryUrl } from '../utils/httpUtils';\n\nexport interface UseBranchOptionsProps {\n  repositoryType: RepoType;\n  repositoryUrl: string;\n  repositoryToken: string;\n  repositoryTokenUser?: string;\n}\n\nexport function useBranchOptions({\n  repositoryType,\n  repositoryUrl = '',\n  repositoryToken = '',\n  repositoryTokenUser = '',\n}: UseBranchOptionsProps) {\n  const trimmedUrl = repositoryUrl.trim();\n  const trimmedToken = repositoryToken.trim();\n  const trimmedTokenUser = repositoryTokenUser.trim();\n\n  const hasRequiredData = useMemo(() => {\n    if (!isSupportedGitProvider(repositoryType)) {\n      return false;\n    }\n\n    const hasUrl = trimmedUrl.length > 0;\n    const hasToken = trimmedToken.length > 0;\n    const hasTokenUser = repositoryType === 'bitbucket' ? trimmedTokenUser.length > 0 : true;\n    const repoInfo = hasUrl ? parseRepositoryUrl(trimmedUrl, repositoryType) : null;\n\n    return hasUrl && hasToken && hasTokenUser && repoInfo !== null;\n  }, [trimmedUrl, trimmedToken, trimmedTokenUser, repositoryType]);\n\n  const fetchOptions = useMemo(\n    () => async (): Promise<Array<{ label: string; value: string }>> => {\n      if (!hasRequiredData) {\n        return [];\n      }\n\n      const repoInfo = parseRepositoryUrl(trimmedUrl, repositoryType);\n\n      if (!repoInfo) {\n        throw new Error('Invalid repository URL format');\n      }\n\n      // For Bitbucket, combine username and app password for Basic auth\n      const authToken = repositoryType === 'bitbucket' ? `${trimmedTokenUser}:${trimmedToken}` : trimmedToken;\n      const branchData = await fetchAllBranches(repositoryType, repoInfo.owner, repoInfo.repo, authToken);\n\n      return branchData.map((branch) => ({\n        label: branch.name,\n        value: branch.name,\n      }));\n    },\n    [hasRequiredData, trimmedUrl, trimmedToken, trimmedTokenUser, repositoryType]\n  );\n\n  const asyncState = useAsync(fetchOptions, [fetchOptions]);\n\n  return {\n    options: asyncState.value || [],\n    loading: asyncState.loading,\n    error: asyncState.error ? getErrorMessage(asyncState.error) : null,\n  };\n}\n","import { useState } from 'react';\nimport { Controller, useFormContext } from 'react-hook-form';\n\nimport { Combobox, Field, Input, SecretInput, Stack } from '@grafana/ui';\n\nimport { TokenPermissionsInfo } from '../Shared/TokenPermissionsInfo';\nimport { useBranchOptions } from '../hooks/useBranchOptions';\nimport { getHasTokenInstructions } from '../utils/git';\nimport { isGitProvider } from '../utils/repositoryTypes';\n\nimport { getGitProviderFields, getLocalProviderFields } from './fields';\nimport { WizardFormData } from './types';\n\nexport function ConnectStep() {\n  const {\n    register,\n    control,\n    setValue,\n    formState: { errors },\n    getValues,\n    watch,\n  } = useFormContext<WizardFormData>();\n\n  const [tokenConfigured, setTokenConfigured] = useState(false);\n\n  // We don't need to dynamically react on repo type changes, so we use getValues for it\n  const type = getValues('repository.type');\n  const [repositoryUrl = '', repositoryToken = '', repositoryTokenUser = ''] = watch([\n    'repository.url',\n    'repository.token',\n    'repository.tokenUser',\n  ]);\n  const isGitBased = isGitProvider(type);\n\n  const {\n    options: branchOptions,\n    loading: branchesLoading,\n    error: branchesError,\n  } = useBranchOptions({\n    repositoryType: type,\n    repositoryUrl,\n    repositoryToken,\n    repositoryTokenUser,\n  });\n\n  const gitFields = isGitBased ? getGitProviderFields(type) : null;\n  const localFields = !isGitBased ? getLocalProviderFields(type) : null;\n  const hasTokenInstructions = getHasTokenInstructions(type);\n\n  return (\n    <Stack direction=\"column\" gap={2}>\n      {hasTokenInstructions && <TokenPermissionsInfo type={type} />}\n\n      {gitFields && (\n        <>\n          <Field\n            noMargin\n            label={gitFields.tokenConfig.label}\n            required={gitFields.tokenConfig.required}\n            description={gitFields.tokenConfig.description}\n            error={errors?.repository?.token?.message}\n            invalid={!!errors?.repository?.token?.message}\n          >\n            <Controller\n              name=\"repository.token\"\n              control={control}\n              rules={gitFields.tokenConfig.validation}\n              render={({ field: { ref, ...field } }) => (\n                <SecretInput\n                  {...field}\n                  id=\"token\"\n                  placeholder={gitFields.tokenConfig.placeholder}\n                  isConfigured={tokenConfigured}\n                  onReset={() => {\n                    setValue('repository.token', '');\n                    setTokenConfigured(false);\n                  }}\n                />\n              )}\n            />\n          </Field>\n\n          {gitFields.tokenUserConfig && (\n            <Field\n              noMargin\n              label={gitFields.tokenUserConfig.label}\n              required={gitFields.tokenUserConfig.required}\n              description={gitFields.tokenUserConfig.description}\n              error={errors?.repository?.tokenUser?.message}\n              invalid={!!errors?.repository?.tokenUser?.message}\n            >\n              <Input\n                {...register('repository.tokenUser', gitFields.tokenUserConfig.validation)}\n                id=\"tokenUser\"\n                placeholder={gitFields.tokenUserConfig.placeholder}\n              />\n            </Field>\n          )}\n\n          <Field\n            noMargin\n            label={gitFields.urlConfig.label}\n            description={gitFields.urlConfig.description}\n            error={errors?.repository?.url?.message}\n            invalid={Boolean(errors?.repository?.url?.message)}\n            required={gitFields.urlConfig.required}\n          >\n            <Input\n              {...register('repository.url', gitFields.urlConfig.validation)}\n              id=\"repository-url\"\n              placeholder={gitFields.urlConfig.placeholder}\n            />\n          </Field>\n\n          <Field\n            noMargin\n            label={gitFields.branchConfig.label}\n            description={gitFields.branchConfig.description}\n            error={errors?.repository?.branch?.message}\n            required={gitFields.branchConfig.required}\n            invalid={Boolean(errors?.repository?.branch?.message || branchesError)}\n          >\n            <Controller\n              name=\"repository.branch\"\n              control={control}\n              rules={gitFields.branchConfig.validation}\n              render={({ field: { ref, onChange, ...field } }) => (\n                <Combobox\n                  invalid={Boolean(errors?.repository?.branch?.message || branchesError)}\n                  onChange={(option) => onChange(option?.value || '')}\n                  placeholder={gitFields.branchConfig.placeholder}\n                  options={branchOptions}\n                  loading={branchesLoading}\n                  createCustomValue\n                  isClearable\n                  {...field}\n                />\n              )}\n            />\n          </Field>\n\n          <Field\n            noMargin\n            label={gitFields.pathConfig.label}\n            description={gitFields.pathConfig.description}\n            error={errors?.repository?.path?.message}\n            invalid={!!errors?.repository?.path?.message}\n            required={gitFields.pathConfig.required}\n          >\n            <Input\n              {...register('repository.path', gitFields.pathConfig.validation)}\n              id=\"git-path\"\n              placeholder={gitFields.pathConfig.placeholder}\n            />\n          </Field>\n        </>\n      )}\n\n      {localFields && (\n        <Field\n          noMargin\n          label={localFields.pathConfig.label}\n          description={localFields.pathConfig.description}\n          error={errors?.repository?.path?.message}\n          invalid={!!errors?.repository?.path?.message}\n          required={localFields.pathConfig.required}\n        >\n          <Input\n            {...register('repository.path', localFields.pathConfig.validation)}\n            id=\"local-path\"\n            placeholder={localFields.pathConfig.placeholder}\n          />\n        </Field>\n      )}\n    </Stack>\n  );\n}\n","import { useEffect } from 'react';\nimport { useFormContext } from 'react-hook-form';\n\nimport { Trans, t } from '@grafana/i18n';\nimport { Checkbox, Field, Input, Stack, Text, TextLink } from '@grafana/ui';\n\nimport { checkImageRenderer, checkPublicAccess } from '../GettingStarted/features';\nimport { isGitProvider } from '../utils/repositoryTypes';\n\nimport { getGitProviderFields } from './fields';\nimport { WizardFormData } from './types';\n\nexport function FinishStep() {\n  const { register, watch, setValue } = useFormContext<WizardFormData>();\n\n  const [type, readOnly] = watch(['repository.type', 'repository.readOnly']);\n\n  const isGithub = type === 'github';\n  const isGitBased = isGitProvider(type);\n  const isPublic = checkPublicAccess();\n  const hasImageRenderer = checkImageRenderer();\n\n  // Set sync enabled by default\n  useEffect(() => {\n    setValue('repository.sync.enabled', true);\n  }, [setValue]);\n\n  // Get field configurations for git-based providers\n  const gitFields = isGitBased ? getGitProviderFields(type) : null;\n\n  return (\n    <Stack direction=\"column\" gap={2}>\n      {isGitBased && (\n        <Field\n          noMargin\n          label={t('provisioning.finish-step.label-sync-interval', 'Sync Interval (seconds)')}\n          description={t(\n            'provisioning.finish-step.description-sync-interval',\n            'How often to sync changes from the repository'\n          )}\n          required\n        >\n          <Input\n            {...register('repository.sync.intervalSeconds', {\n              valueAsNumber: true,\n              required: t('provisioning.finish-step.error-sync-interval-required', 'Sync interval is required'),\n            })}\n            type=\"number\"\n            // eslint-disable-next-line @grafana/i18n/no-untranslated-strings\n            placeholder=\"60\"\n          />\n        </Field>\n      )}\n\n      <Field noMargin>\n        <Checkbox\n          {...register('repository.readOnly', {\n            onChange: (e) => {\n              if (e.target.checked) {\n                setValue('repository.prWorkflow', false);\n              }\n            },\n          })}\n          label={t('provisioning.finish-step.label-read-only', 'Read only')}\n          description={t(\n            'provisioning.finish-step.description-read-only',\n            \"Resources can't be modified through Grafana.\"\n          )}\n        />\n      </Field>\n\n      {gitFields && (\n        <Field noMargin>\n          <Checkbox\n            {...register('repository.prWorkflow')}\n            disabled={readOnly}\n            label={gitFields.prWorkflowConfig.label}\n            description={gitFields.prWorkflowConfig.description}\n          />\n        </Field>\n      )}\n\n      {isGithub && (\n        <Field noMargin>\n          <Checkbox\n            {...register('repository.generateDashboardPreviews')}\n            label={t('provisioning.finish-step.label-generate-dashboard-previews', 'Generate Dashboard Previews')}\n            description={\n              <>\n                <Trans i18nKey=\"provisioning.finish-step.description-generate-dashboard-previews\">\n                  Create preview links for pull requests\n                </Trans>\n                {(!isPublic || !hasImageRenderer) && (\n                  <>\n                    {' '}\n                    <Text color=\"secondary\">\n                      <Trans i18nKey=\"provisioning.finish-step.description-preview-requirements\">\n                        (requires{' '}\n                        <TextLink href=\"https://grafana.com/docs/grafana/latest/setup-grafana/image-rendering/\">\n                          image rendering\n                        </TextLink>{' '}\n                        and public access enabled)\n                      </Trans>\n                    </Text>\n                  </>\n                )}\n              </>\n            }\n            disabled={!isPublic || !hasImageRenderer}\n          />\n        </Field>\n      )}\n    </Stack>\n  );\n}\n","import { css, cx } from '@emotion/css';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { useStyles2, Icon } from '@grafana/ui';\n\nexport interface Step<T> {\n  id: T;\n  name: string;\n  title: string;\n  submitOnNext?: boolean;\n}\n\nexport interface Props<T extends string | number> {\n  activeStep?: T;\n  reportId?: string;\n  visitedSteps?: T[];\n  steps: Array<Step<T>>;\n}\n\nexport function Stepper<T extends string | number>({ visitedSteps = [], steps, activeStep = steps[0]?.id }: Props<T>) {\n  const styles = useStyles2(getStyles);\n\n  return (\n    <ol className={styles.container}>\n      {steps.map((step, index) => {\n        const isActive = step.id === activeStep;\n        const isCompleted = visitedSteps.includes(step.id) && !isActive;\n        const isLast = index === steps.length - 1;\n\n        const stepTextClass = cx(styles.stepText, {\n          [styles.activeStepText]: isActive,\n        });\n\n        return (\n          <li key={step.id} className={styles.stepContainer}>\n            <div className={styles.stepContent}>\n              {isCompleted ? (\n                <div className={cx(styles.stepNumber, styles.completedStepNumber)}>\n                  <Icon name=\"check\" size=\"sm\" />\n                </div>\n              ) : (\n                <div className={styles.stepNumber}>{index + 1}</div>\n              )}\n              <div className={stepTextClass}>{step.name}</div>\n            </div>\n            {!isLast && <div className={styles.connector} />}\n          </li>\n        );\n      })}\n    </ol>\n  );\n}\n\nconst getStyles = (theme: GrafanaTheme2) => {\n  return {\n    container: css({\n      display: 'flex',\n      flexDirection: 'column',\n      margin: theme.spacing(2, 0),\n      padding: 0,\n      listStyle: 'none',\n      width: 200,\n    }),\n    stepContainer: css({\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'flex-start',\n      position: 'relative',\n    }),\n    stepContent: css({\n      display: 'flex',\n      alignItems: 'center',\n      padding: theme.spacing(0.5, 0),\n    }),\n    stepNumber: css({\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      height: theme.spacing(3),\n      width: theme.spacing(3),\n      color: theme.colors.text.secondary,\n      fontSize: theme.typography.size.sm,\n      fontWeight: theme.typography.fontWeightMedium,\n      marginRight: theme.spacing(1),\n    }),\n    completedStepNumber: css({\n      color: theme.colors.success.main,\n    }),\n    stepText: css({\n      color: theme.colors.text.secondary,\n      fontSize: theme.typography.size.md,\n    }),\n    activeStepText: css({\n      color: theme.colors.text.primary,\n      fontWeight: theme.typography.fontWeightMedium,\n    }),\n    connector: css({\n      width: '1px',\n      backgroundColor: theme.colors.border.medium,\n      height: theme.spacing(2),\n      marginLeft: theme.spacing(1.5),\n      marginTop: theme.spacing(0.5),\n    }),\n  };\n};\n","import { t } from '@grafana/i18n';\nimport { useCreateRepositoryJobsMutation } from 'app/api/clients/provisioning/v0alpha1';\n\nimport { isGitProvider } from '../../utils/repositoryTypes';\nimport { RepoType, StepStatusInfo } from '../types';\n\nexport interface UseCreateSyncJobParams {\n  repoName: string;\n  requiresMigration: boolean;\n  repoType: RepoType;\n  isLegacyStorage?: boolean;\n  setStepStatusInfo?: (info: StepStatusInfo) => void;\n}\n\nexport function useCreateSyncJob({\n  repoName,\n  requiresMigration,\n  repoType,\n  isLegacyStorage,\n  setStepStatusInfo,\n}: UseCreateSyncJobParams) {\n  const [createJob, { isLoading }] = useCreateRepositoryJobsMutation();\n  const supportsHistory = isGitProvider(repoType) && isLegacyStorage;\n\n  const createSyncJob = async (options?: { history?: boolean }) => {\n    if (!repoName) {\n      setStepStatusInfo?.({\n        status: 'error',\n        error: t('provisioning.sync-job.error-no-repository-name', 'No repository name provided'),\n      });\n      return null;\n    }\n\n    try {\n      setStepStatusInfo?.({ status: 'running' });\n\n      const jobSpec = requiresMigration\n        ? {\n            migrate: {\n              history: (options?.history || false) && supportsHistory,\n            },\n          }\n        : {\n            pull: {\n              incremental: false,\n            },\n          };\n\n      const response = await createJob({\n        name: repoName,\n        jobSpec,\n      }).unwrap();\n\n      if (!response?.metadata?.name) {\n        setStepStatusInfo?.({\n          status: 'error',\n          error: t('provisioning.sync-job.error-no-job-id', 'Failed to start job'),\n        });\n        return null;\n      }\n\n      setStepStatusInfo?.({ status: 'success' });\n      return response;\n    } catch (error) {\n      setStepStatusInfo?.({\n        status: 'error',\n        error: t('provisioning.sync-job.error-starting-job', 'Error starting job'),\n      });\n      return null;\n    }\n  };\n\n  return {\n    createSyncJob,\n    isLoading,\n    supportsHistory,\n  };\n}\n","import { useState } from 'react';\nimport { useFormContext } from 'react-hook-form';\n\nimport { Trans, t } from '@grafana/i18n';\nimport { Button, Text, Stack, Alert, TextLink, Field, Checkbox } from '@grafana/ui';\nimport { Job } from 'app/api/clients/provisioning/v0alpha1';\n\nimport { JobStatus } from '../Job/JobStatus';\n\nimport { useStepStatus } from './StepStatusContext';\nimport { useCreateSyncJob } from './hooks/useCreateSyncJob';\nimport { useResourceStats } from './hooks/useResourceStats';\nimport { WizardFormData } from './types';\n\nexport interface SynchronizeStepProps {\n  isLegacyStorage?: boolean;\n}\n\nexport function SynchronizeStep({ isLegacyStorage }: SynchronizeStepProps) {\n  const { getValues, register, watch } = useFormContext<WizardFormData>();\n  const { setStepStatusInfo } = useStepStatus();\n  const [repoName = '', repoType] = watch(['repositoryName', 'repository.type']);\n  const { requiresMigration } = useResourceStats(repoName, isLegacyStorage);\n  const { createSyncJob, supportsHistory } = useCreateSyncJob({\n    repoName,\n    requiresMigration,\n    repoType,\n    isLegacyStorage,\n    setStepStatusInfo,\n  });\n  const [job, setJob] = useState<Job>();\n\n  const startSynchronization = async () => {\n    const [history] = getValues(['migrate.history']);\n    const response = await createSyncJob({ history });\n    if (response) {\n      setJob(response);\n    }\n  };\n\n  if (job) {\n    return <JobStatus watch={job} onStatusChange={setStepStatusInfo} jobType=\"sync\" />;\n  }\n\n  return (\n    <Stack direction=\"column\" gap={3} alignItems=\"flex-start\">\n      <Text color=\"secondary\">\n        <Trans i18nKey=\"provisioning.wizard.sync-description\">\n          Sync resources with external storage. After this one-time step, all future updates will be automatically saved\n          to the repository and provisioned back into the instance.\n        </Trans>\n      </Text>\n      <Alert\n        title={t(\n          'provisioning.wizard.alert-title',\n          'Important: No data or configuration will be lost, but dashboards will be temporarily unavailable for a few minutes.'\n        )}\n        severity={'info'}\n      >\n        <ul style={{ marginLeft: '16px' }}>\n          <li>\n            <Trans i18nKey=\"provisioning.wizard.alert-point-1\">\n              Resources won't be able to be created, edited, or deleted during this process. In the last step, they will\n              disappear.\n            </Trans>\n          </li>\n          <li>\n            <Trans i18nKey=\"provisioning.wizard.alert-point-2\">\n              Once provisioning is complete, resources will reappear and be managed through external storage.\n            </Trans>\n          </li>\n          <li>\n            <Trans i18nKey=\"provisioning.wizard.alert-point-3\">\n              The duration of this process depends on the number of resources involved.\n            </Trans>\n          </li>\n          <li>\n            <Trans i18nKey=\"provisioning.wizard.alert-point-4\">\n              Enterprise instance administrators can display an announcement banner to users. See{' '}\n              <TextLink external href=\"https://grafana.com/docs/grafana/latest/administration/announcement-banner/\">\n                this guide\n              </TextLink>{' '}\n              for step-by-step instructions.\n            </Trans>\n          </li>\n        </ul>\n      </Alert>\n      {supportsHistory && (\n        <>\n          <Text element=\"h3\">\n            <Trans i18nKey=\"provisioning.synchronize-step.synchronization-options\">Synchronization options</Trans>\n          </Text>\n          <Field noMargin>\n            <Checkbox\n              {...register('migrate.history')}\n              id=\"migrate-history\"\n              label={t('provisioning.wizard.sync-option-history', 'History')}\n              description={\n                <Trans i18nKey=\"provisioning.synchronize-step.synchronization-description\">\n                  Include commits for each historical value\n                </Trans>\n              }\n            />\n          </Field>\n        </>\n      )}\n\n      <Button variant=\"primary\" onClick={startSynchronization}>\n        <Trans i18nKey=\"provisioning.wizard.button-start\">Begin synchronization</Trans>\n      </Button>\n    </Stack>\n  );\n}\n","import { css } from '@emotion/css';\nimport { useCallback, useEffect, useState } from 'react';\nimport { FormProvider, useForm } from 'react-hook-form';\nimport { useNavigate } from 'react-router-dom-v5-compat';\n\nimport { AppEvents, GrafanaTheme2 } from '@grafana/data';\nimport { t } from '@grafana/i18n';\nimport { getAppEvents, isFetchError } from '@grafana/runtime';\nimport { Box, Button, ConfirmModal, Stack, Text, useStyles2 } from '@grafana/ui';\nimport { useDeleteRepositoryMutation, useGetFrontendSettingsQuery } from 'app/api/clients/provisioning/v0alpha1';\nimport { FormPrompt } from 'app/core/components/FormPrompt/FormPrompt';\n\nimport { getDefaultValues } from '../Config/defaults';\nimport { ProvisioningAlert } from '../Shared/ProvisioningAlert';\nimport { PROVISIONING_URL } from '../constants';\nimport { useCreateOrUpdateRepository } from '../hooks/useCreateOrUpdateRepository';\nimport { dataToSpec } from '../utils/data';\nimport { getFormErrors } from '../utils/getFormErrors';\n\nimport { BootstrapStep } from './BootstrapStep';\nimport { ConnectStep } from './ConnectStep';\nimport { FinishStep } from './FinishStep';\nimport { useStepStatus } from './StepStatusContext';\nimport { Step, Stepper } from './Stepper';\nimport { SynchronizeStep } from './SynchronizeStep';\nimport { useCreateSyncJob } from './hooks/useCreateSyncJob';\nimport { useResourceStats } from './hooks/useResourceStats';\nimport { RepoType, WizardFormData, WizardStep } from './types';\n\nconst appEvents = getAppEvents();\n\nconst getSteps = (): Array<Step<WizardStep>> => {\n  return [\n    {\n      id: 'connection',\n      name: t('provisioning.wizard.step-connect', 'Connect'),\n      title: t('provisioning.wizard.title-connect', 'Connect to external storage'),\n      submitOnNext: true,\n    },\n    {\n      id: 'bootstrap',\n      name: t('provisioning.wizard.step-bootstrap', 'Choose what to synchronize'),\n      title: t('provisioning.wizard.title-bootstrap', 'Choose what to synchronize'),\n      submitOnNext: true,\n    },\n    {\n      id: 'synchronize',\n      name: t('provisioning.wizard.step-synchronize', 'Synchronize with external storage'),\n      title: t('provisioning.wizard.title-synchronize', 'Synchronize with external storage'),\n      submitOnNext: false,\n    },\n    {\n      id: 'finish',\n      name: t('provisioning.wizard.step-finish', 'Choose additional settings'),\n      title: t('provisioning.wizard.title-finish', 'Choose additional settings'),\n      submitOnNext: true,\n    },\n  ];\n};\n\nexport function ProvisioningWizard({ type }: { type: RepoType }) {\n  const [activeStep, setActiveStep] = useState<WizardStep>('connection');\n  const [completedSteps, setCompletedSteps] = useState<WizardStep[]>([]);\n\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [isCancelling, setIsCancelling] = useState(false);\n  const [showCancelConfirmation, setShowCancelConfirmation] = useState(false);\n\n  const { stepStatusInfo, setStepStatusInfo, isStepSuccess, isStepRunning, hasStepError, hasStepWarning } =\n    useStepStatus();\n\n  const isSyncCompleted = activeStep === 'synchronize' && (isStepSuccess || hasStepWarning || hasStepError);\n  const isFinishWithSyncCompleted =\n    activeStep === 'finish' && (isStepSuccess || completedSteps.includes('synchronize'));\n  const shouldUseCancelBehavior = activeStep === 'connection' || isSyncCompleted || isFinishWithSyncCompleted;\n\n  const { data } = useGetFrontendSettingsQuery();\n  const isLegacyStorage = Boolean(data?.legacyStorage);\n  const navigate = useNavigate();\n\n  const steps = getSteps();\n  const styles = useStyles2(getStyles);\n\n  const values = getDefaultValues();\n  const methods = useForm<WizardFormData>({\n    defaultValues: {\n      repository: { ...values, type },\n      migrate: {\n        history: true,\n      },\n    },\n  });\n\n  const {\n    watch,\n    setValue,\n    getValues,\n    trigger,\n    setError,\n    formState: { isDirty },\n    handleSubmit,\n  } = methods;\n\n  const [repoName = '', repoType] = watch(['repositoryName', 'repository.type']);\n  const [submitData] = useCreateOrUpdateRepository(repoName);\n  const [deleteRepository] = useDeleteRepositoryMutation();\n  const {\n    shouldSkipSync,\n    requiresMigration,\n    isLoading: isResourceStatsLoading,\n  } = useResourceStats(repoName, isLegacyStorage);\n  const { createSyncJob, isLoading: isCreatingSkipJob } = useCreateSyncJob({\n    repoName: repoName,\n    requiresMigration,\n    repoType,\n    isLegacyStorage,\n    setStepStatusInfo,\n  });\n\n  const currentStepIndex = steps.findIndex((s) => s.id === activeStep);\n  const currentStepConfig = steps[currentStepIndex];\n\n  const canSkipSync = repoName && !isResourceStatsLoading && shouldSkipSync;\n\n  // A different repository is marked with instance target -- nothing will succeed\n  useEffect(() => {\n    if (data?.items.some((item) => item.target === 'instance' && item.name !== repoName)) {\n      appEvents.publish({\n        type: AppEvents.alertError.name,\n        payload: [\n          t('provisioning.wizard-content.error-instance-repository-exists', 'Instance repository already exists'),\n        ],\n      });\n\n      navigate(PROVISIONING_URL);\n    }\n  }, [navigate, repoName, data?.items]);\n\n  const handleRepositoryDeletion = async (name: string) => {\n    setIsCancelling(true);\n    try {\n      await deleteRepository({ name });\n      // Wait before redirecting to ensure deletion is processed\n      setTimeout(() => {\n        navigate(PROVISIONING_URL);\n      }, 1000);\n    } catch (error) {\n      setIsCancelling(false);\n    }\n  };\n\n  const handleBack = () => {\n    const currentStepIndex = steps.findIndex((s) => s.id === activeStep);\n\n    if (currentStepIndex > 0) {\n      let previousStepIndex = currentStepIndex - 1;\n\n      // Handle special case: if we're on finish step and sync was skipped\n      if (activeStep === 'finish' && canSkipSync) {\n        previousStepIndex = currentStepIndex - 2; // Go back to bootstrap\n      }\n\n      if (previousStepIndex >= 0) {\n        const previousStep = steps[previousStepIndex];\n        setActiveStep(previousStep.id);\n        // Remove current step from completed steps when going back\n        setCompletedSteps((prev) => prev.filter((step) => step !== activeStep));\n        setStepStatusInfo({ status: 'idle' });\n      }\n    }\n  };\n\n  const onDiscard = async () => {\n    if (repoName) {\n      await handleRepositoryDeletion(repoName);\n    }\n\n    await handlePrevious();\n  };\n\n  const handlePrevious = async () => {\n    // For cancel actions, show confirmation modal\n    if (shouldUseCancelBehavior) {\n      if (!repoName) {\n        navigate(PROVISIONING_URL);\n        return;\n      }\n      setShowCancelConfirmation(true);\n      return;\n    }\n\n    // For other steps, go back one step\n    handleBack();\n  };\n\n  const handleConfirmCancel = () => {\n    setShowCancelConfirmation(false);\n    handleRepositoryDeletion(repoName);\n  };\n\n  // Calculate button text based on current step position\n  const getNextButtonText = useCallback(\n    (currentStep: WizardStep) => {\n      const stepIndex = steps.findIndex((s) => s.id === currentStep);\n\n      // Guard against index out of bounds\n      if (stepIndex === -1 || stepIndex >= steps.length - 1) {\n        return t('provisioning.wizard.button-next', 'Finish');\n      }\n\n      // If on bootstrap step and should skip sync, show finish step name\n      if (currentStep === 'bootstrap' && canSkipSync) {\n        const finishStepIndex = stepIndex + 2;\n        if (finishStepIndex < steps.length) {\n          return steps[finishStepIndex].name;\n        }\n        return t('provisioning.wizard.button-next', 'Finish');\n      }\n\n      return steps[stepIndex + 1].name;\n    },\n    [steps, canSkipSync]\n  );\n\n  // Calculate previous/cancel button text based on current state\n  const getPreviousButtonText = useCallback(() => {\n    if (isCancelling) {\n      return t('provisioning.wizard-content.button-cancelling', 'Cancelling...');\n    }\n\n    if (shouldUseCancelBehavior) {\n      return t('provisioning.wizard-content.button-cancel', 'Cancel');\n    }\n\n    return t('provisioning.wizard-content.button-previous', 'Previous');\n  }, [isCancelling, shouldUseCancelBehavior]);\n\n  const handleNext = async () => {\n    const isLastStep = currentStepIndex === steps.length - 1;\n\n    // Only navigate to provisioning URL if we're on the actual last step\n    if (isLastStep) {\n      navigate(PROVISIONING_URL);\n    } else {\n      let nextStepIndex = currentStepIndex + 1;\n\n      // Skip synchronize step if no sync is needed\n      if (activeStep === 'bootstrap' && canSkipSync) {\n        nextStepIndex = currentStepIndex + 2; // Skip to finish step\n\n        // Create a pull job to initialize the repository\n        const job = await createSyncJob();\n        if (!job) {\n          return; // Don't proceed if job creation fails\n        }\n      }\n\n      if (nextStepIndex >= steps.length) {\n        navigate(PROVISIONING_URL);\n        return;\n      }\n\n      setActiveStep(steps[nextStepIndex].id);\n      setCompletedSteps((prev) => [...new Set([...prev, activeStep])]);\n      setStepStatusInfo({ status: 'idle' });\n    }\n  };\n\n  const onSubmit = async () => {\n    if (currentStepConfig?.submitOnNext) {\n      // Validate form data before proceeding\n      const fieldsToValidate =\n        activeStep === 'connection' ? (['repository'] as const) : (['repository', 'repository.title'] as const);\n\n      const isValid = await trigger(fieldsToValidate);\n      if (!isValid) {\n        return;\n      }\n\n      setIsSubmitting(true);\n      try {\n        const formData = getValues();\n        const spec = dataToSpec(formData.repository);\n        const rsp = await submitData(spec, formData.repository.token);\n        if (rsp.error) {\n          setStepStatusInfo({\n            status: 'error',\n            error: 'Repository request failed',\n          });\n          return;\n        }\n\n        // Fill in the k8s name from the initial POST response\n        const name = rsp.data?.metadata?.name;\n        if (name) {\n          setValue('repositoryName', name);\n          setStepStatusInfo({ status: 'success' });\n          handleNext();\n        } else {\n          console.error('Saved repository without a name:', rsp);\n        }\n      } catch (error) {\n        if (isFetchError(error)) {\n          const [field, errorMessage] = getFormErrors(error.data.errors);\n          if (field && errorMessage) {\n            setError(field, errorMessage);\n          }\n        } else {\n          setStepStatusInfo({\n            status: 'error',\n            error: 'Repository connection failed',\n          });\n        }\n      } finally {\n        setIsSubmitting(false);\n      }\n    } else {\n      // proceed if the job was successful or had warnings\n      if (isStepSuccess || hasStepWarning) {\n        handleNext();\n      }\n    }\n  };\n\n  const isNextButtonDisabled = () => {\n    // If the step is not on Connect page, we only enable it if the job was successful\n    if (activeStep !== 'connection' && hasStepError) {\n      return true;\n    }\n    // Synchronize step requires success or warning to proceed\n    if (activeStep === 'synchronize') {\n      return !(isStepSuccess || hasStepWarning); // Disable next button if the step is not successful or has warnings\n    }\n    return isSubmitting || isCancelling || isStepRunning || isCreatingSkipJob;\n  };\n\n  return (\n    <FormProvider {...methods}>\n      <Stack gap={6} direction=\"row\" alignItems=\"flex-start\">\n        <Stepper steps={steps} activeStep={activeStep} visitedSteps={completedSteps} />\n        <div className={styles.divider} />\n        <form onSubmit={handleSubmit(onSubmit)} className={styles.form}>\n          <FormPrompt\n            onDiscard={onDiscard}\n            confirmRedirect={isDirty && !['connection', 'finish'].includes(activeStep) && !isCancelling}\n          />\n          <Stack direction=\"column\">\n            <Box marginBottom={2}>\n              <Text element=\"h2\">\n                {currentStepIndex + 1}. {currentStepConfig?.title}\n              </Text>\n            </Box>\n\n            {hasStepError && 'error' in stepStatusInfo && <ProvisioningAlert error={stepStatusInfo.error} />}\n            {hasStepWarning && 'warning' in stepStatusInfo && <ProvisioningAlert warning={stepStatusInfo.warning} />}\n            {isStepSuccess && 'success' in stepStatusInfo && <ProvisioningAlert success={stepStatusInfo.success} />}\n\n            <div className={styles.content}>\n              {activeStep === 'connection' && <ConnectStep />}\n              {activeStep === 'bootstrap' && <BootstrapStep settingsData={data} repoName={repoName} />}\n              {activeStep === 'synchronize' && <SynchronizeStep isLegacyStorage={isLegacyStorage} />}\n              {activeStep === 'finish' && <FinishStep />}\n            </div>\n\n            <Stack gap={2} justifyContent=\"flex-end\">\n              <Button\n                variant={'secondary'}\n                onClick={handlePrevious}\n                disabled={isSubmitting || isCancelling || isStepRunning || showCancelConfirmation}\n              >\n                {getPreviousButtonText()}\n              </Button>\n              <Button type={'submit'} disabled={isNextButtonDisabled()}>\n                {isSubmitting\n                  ? t('provisioning.wizard-content.button-submitting', 'Submitting...')\n                  : getNextButtonText(activeStep)}\n              </Button>\n            </Stack>\n          </Stack>\n        </form>\n      </Stack>\n      <ConfirmModal\n        isOpen={showCancelConfirmation}\n        title={t('provisioning.wizard.discard-modal.title', 'Discard repository setup?')}\n        body={t(\n          'provisioning.wizard.discard-modal.body',\n          'This will delete the repository configuration and you will lose all progress. Are you sure you want to discard your changes?'\n        )}\n        confirmText={t('provisioning.wizard.discard-modal.confirm', 'Yes, discard')}\n        dismissText={t('provisioning.wizard.discard-modal.dismiss', 'Keep working')}\n        onConfirm={handleConfirmCancel}\n        onDismiss={() => setShowCancelConfirmation(false)}\n      />\n    </FormProvider>\n  );\n}\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  form: css({\n    maxWidth: '900px',\n    flexGrow: 1,\n  }),\n  divider: css({\n    width: 1,\n    alignSelf: 'stretch',\n    backgroundColor: theme.colors.border.weak,\n    // align with the button row\n    marginBottom: theme.spacing(13),\n  }),\n  content: css({\n    borderBottom: `1px solid ${theme.colors.border.weak}`,\n    paddingBottom: theme.spacing(4),\n    marginBottom: theme.spacing(4),\n  }),\n});\n","import { useParams } from 'react-router-dom-v5-compat';\n\nimport { t } from '@grafana/i18n';\nimport { Page } from 'app/core/components/Page/Page';\n\nimport { isGitProvider } from '../utils/repositoryTypes';\n\nimport { ProvisioningWizard } from './ProvisioningWizard';\nimport { StepStatusProvider } from './StepStatusContext';\nimport { RepoType } from './types';\n\nexport default function ConnectPage() {\n  const { type } = useParams<{ type: RepoType }>();\n\n  if (!type) {\n    return null;\n  }\n\n  return (\n    <Page\n      navId=\"provisioning\"\n      pageNav={{\n        text: isGitProvider(type) ? 'Configure Git Sync' : 'Configure local file path',\n        subTitle: t(\n          'provisioning.connect-page.subTitle.connect-external-storage-manage-resources',\n          'Connect to an external storage to manage your resources'\n        ),\n      }}\n    >\n      <Page.Contents>\n        <StepStatusProvider>\n          <ProvisioningWizard type={type} />\n        </StepStatusProvider>\n      </Page.Contents>\n    </Page>\n  );\n}\n","import { css } from '@emotion/css';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { Text, useStyles2 } from '@grafana/ui';\n\ninterface MessageListProps {\n  messages: string[];\n  variant?: 'body' | 'bodySmall';\n}\n\nexport function MessageList({ messages, variant }: MessageListProps) {\n  const styles = useStyles2(getStyles);\n\n  return (\n    <ul className={styles.messageList}>\n      {messages.map((msg, index) => (\n        <li key={index}>{variant ? <Text variant={variant}>{msg}</Text> : msg}</li>\n      ))}\n    </ul>\n  );\n}\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  messageList: css({\n    margin: 0,\n    paddingLeft: theme.spacing(3),\n  }),\n});\n"],"names":["PullRequestButtons","urls","jobType","pullRequestURL","compareURL","branchURL","RepositoryLink","name","repoQuery","repo","repoHref","Text","Stack","TextLink","ProgressBar","progress","topBottomSpacing","styles","getStyles","theme","JobContent","job","isFinishedJob","onStatusChange","errorSetRef","state","message","summary","errors","repoName","Spinner","JobSummary","FinishedJobStatus","jobUid","repositoryName","hasRetried","finishedQuery","retryFailed","shouldRetry","timeoutId","JobStatus","watch","activeQuery","activeJob","repoLabel","shouldCheckFinishedJobs","getSummaryColumns","item","getTitle","alert","type","getMessage","ProvisioningAlert","error","warning","success","alertData","severity","getFormErrors","fieldsToValidate","fieldMap","cleanField","fieldParts","lastPart","StepStatusContext","StepStatusProvider","children","stepStatusInfo","setStepStatusInfoState","setStepStatusInfo","info","value","useStepStatus","context","filterModeOptions","modeOptions","settings","folderConnected","option","useModeOptions","getResourceStats","files","stats","isSupportedFile","path","fileCount","file","counts","resourceCount","stat","useResourceStats","isLegacyStorage","resourceStatsQuery","filesQuery","isLoading","resourceCountString","requiresMigration","shouldSkipSync","resourceCountDisplay","fileCountDisplay","BootstrapStep","settingsData","register","control","setValue","getValues","selectedTarget","options","target","fileCountString","repository","title","Box","LoadingPlaceholder","ref","onChange","field","action","Card","Field","Input","isSupportedGitProvider","provider","isHttpError","err","githubUrlRegex","gitlabUrlRegex","bitbucketUrlRegex","parseRepositoryUrl","url","match","getProviderHeaders","repositoryType","token","makeApiRequest","request","response","errorData","fetchWithPagination","buildUrl","headers","allBranches","page","hasMorePages","data","branches","fetchAllGitHubBranches","owner","fetchAllGitLabBranches","encodedPath","fetchAllBitbucketBranches","fetchAllBranches","getErrorMessage","errorMessage","useBranchOptions","repositoryUrl","repositoryToken","repositoryTokenUser","trimmedUrl","trimmedToken","trimmedTokenUser","hasRequiredData","hasUrl","hasToken","hasTokenUser","repoInfo","fetchOptions","authToken","branch","asyncState","useAsync","ConnectStep","tokenConfigured","setTokenConfigured","isGitBased","branchOptions","branchesLoading","branchesError","gitFields","localFields","hasTokenInstructions","TokenPermissionsInfo","SecretInput","Combobox","FinishStep","readOnly","isGithub","isPublic","hasImageRenderer","Checkbox","e","Stepper","visitedSteps","steps","activeStep","step","index","isActive","isCompleted","isLast","stepTextClass","Icon","useCreateSyncJob","repoType","createJob","supportsHistory","jobSpec","SynchronizeStep","createSyncJob","setJob","startSynchronization","history","Alert","Button","getSteps","ProvisioningWizard","setActiveStep","completedSteps","setCompletedSteps","isSubmitting","setIsSubmitting","isCancelling","setIsCancelling","showCancelConfirmation","setShowCancelConfirmation","isStepSuccess","isStepRunning","hasStepError","hasStepWarning","isSyncCompleted","isFinishWithSyncCompleted","shouldUseCancelBehavior","navigate","values","methods","trigger","setError","isDirty","handleSubmit","submitData","useCreateOrUpdateRepository","deleteRepository","isResourceStatsLoading","isCreatingSkipJob","currentStepIndex","s","currentStepConfig","canSkipSync","handleRepositoryDeletion","handleBack","previousStepIndex","previousStep","prev","onDiscard","handlePrevious","handleConfirmCancel","getNextButtonText","currentStep","stepIndex","finishStepIndex","getPreviousButtonText","handleNext","nextStepIndex","onSubmit","formData","spec","rsp","isNextButtonDisabled","FormPrompt","ConfirmModal","ConnectPage","Page","MessageList","messages","variant","msg"],"sourceRoot":""}