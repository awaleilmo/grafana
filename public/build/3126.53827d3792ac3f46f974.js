"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[3126],{13126:(Y,k,n)=>{n.d(k,{u:()=>F,A:()=>W});var a=n(74848),x=n(22803),T=n(96540),A=n(1906),h=n(51898),b=n(57002),u=n(92745),c=n(27489),g=n(43173),j=n(16780),d=n(37386),L=n(89640),p=n(43243),f=n(72636),z=n(59310),B=n(5857),S=n(991),I=n(45861),O=n(65240),U=n(95506),K=n(29662);const R=[{name:"Afrikaans",code:"af"},{name:"Az\u0259rbaycan dili",code:"az"},{name:"\u0411\u0435\u043B\u0430\u0440\u0443\u0441\u043A\u0430\u044F \u043C\u043E\u0432\u0430",code:"be-BY"},{name:"\u0411\u044A\u043B\u0433\u0430\u0440\u0441\u043A\u0438 \u0435\u0437\u0438\u043A",code:"bg-BG"},{name:"Bamanankan",code:"bm"},{name:"\u09AC\u09BE\u0982\u09B2\u09BE",code:"bn"},{name:"\u09AC\u09BE\u0982\u09B2\u09BE",code:"bn-BD"},{name:"\u0F56\u0F7C\u0F51\u0F0B\u0F61\u0F72\u0F42",code:"bo"},{name:"Brezhoneg",code:"br"},{name:"Bosanski jezik",code:"bs"},{name:"Catal\xE0",code:"ca-ES"},{name:"\u010Ce\u0161tina",code:"cs-CZ"},{name:"Cymraeg",code:"cy-GB"},{name:"\u0427\u04D1\u0432\u0430\u0448\u043B\u0430",code:"cv-RU"},{name:"Dansk",code:"da-DK"},{name:"Deutsch",code:"de-DE"},{name:"Deutsch (\xD6sterreich)",code:"de-AT"},{name:"Deutsch (Schweiz)",code:"de-CH"},{name:"\u0395\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC",code:"el-GR"},{name:"English (Australia)",code:"en-AU"},{name:"English (Canada)",code:"en-CA"},{name:"English (United Kingdom)",code:"en-GB"},{name:"English (Ireland)",code:"en-IE"},{name:"English (Israel)",code:"en-IL"},{name:"English (India)",code:"en-IN"},{name:"English (New Zealand)",code:"en-NZ"},{name:"English (Singapore)",code:"en-SG"},{name:"English (United States)",code:"en-US"},{name:"Espa\xF1ol",code:"es-ES"},{name:"Espa\xF1ol (Rep\xFAblica Dominicana)",code:"es-DO"},{name:"Espa\xF1ol (M\xE9xico)",code:"es-MX"},{name:"Espa\xF1ol (Estados Unidos)",code:"es-US"},{name:"Eesti keel",code:"et-EE"},{name:"Euskara",code:"eu-ES"},{name:"Wikang Filipino",code:"fil-PH"},{name:"Suomi",code:"fi-FI"},{name:"F\xF8royskt",code:"fo-FO"},{name:"Fran\xE7ais",code:"fr-FR"},{name:"Fran\xE7ais (Canada)",code:"fr-CA"},{name:"Fran\xE7ais (Suisse)",code:"fr-CH"},{name:"Frysk",code:"fy"},{name:"Gaeilge",code:"ga-IE"},{name:"G\xE0idhlig",code:"gd-GB"},{name:"Galego",code:"gl-ES"},{name:"\u0915\u094B\u0902\u0915\u0923\u0940",code:"gom-Deva"},{name:"Konkani",code:"gom-Latn"},{name:"\u0A97\u0AC1\u0A9C\u0AB0\u0ABE\u0AA4\u0AC0",code:"gu-IN"},{name:"\u0939\u093F\u0928\u094D\u0926\u0940",code:"hi"},{name:"Hrvatski jezik",code:"hr"},{name:"Magyar nyelv",code:"hu-HU"},{name:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576",code:"hy-AM"},{name:"Bahasa Indonesia",code:"id-ID"},{name:"\xCDslenska",code:"is-IS"},{name:"Italiano",code:"it-IT"},{name:"Italiano (Svizzera)",code:"it-CH"},{name:"\u65E5\u672C\u8A9E",code:"ja-JP"},{name:"\uA9A7\uA9B1\uA997\uA9AE",code:"jv"},{name:"\u10E5\u10D0\u10E0\u10D7\u10E3\u10DA\u10D8 \u10D4\u10DC\u10D0",code:"ka-GE"},{name:"\u049A\u0430\u0437\u0430\u049B \u0442\u0456\u043B\u0456",code:"kk-KZ"},{name:"\u1781\u17D2\u1798\u17C2\u179A",code:"km-KH"},{name:"\u0C95\u0CA8\u0CCD\u0CA8\u0CA1",code:"kn-IN"},{name:"\uD55C\uAD6D\uC5B4",code:"ko-KR"},{name:"Kurd\xEE",code:"ku"},{name:"\u041A\u044B\u0440\u0433\u044B\u0437 \u0442\u0438\u043B\u0438",code:"ky-KG"},{name:"L\xEBtzebuergesch",code:"lb-LU"},{name:"\u0E9E\u0EB2\u0EAA\u0EB2\u0EA5\u0EB2\u0EA7",code:"lo-LA"},{name:"Lietuvi\u0173 kalba",code:"lt-LT"},{name:"Latvie\u0161u valoda",code:"lv-LV"},{name:"\u041C\u0430\u043A\u0435\u0434\u043E\u043D\u0441\u043A\u0438 \u0458\u0430\u0437\u0438\u043A",code:"mk-MK"},{name:"\u0D2E\u0D32\u0D2F\u0D3E\u0D33\u0D02",code:"ml-IN"},{name:"Te Reo M\u0101ori",code:"mi-NZ"},{name:"\u0426\u0440\u043D\u043E\u0433\u043E\u0440\u0441\u043A\u0438 \u0458\u0435\u0437\u0438\u043A",code:"cnr-ME"},{name:"\u092E\u0930\u093E\u0920\u0940",code:"mr"},{name:"Bahasa Melayu",code:"ms"},{name:"Malti",code:"mt-MT"},{name:"\u041C\u043E\u043D\u0433\u043E\u043B \u0445\u044D\u043B",code:"mn-MN"},{name:"\u1019\u103C\u1014\u103A\u1019\u102C\u1005\u102C",code:"my-MM"},{name:"Norsk bokm\xE5l",code:"nb"},{name:"\u0928\u0947\u092A\u093E\u0932\u0940",code:"ne"},{name:"Nederlands",code:"nl-NL"},{name:"Nederlands (Belgi\xEB)",code:"nl-BE"},{name:"Nynorsk",code:"nn-NO"},{name:"Occitan",code:"oc"},{name:"\u0A2A\u0A70\u0A1C\u0A3E\u0A2C\u0A40",code:"pa"},{name:"Polski",code:"pl-PL"},{name:"Portugu\xEAs",code:"pt-PT"},{name:"Portugu\xEAs (Brasil)",code:"pt-BR"},{name:"Rom\xE2n\u0103",code:"ro-RO"},{name:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439 \u044F\u0437\u044B\u043A",code:"ru-RU"},{name:"Davvis\xE1megiella",code:"se"},{name:"\u0DC3\u0DD2\u0D82\u0DC4\u0DBD",code:"si-LK"},{name:"Slovensk\xFD jazyk",code:"sk-SK"},{name:"Slovenski jezik",code:"sl-SI"},{name:"Shqip",code:"sq"},{name:"\u0421\u0440\u043F\u0441\u043A\u0438",code:"sr"},{name:"\u0421\u0440\u043F\u0441\u043A\u0438 (\u045B\u0438\u0440\u0438\u043B\u0438\u0446\u0430)",code:"sr-Cyrl"},{name:"SiSwati",code:"ss"},{name:"Kiswahili",code:"sw"},{name:"Svenska",code:"sv"},{name:"\u0BA4\u0BAE\u0BBF\u0BB4\u0BCD",code:"ta"},{name:"\u0C24\u0C46\u0C32\u0C41\u0C17\u0C41",code:"te"},{name:"Tetun",code:"tet"},{name:"\u0422\u043E\u04B7\u0438\u043A\u04E3",code:"tg"},{name:"\u0E20\u0E32\u0E29\u0E32\u0E44\u0E17\u0E22",code:"th-TH"},{name:"T\xFCrkmen dili",code:"tk-TM"},{name:"Wikang Tagalog",code:"tl-PH"},{name:"tlhIngan Hol",code:"tlh"},{name:"T\xFCrk\xE7e",code:"tr-TR"},{name:"Talossan",code:"tzl"},{name:"\u2D5C\u2D30\u2D4E\u2D30\u2D63\u2D49\u2D56\u2D5C",code:"tzm"},{name:"Tamazight",code:"tzm-Latn"},{name:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430 \u043C\u043E\u0432\u0430",code:"uk-UA"},{name:"\u040E\u0437\u0431\u0435\u043A \u0442\u0438\u043B\u0438",code:"uz-UZ"},{name:"O'zbek tili",code:"uz-Latn"},{name:"Ti\u1EBFng Vi\u1EC7t",code:"vi-VN"},{name:"\u4E2D\u6587",code:"zh-CN"},{name:"\u7B80\u4F53\u4E2D\u6587",code:"zh-Hans"},{name:"\u7E41\u9AD4\u4E2D\u6587",code:"zh-Hant"},{name:"\u4E2D\u6587 (\u9999\u6E2F)",code:"zh-HK"},{name:"\u6B63\u9AD4\u4E2D\u6587 (\u53F0\u7063)",code:"zh-TW"},{name:"\u4E2D\u6587 (\u6FB3\u9580)",code:"zh-MO"},{name:"Yor\xF9b\xE1",code:"yo"}];var N=n(69738),P=n(44410),H=n(61074);function M(){const i=K.Yj.map(s=>({value:s.code,label:s.name})).sort((s,e)=>s.value===b.wi?1:e.value===b.wi?-1:s.label.localeCompare(e.label));return[{value:"",label:(0,u.t)("common.locale.default","Default")},...i]}function G(){const i=R.map(s=>({value:s.code,label:s.name})).sort((s,e)=>s.label.localeCompare(e.label));return[{value:"",label:(0,u.t)("common.locale.default","Default")},...i]}class F extends T.PureComponent{constructor(o){super(o),this.onSubmitForm=async e=>{if(e.preventDefault(),this.props.onConfirm?await this.props.onConfirm():!0){const{homeDashboardUID:E,theme:t,timezone:D,weekStart:C,language:m,regionalFormat:l,queryHistory:v,navbar:r}=this.state;(0,c.rR)("grafana_preferences_save_button_clicked",{preferenceType:this.props.preferenceType,theme:t,language:m}),this.setState({isSubmitting:!0}),await this.service.update({homeDashboardUID:E,theme:t,timezone:D,weekStart:C,language:m,regionalFormat:l,queryHistory:v,navbar:r}).finally(()=>{this.setState({isSubmitting:!1})}),window.location.reload()}},this.onThemeChanged=e=>{this.setState({theme:e.value}),(0,c.rR)("grafana_preferences_theme_changed",{toTheme:e.value,preferenceType:this.props.preferenceType}),e.value&&(0,P.K)(e.value,!0)},this.onTimeZoneChanged=e=>{typeof e=="string"&&this.setState({timezone:e})},this.onWeekStartChanged=e=>{this.setState({weekStart:e??""})},this.onHomeDashboardChanged=e=>{this.setState({homeDashboardUID:e})},this.onLanguageChanged=e=>{this.setState({language:e}),(0,c.rR)("grafana_preferences_language_changed",{toLanguage:e,preferenceType:this.props.preferenceType})},this.onLocaleChanged=e=>{this.setState({regionalFormat:e}),(0,c.rR)("grafana_preferences_regional_format_changed",{toRegionalFormat:e,preferenceType:this.props.preferenceType})},this.service=new N.W(o.resourceUri),this.state={isLoading:!1,isSubmitting:!1,theme:"",timezone:"",weekStart:"",language:"",regionalFormat:"",queryHistory:{homeTab:""},navbar:{bookmarkUrls:[]}};const s=(0,H.F)();this.themeOptions=s.map(e=>({value:e.id,label:w(e),group:e.isExtra?(0,u.t)("shared-preferences.theme.experimental","Experimental"):void 0})),this.languageOptions=M(),this.regionalFormatOptions=G(),this.themeOptions.unshift({value:"",label:(0,u.t)("shared-preferences.theme.default-label","Default")})}async componentDidMount(){this.setState({isLoading:!0});const o=await this.service.load();this.setState({isLoading:!1,homeDashboardUID:o.homeDashboardUID,theme:o.theme,timezone:o.timezone,weekStart:o.weekStart,language:o.language,regionalFormat:o.regionalFormat,queryHistory:o.queryHistory,navbar:o.navbar})}render(){const{theme:o,timezone:s,weekStart:e,homeDashboardUID:y,language:E,isLoading:t,isSubmitting:D,regionalFormat:C}=this.state,{disabled:m}=this.props,l=Z(),v=this.themeOptions.find(r=>r.value===o)??this.themeOptions[0];return(0,a.jsxs)("form",{onSubmit:this.onSubmitForm,className:l.form,children:[(0,a.jsxs)(j.n,{label:(0,a.jsx)(u.x6,{i18nKey:"shared-preferences.title",children:"Preferences"}),disabled:m,children:[(0,a.jsx)(d.D,{loading:t,disabled:t,label:(0,u.t)("shared-preferences.fields.theme-label","Interface theme"),description:g.$.featureToggles.grafanaconThemes&&g.$.feedbackLinksEnabled?(0,a.jsxs)(u.x6,{i18nKey:"shared-preferences.fields.theme-description",children:["Enjoying the experimental themes? Tell us what you'd like to see"," ",(0,a.jsx)(L.Y,{variant:"bodySmall",external:!0,href:"https://docs.google.com/forms/d/e/1FAIpQLSeRKAY8nUMEVIKSYJ99uOO-dimF6Y69_If1Q1jTLOZRWqK1cw/viewform?usp=dialog",children:"here."})]}):void 0,children:(0,a.jsx)(p.G,{options:this.themeOptions,value:v.value,onChange:this.onThemeChanged,id:"shared-preferences-theme-select"})}),(0,a.jsx)(d.D,{loading:t,disabled:t,label:(0,a.jsx)(f.J,{htmlFor:"home-dashboard-select",children:(0,a.jsx)("span",{className:l.labelText,children:(0,a.jsx)(u.x6,{i18nKey:"shared-preferences.fields.home-dashboard-label",children:"Home Dashboard"})})}),"data-testid":"User preferences home dashboard drop down",children:(0,a.jsx)(U.b,{value:y,onChange:r=>this.onHomeDashboardChanged(r?.uid??""),defaultOptions:!0,isClearable:!0,placeholder:(0,u.t)("shared-preferences.fields.home-dashboard-placeholder","Default dashboard"),inputId:"home-dashboard-select"})}),(0,a.jsx)(d.D,{loading:t,disabled:t,label:(0,u.t)("shared-dashboard.fields.timezone-label","Timezone"),"data-testid":h.Tp.components.TimeZonePicker.containerV2,children:(0,a.jsx)(z.U,{includeInternal:!0,value:s,onChange:this.onTimeZoneChanged,inputId:"shared-preferences-timezone-picker"})}),(0,a.jsx)(d.D,{loading:t,disabled:t,label:(0,u.t)("shared-preferences.fields.week-start-label","Week start"),"data-testid":h.Tp.components.WeekStartPicker.containerV2,children:(0,a.jsx)(B.l6,{value:e&&(0,B.rE)(e)?e:void 0,onChange:this.onWeekStartChanged,inputId:"shared-preferences-week-start-picker"})}),(0,a.jsx)(d.D,{loading:t,disabled:t,label:(0,a.jsxs)(f.J,{htmlFor:"language-preference-select",children:[(0,a.jsx)("span",{className:l.labelText,children:(0,a.jsx)(u.x6,{i18nKey:"shared-preferences.fields.language-preference-label",children:"Language"})}),(0,a.jsx)(S.y,{featureState:A.Ay.preview})]}),"data-testid":"User preferences language drop down",children:(0,a.jsx)(p.G,{value:this.languageOptions.find(r=>r.value===E)?.value||"",onChange:r=>this.onLanguageChanged(r?.value??""),options:this.languageOptions,placeholder:(0,u.t)("shared-preferences.fields.language-preference-placeholder","Choose language"),id:"language-preference-select"})}),g.$.featureToggles.localeFormatPreference&&(0,a.jsx)(d.D,{loading:t,disabled:t,label:(0,a.jsxs)(f.J,{htmlFor:"locale-preference",children:[(0,a.jsx)("span",{className:l.labelText,children:(0,a.jsx)(u.x6,{i18nKey:"shared-preferences.fields.locale-preference-label",children:"Region format"})}),(0,a.jsx)(S.y,{featureState:A.Ay.preview})]}),description:(0,u.t)("shared-preferences.fields.locale-preference-description","Choose your region to see the corresponding date, time, and number format"),"data-testid":"User preferences locale drop down",children:(0,a.jsx)(p.G,{value:this.regionalFormatOptions.find(r=>r.value===C)?.value||"",onChange:r=>this.onLocaleChanged(r?.value??""),options:this.regionalFormatOptions,placeholder:(0,u.t)("shared-preferences.fields.locale-preference-placeholder","Choose region"),id:"locale-preference-select"})})]}),(0,a.jsx)(I.$n,{disabled:D,type:"submit",variant:"primary","data-testid":h.Tp.components.UserProfile.preferencesSaveButton,children:(0,a.jsx)(u.x6,{i18nKey:"common.save",children:"Save"})})]})}}const W=F,Z=(0,O.N)(()=>({labelText:(0,x.css)({marginRight:"6px"}),form:(0,x.css)({width:"100%",maxWidth:"600px"})}));function w(i){switch(i.id){case"dark":return(0,u.t)("shared.preferences.theme.dark-label","Dark");case"light":return(0,u.t)("shared.preferences.theme.light-label","Light");case"system":return(0,u.t)("shared.preferences.theme.system-label","System preference");default:return i.name}}}}]);

//# sourceMappingURL=3126.53827d3792ac3f46f974.js.map