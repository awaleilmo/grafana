(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[6105],{9810:(ft,z,x)=>{"use strict";z.__esModule=!0,z.arc=rt,z.area=X,z.line=w,z.pie=et,z.radialLine=b,z.stack=g;var V=x(43106),O=j(x(33518)),I=j(x(76290)),W=j(x(90203));function j(C){return C&&C.__esModule?C:{default:C}}function rt(C){var R=C===void 0?{}:C,M=R.innerRadius,N=R.outerRadius,A=R.cornerRadius,D=R.startAngle,F=R.endAngle,Y=R.padAngle,H=R.padRadius,Z=(0,V.arc)();return M!=null&&(0,O.default)(Z.innerRadius,M),N!=null&&(0,O.default)(Z.outerRadius,N),A!=null&&(0,O.default)(Z.cornerRadius,A),D!=null&&(0,O.default)(Z.startAngle,D),F!=null&&(0,O.default)(Z.endAngle,F),Y!=null&&(0,O.default)(Z.padAngle,Y),H!=null&&(0,O.default)(Z.padRadius,H),Z}function X(C){var R=C===void 0?{}:C,M=R.x,N=R.x0,A=R.x1,D=R.y,F=R.y0,Y=R.y1,H=R.defined,Z=R.curve,Q=(0,V.area)();return M&&(0,O.default)(Q.x,M),N&&(0,O.default)(Q.x0,N),A&&(0,O.default)(Q.x1,A),D&&(0,O.default)(Q.y,D),F&&(0,O.default)(Q.y0,F),Y&&(0,O.default)(Q.y1,Y),H&&Q.defined(H),Z&&Q.curve(Z),Q}function w(C){var R=C===void 0?{}:C,M=R.x,N=R.y,A=R.defined,D=R.curve,F=(0,V.line)();return M&&(0,O.default)(F.x,M),N&&(0,O.default)(F.y,N),A&&F.defined(A),D&&F.curve(D),F}function et(C){var R=C===void 0?{}:C,M=R.startAngle,N=R.endAngle,A=R.padAngle,D=R.value,F=R.sort,Y=R.sortValues,H=(0,V.pie)();return(F===null||F!=null)&&H.sort(F),(Y===null||Y!=null)&&H.sortValues(Y),D!=null&&H.value(D),A!=null&&(0,O.default)(H.padAngle,A),M!=null&&(0,O.default)(H.startAngle,M),N!=null&&(0,O.default)(H.endAngle,N),H}function b(C){var R=C===void 0?{}:C,M=R.angle,N=R.radius,A=R.defined,D=R.curve,F=(0,V.radialLine)();return M&&(0,O.default)(F.angle,M),N&&(0,O.default)(F.radius,N),A&&F.defined(A),D&&F.curve(D),F}function g(C){var R=C.keys,M=C.value,N=C.order,A=C.offset,D=(0,V.stack)();return R&&D.keys(R),M&&(0,O.default)(D.value,M),N&&D.order((0,I.default)(N)),A&&D.offset((0,W.default)(A)),D}},17334:ft=>{function z(x,V,O){var I,W,j,rt,X;V==null&&(V=100);function w(){var b=Date.now()-rt;b<V&&b>=0?I=setTimeout(w,V-b):(I=null,O||(X=x.apply(j,W),j=W=null))}var et=function(){j=this,W=arguments,rt=Date.now();var b=O&&!I;return I||(I=setTimeout(w,V)),b&&(X=x.apply(j,W),j=W=null),X};return et.clear=function(){I&&(clearTimeout(I),I=null)},et.flush=function(){I&&(X=x.apply(j,W),j=W=null,clearTimeout(I),I=null)},et}z.debounce=z,ft.exports=z},33434:(ft,z,x)=>{"use strict";x.d(z,{A:()=>et});var V=x(83175),O=x.n(V),I=x(96540),W=x(46942),j=x.n(W),rt=["top","left","transform","className","children","innerRef"];function X(){return X=Object.assign?Object.assign.bind():function(b){for(var g=1;g<arguments.length;g++){var C=arguments[g];for(var R in C)Object.prototype.hasOwnProperty.call(C,R)&&(b[R]=C[R])}return b},X.apply(this,arguments)}function w(b,g){if(b==null)return{};var C={},R=Object.keys(b),M,N;for(N=0;N<R.length;N++)M=R[N],!(g.indexOf(M)>=0)&&(C[M]=b[M]);return C}function et(b){var g=b.top,C=g===void 0?0:g,R=b.left,M=R===void 0?0:R,N=b.transform,A=b.className,D=b.children,F=b.innerRef,Y=w(b,rt);return I.createElement("g",X({ref:F,className:j()("visx-group",A),transform:N||"translate("+M+", "+C+")"},Y),D)}et.propTypes={top:O().number,left:O().number,transform:O().string,className:O().string,children:O().node,innerRef:O().oneOfType([O().string,O().func,O().object])}},33518:(ft,z)=>{"use strict";z.__esModule=!0,z.default=x;function x(V,O){V(O)}},43106:(ft,z,x)=>{"use strict";x.r(z),x.d(z,{arc:()=>Bt,area:()=>Pt,areaRadial:()=>Et,curveBasis:()=>Ut,curveBasisClosed:()=>Pe,curveBasisOpen:()=>Ze,curveBundle:()=>oe,curveCardinal:()=>ae,curveCardinalClosed:()=>Qe,curveCardinalOpen:()=>Je,curveCatmullRom:()=>qe,curveCatmullRomClosed:()=>ot,curveCatmullRomOpen:()=>yn,curveLinear:()=>nt,curveLinearClosed:()=>Ce,curveMonotoneX:()=>en,curveMonotoneY:()=>nn,curveNatural:()=>ze,curveStep:()=>sn,curveStepAfter:()=>rn,curveStepBefore:()=>on,line:()=>_t,lineRadial:()=>ge,linkHorizontal:()=>$e,linkRadial:()=>J,linkVertical:()=>Ue,pie:()=>je,pointRadial:()=>Ct,radialArea:()=>Et,radialLine:()=>ge,stack:()=>ln,stackOffsetDiverging:()=>kt,stackOffsetExpand:()=>un,stackOffsetNone:()=>bt,stackOffsetSilhouette:()=>cn,stackOffsetWiggle:()=>hn,stackOrderAppearance:()=>i,stackOrderAscending:()=>f,stackOrderDescending:()=>y,stackOrderInsideOut:()=>p,stackOrderNone:()=>Tt,stackOrderReverse:()=>v,symbol:()=>He,symbolCircle:()=>It,symbolCross:()=>me,symbolDiamond:()=>be,symbolSquare:()=>Kt,symbolStar:()=>ne,symbolTriangle:()=>Gt,symbolWye:()=>Re,symbols:()=>ie});var V=Math.PI,O=2*V,I=1e-6,W=O-I;function j(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function rt(){return new j}j.prototype=rt.prototype={constructor:j,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,s){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+s)},bezierCurveTo:function(t,e,n,s,r,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +s+","+(this._x1=+r)+","+(this._y1=+a)},arcTo:function(t,e,n,s,r){t=+t,e=+e,n=+n,s=+s,r=+r;var a=this._x1,u=this._y1,o=n-t,h=s-e,d=a-t,_=u-e,m=d*d+_*_;if(r<0)throw new Error("negative radius: "+r);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(m>I)if(!(Math.abs(_*o-h*d)>I)||!r)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var S=n-a,E=s-u,P=o*o+h*h,k=S*S+E*E,T=Math.sqrt(P),L=Math.sqrt(m),K=r*Math.tan((V-Math.acos((P+m-k)/(2*T*L)))/2),G=K/L,U=K/T;Math.abs(G-1)>I&&(this._+="L"+(t+G*d)+","+(e+G*_)),this._+="A"+r+","+r+",0,0,"+ +(_*S>d*E)+","+(this._x1=t+U*o)+","+(this._y1=e+U*h)}},arc:function(t,e,n,s,r,a){t=+t,e=+e,n=+n,a=!!a;var u=n*Math.cos(s),o=n*Math.sin(s),h=t+u,d=e+o,_=1^a,m=a?s-r:r-s;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+h+","+d:(Math.abs(this._x1-h)>I||Math.abs(this._y1-d)>I)&&(this._+="L"+h+","+d),n&&(m<0&&(m=m%O+O),m>W?this._+="A"+n+","+n+",0,1,"+_+","+(t-u)+","+(e-o)+"A"+n+","+n+",0,1,"+_+","+(this._x1=h)+","+(this._y1=d):m>I&&(this._+="A"+n+","+n+",0,"+ +(m>=V)+","+_+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,s){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +s+"h"+-n+"Z"},toString:function(){return this._}};const X=rt;function w(t){return function(){return t}}var et=Math.abs,b=Math.atan2,g=Math.cos,C=Math.max,R=Math.min,M=Math.sin,N=Math.sqrt,A=1e-12,D=Math.PI,F=D/2,Y=2*D;function H(t){return t>1?0:t<-1?D:Math.acos(t)}function Z(t){return t>=1?F:t<=-1?-F:Math.asin(t)}function Q(t){return t.innerRadius}function Dt(t){return t.outerRadius}function Zt(t){return t.startAngle}function Qt(t){return t.endAngle}function Jt(t){return t&&t.padAngle}function qt(t,e,n,s,r,a,u,o){var h=n-t,d=s-e,_=u-r,m=o-a,S=m*h-_*d;if(!(S*S<A))return S=(_*(e-a)-m*(t-r))/S,[t+S*h,e+S*d]}function yt(t,e,n,s,r,a,u){var o=t-n,h=e-s,d=(u?a:-a)/N(o*o+h*h),_=d*h,m=-d*o,S=t+_,E=e+m,P=n+_,k=s+m,T=(S+P)/2,L=(E+k)/2,K=P-S,G=k-E,U=K*K+G*G,q=r-a,tt=S*k-P*E,Ot=(G<0?-1:1)*N(C(0,q*q*U-tt*tt)),Rt=(tt*G-K*Ot)/U,lt=(-tt*K-G*Ot)/U,ct=(tt*G+K*Ot)/U,ht=(-tt*K+G*Ot)/U,B=Rt-T,$=lt-L,Lt=ct-T,zt=ht-L;return B*B+$*$>Lt*Lt+zt*zt&&(Rt=ct,lt=ht),{cx:Rt,cy:lt,x01:-_,y01:-m,x11:Rt*(r/q-1),y11:lt*(r/q-1)}}function Bt(){var t=Q,e=Dt,n=w(0),s=null,r=Zt,a=Qt,u=Jt,o=null;function h(){var d,_,m=+t.apply(this,arguments),S=+e.apply(this,arguments),E=r.apply(this,arguments)-F,P=a.apply(this,arguments)-F,k=et(P-E),T=P>E;if(o||(o=d=X()),S<m&&(_=S,S=m,m=_),!(S>A))o.moveTo(0,0);else if(k>Y-A)o.moveTo(S*g(E),S*M(E)),o.arc(0,0,S,E,P,!T),m>A&&(o.moveTo(m*g(P),m*M(P)),o.arc(0,0,m,P,E,T));else{var L=E,K=P,G=E,U=P,q=k,tt=k,Ot=u.apply(this,arguments)/2,Rt=Ot>A&&(s?+s.apply(this,arguments):N(m*m+S*S)),lt=R(et(S-m)/2,+n.apply(this,arguments)),ct=lt,ht=lt,B,$;if(Rt>A){var Lt=Z(Rt/m*M(Ot)),zt=Z(Rt/S*M(Ot));(q-=Lt*2)>A?(Lt*=T?1:-1,G+=Lt,U-=Lt):(q=0,G=U=(E+P)/2),(tt-=zt*2)>A?(zt*=T?1:-1,L+=zt,K-=zt):(tt=0,L=K=(E+P)/2)}var Xt=S*g(L),Ht=S*M(L),De=m*g(U),Be=m*M(U);if(lt>A){var Ve=S*g(K),Ie=S*M(K),fn=m*g(G),dn=m*M(G),gt;if(k<D&&(gt=qt(Xt,Ht,fn,dn,Ve,Ie,De,Be))){var pn=Xt-gt[0],_n=Ht-gt[1],vn=Ve-gt[0],gn=Ie-gt[1],mn=1/M(H((pn*vn+_n*gn)/(N(pn*pn+_n*_n)*N(vn*vn+gn*gn)))/2),xn=N(gt[0]*gt[0]+gt[1]*gt[1]);ct=R(lt,(m-xn)/(mn-1)),ht=R(lt,(S-xn)/(mn+1))}}tt>A?ht>A?(B=yt(fn,dn,Xt,Ht,S,ht,T),$=yt(Ve,Ie,De,Be,S,ht,T),o.moveTo(B.cx+B.x01,B.cy+B.y01),ht<lt?o.arc(B.cx,B.cy,ht,b(B.y01,B.x01),b($.y01,$.x01),!T):(o.arc(B.cx,B.cy,ht,b(B.y01,B.x01),b(B.y11,B.x11),!T),o.arc(0,0,S,b(B.cy+B.y11,B.cx+B.x11),b($.cy+$.y11,$.cx+$.x11),!T),o.arc($.cx,$.cy,ht,b($.y11,$.x11),b($.y01,$.x01),!T))):(o.moveTo(Xt,Ht),o.arc(0,0,S,L,K,!T)):o.moveTo(Xt,Ht),!(m>A)||!(q>A)?o.lineTo(De,Be):ct>A?(B=yt(De,Be,Ve,Ie,m,-ct,T),$=yt(Xt,Ht,fn,dn,m,-ct,T),o.lineTo(B.cx+B.x01,B.cy+B.y01),ct<lt?o.arc(B.cx,B.cy,ct,b(B.y01,B.x01),b($.y01,$.x01),!T):(o.arc(B.cx,B.cy,ct,b(B.y01,B.x01),b(B.y11,B.x11),!T),o.arc(0,0,m,b(B.cy+B.y11,B.cx+B.x11),b($.cy+$.y11,$.cx+$.x11),T),o.arc($.cx,$.cy,ct,b($.y11,$.x11),b($.y01,$.x01),!T))):o.arc(0,0,m,U,G,T)}if(o.closePath(),d)return o=null,d+""||null}return h.centroid=function(){var d=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,_=(+r.apply(this,arguments)+ +a.apply(this,arguments))/2-D/2;return[g(_)*d,M(_)*d]},h.innerRadius=function(d){return arguments.length?(t=typeof d=="function"?d:w(+d),h):t},h.outerRadius=function(d){return arguments.length?(e=typeof d=="function"?d:w(+d),h):e},h.cornerRadius=function(d){return arguments.length?(n=typeof d=="function"?d:w(+d),h):n},h.padRadius=function(d){return arguments.length?(s=d==null?null:typeof d=="function"?d:w(+d),h):s},h.startAngle=function(d){return arguments.length?(r=typeof d=="function"?d:w(+d),h):r},h.endAngle=function(d){return arguments.length?(a=typeof d=="function"?d:w(+d),h):a},h.padAngle=function(d){return arguments.length?(u=typeof d=="function"?d:w(+d),h):u},h.context=function(d){return arguments.length?(o=d??null,h):o},h}function St(t){this._context=t}St.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function nt(t){return new St(t)}function dt(t){return t[0]}function pt(t){return t[1]}function _t(){var t=dt,e=pt,n=w(!0),s=null,r=nt,a=null;function u(o){var h,d=o.length,_,m=!1,S;for(s==null&&(a=r(S=X())),h=0;h<=d;++h)!(h<d&&n(_=o[h],h,o))===m&&((m=!m)?a.lineStart():a.lineEnd()),m&&a.point(+t(_,h,o),+e(_,h,o));if(S)return a=null,S+""||null}return u.x=function(o){return arguments.length?(t=typeof o=="function"?o:w(+o),u):t},u.y=function(o){return arguments.length?(e=typeof o=="function"?o:w(+o),u):e},u.defined=function(o){return arguments.length?(n=typeof o=="function"?o:w(!!o),u):n},u.curve=function(o){return arguments.length?(r=o,s!=null&&(a=r(s)),u):r},u.context=function(o){return arguments.length?(o==null?s=a=null:a=r(s=o),u):s},u}function Pt(){var t=dt,e=null,n=w(0),s=pt,r=w(!0),a=null,u=nt,o=null;function h(_){var m,S,E,P=_.length,k,T=!1,L,K=new Array(P),G=new Array(P);for(a==null&&(o=u(L=X())),m=0;m<=P;++m){if(!(m<P&&r(k=_[m],m,_))===T)if(T=!T)S=m,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),E=m-1;E>=S;--E)o.point(K[E],G[E]);o.lineEnd(),o.areaEnd()}T&&(K[m]=+t(k,m,_),G[m]=+n(k,m,_),o.point(e?+e(k,m,_):K[m],s?+s(k,m,_):G[m]))}if(L)return o=null,L+""||null}function d(){return _t().defined(r).curve(u).context(a)}return h.x=function(_){return arguments.length?(t=typeof _=="function"?_:w(+_),e=null,h):t},h.x0=function(_){return arguments.length?(t=typeof _=="function"?_:w(+_),h):t},h.x1=function(_){return arguments.length?(e=_==null?null:typeof _=="function"?_:w(+_),h):e},h.y=function(_){return arguments.length?(n=typeof _=="function"?_:w(+_),s=null,h):n},h.y0=function(_){return arguments.length?(n=typeof _=="function"?_:w(+_),h):n},h.y1=function(_){return arguments.length?(s=_==null?null:typeof _=="function"?_:w(+_),h):s},h.lineX0=h.lineY0=function(){return d().x(t).y(n)},h.lineY1=function(){return d().x(t).y(s)},h.lineX1=function(){return d().x(e).y(n)},h.defined=function(_){return arguments.length?(r=typeof _=="function"?_:w(!!_),h):r},h.curve=function(_){return arguments.length?(u=_,a!=null&&(o=u(a)),h):u},h.context=function(_){return arguments.length?(_==null?a=o=null:o=u(a=_),h):a},h}function mt(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function wt(t){return t}function je(){var t=wt,e=mt,n=null,s=w(0),r=w(Y),a=w(0);function u(o){var h,d=o.length,_,m,S=0,E=new Array(d),P=new Array(d),k=+s.apply(this,arguments),T=Math.min(Y,Math.max(-Y,r.apply(this,arguments)-k)),L,K=Math.min(Math.abs(T)/d,a.apply(this,arguments)),G=K*(T<0?-1:1),U;for(h=0;h<d;++h)(U=P[E[h]=h]=+t(o[h],h,o))>0&&(S+=U);for(e!=null?E.sort(function(q,tt){return e(P[q],P[tt])}):n!=null&&E.sort(function(q,tt){return n(o[q],o[tt])}),h=0,m=S?(T-d*G)/S:0;h<d;++h,k=L)_=E[h],U=P[_],L=k+(U>0?U*m:0)+G,P[_]={data:o[_],index:h,value:U,startAngle:k,endAngle:L,padAngle:K};return P}return u.value=function(o){return arguments.length?(t=typeof o=="function"?o:w(+o),u):t},u.sortValues=function(o){return arguments.length?(e=o,n=null,u):e},u.sort=function(o){return arguments.length?(n=o,e=null,u):n},u.startAngle=function(o){return arguments.length?(s=typeof o=="function"?o:w(+o),u):s},u.endAngle=function(o){return arguments.length?(r=typeof o=="function"?o:w(+o),u):r},u.padAngle=function(o){return arguments.length?(a=typeof o=="function"?o:w(+o),u):a},u}var _e=te(nt);function ve(t){this._curve=t}ve.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function te(t){function e(n){return new ve(t(n))}return e._curve=t,e}function Mt(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(n){return arguments.length?e(te(n)):e()._curve},t}function ge(){return Mt(_t().curve(_e))}function Et(){var t=Pt().curve(_e),e=t.curve,n=t.lineX0,s=t.lineX1,r=t.lineY0,a=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Mt(n())},delete t.lineX0,t.lineEndAngle=function(){return Mt(s())},delete t.lineX1,t.lineInnerRadius=function(){return Mt(r())},delete t.lineY0,t.lineOuterRadius=function(){return Mt(a())},delete t.lineY1,t.curve=function(u){return arguments.length?e(te(u)):e()._curve},t}function Ct(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}var Vt=Array.prototype.slice;function Fe(t){return t.source}function Ke(t){return t.target}function ee(t){var e=Fe,n=Ke,s=dt,r=pt,a=null;function u(){var o,h=Vt.call(arguments),d=e.apply(this,h),_=n.apply(this,h);if(a||(a=o=X()),t(a,+s.apply(this,(h[0]=d,h)),+r.apply(this,h),+s.apply(this,(h[0]=_,h)),+r.apply(this,h)),o)return a=null,o+""||null}return u.source=function(o){return arguments.length?(e=o,u):e},u.target=function(o){return arguments.length?(n=o,u):n},u.x=function(o){return arguments.length?(s=typeof o=="function"?o:w(+o),u):s},u.y=function(o){return arguments.length?(r=typeof o=="function"?o:w(+o),u):r},u.context=function(o){return arguments.length?(a=o??null,u):a},u}function ye(t,e,n,s,r){t.moveTo(e,n),t.bezierCurveTo(e=(e+s)/2,n,e,r,s,r)}function We(t,e,n,s,r){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+r)/2,s,n,s,r)}function Ge(t,e,n,s,r){var a=Ct(e,n),u=Ct(e,n=(n+r)/2),o=Ct(s,n),h=Ct(s,r);t.moveTo(a[0],a[1]),t.bezierCurveTo(u[0],u[1],o[0],o[1],h[0],h[1])}function $e(){return ee(ye)}function Ue(){return ee(We)}function J(){var t=ee(Ge);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const It={draw:function(t,e){var n=Math.sqrt(e/D);t.moveTo(n,0),t.arc(0,0,n,0,Y)}},me={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}};var jt=Math.sqrt(1/3),xe=jt*2;const be={draw:function(t,e){var n=Math.sqrt(e/xe),s=n*jt;t.moveTo(0,-n),t.lineTo(s,0),t.lineTo(0,n),t.lineTo(-s,0),t.closePath()}};var Ye=.8908130915292852,Te=Math.sin(D/10)/Math.sin(7*D/10),Ft=Math.sin(Y/10)*Te,Xe=-Math.cos(Y/10)*Te;const ne={draw:function(t,e){var n=Math.sqrt(e*Ye),s=Ft*n,r=Xe*n;t.moveTo(0,-n),t.lineTo(s,r);for(var a=1;a<5;++a){var u=Y*a/5,o=Math.cos(u),h=Math.sin(u);t.lineTo(h*n,-o*n),t.lineTo(o*s-h*r,h*s+o*r)}t.closePath()}},Kt={draw:function(t,e){var n=Math.sqrt(e),s=-n/2;t.rect(s,s,n,n)}};var Wt=Math.sqrt(3);const Gt={draw:function(t,e){var n=-Math.sqrt(e/(Wt*3));t.moveTo(0,n*2),t.lineTo(-Wt*n,-n),t.lineTo(Wt*n,-n),t.closePath()}};var it=-.5,st=Math.sqrt(3)/2,At=1/Math.sqrt(12),Oe=(At/2+1)*3;const Re={draw:function(t,e){var n=Math.sqrt(e/Oe),s=n/2,r=n*At,a=s,u=n*At+n,o=-a,h=u;t.moveTo(s,r),t.lineTo(a,u),t.lineTo(o,h),t.lineTo(it*s-st*r,st*s+it*r),t.lineTo(it*a-st*u,st*a+it*u),t.lineTo(it*o-st*h,st*o+it*h),t.lineTo(it*s+st*r,it*r-st*s),t.lineTo(it*a+st*u,it*u-st*a),t.lineTo(it*o+st*h,it*h-st*o),t.closePath()}};var ie=[It,me,be,Kt,ne,Gt,Re];function He(){var t=w(It),e=w(64),n=null;function s(){var r;if(n||(n=r=X()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),r)return n=null,r+""||null}return s.type=function(r){return arguments.length?(t=typeof r=="function"?r:w(r),s):t},s.size=function(r){return arguments.length?(e=typeof r=="function"?r:w(+r),s):e},s.context=function(r){return arguments.length?(n=r??null,s):n},s}function vt(){}function se(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function $t(t){this._context=t}$t.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:se(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:se(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ut(t){return new $t(t)}function Se(t){this._context=t}Se.prototype={areaStart:vt,areaEnd:vt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:se(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Pe(t){return new Se(t)}function we(t){this._context=t}we.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,s=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,s):this._context.moveTo(n,s);break;case 3:this._point=4;default:se(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ze(t){return new we(t)}function Me(t,e){this._basis=new $t(t),this._beta=e}Me.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var s=t[0],r=e[0],a=t[n]-s,u=e[n]-r,o=-1,h;++o<=n;)h=o/n,this._basis.point(this._beta*t[o]+(1-this._beta)*(s+h*a),this._beta*e[o]+(1-this._beta)*(r+h*u));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const oe=function t(e){function n(s){return e===1?new $t(s):new Me(s,e)}return n.beta=function(s){return t(+s)},n}(.85);function Nt(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function re(t,e){this._context=t,this._k=(1-e)/6}re.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Nt(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Nt(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const ae=function t(e){function n(s){return new re(s,e)}return n.tension=function(s){return t(+s)},n}(0);function le(t,e){this._context=t,this._k=(1-e)/6}le.prototype={areaStart:vt,areaEnd:vt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Nt(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Qe=function t(e){function n(s){return new le(s,e)}return n.tension=function(s){return t(+s)},n}(0);function ue(t,e){this._context=t,this._k=(1-e)/6}ue.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Nt(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Je=function t(e){function n(s){return new ue(s,e)}return n.tension=function(s){return t(+s)},n}(0);function ce(t,e,n){var s=t._x1,r=t._y1,a=t._x2,u=t._y2;if(t._l01_a>A){var o=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,h=3*t._l01_a*(t._l01_a+t._l12_a);s=(s*o-t._x0*t._l12_2a+t._x2*t._l01_2a)/h,r=(r*o-t._y0*t._l12_2a+t._y2*t._l01_2a)/h}if(t._l23_a>A){var d=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,_=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*d+t._x1*t._l23_2a-e*t._l12_2a)/_,u=(u*d+t._y1*t._l23_2a-n*t._l12_2a)/_}t._context.bezierCurveTo(s,r,a,u,t._x2,t._y2)}function Ee(t,e){this._context=t,this._alpha=e}Ee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,s=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+s*s,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:ce(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const qe=function t(e){function n(s){return e?new Ee(s,e):new re(s,0)}return n.alpha=function(s){return t(+s)},n}(.5);function at(t,e){this._context=t,this._alpha=e}at.prototype={areaStart:vt,areaEnd:vt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,s=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+s*s,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:ce(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const ot=function t(e){function n(s){return e?new at(s,e):new le(s,0)}return n.alpha=function(s){return t(+s)},n}(.5);function ut(t,e){this._context=t,this._alpha=e}ut.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,s=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+s*s,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ce(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const yn=function t(e){function n(s){return e?new ut(s,e):new ue(s,0)}return n.alpha=function(s){return t(+s)},n}(.5);function tn(t){this._context=t}tn.prototype={areaStart:vt,areaEnd:vt,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Ce(t){return new tn(t)}function he(t){return t<0?-1:1}function Ae(t,e,n){var s=t._x1-t._x0,r=e-t._x1,a=(t._y1-t._y0)/(s||r<0&&-0),u=(n-t._y1)/(r||s<0&&-0),o=(a*r+u*s)/(s+r);return(he(a)+he(u))*Math.min(Math.abs(a),Math.abs(u),.5*Math.abs(o))||0}function fe(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function de(t,e,n){var s=t._x0,r=t._y0,a=t._x1,u=t._y1,o=(a-s)/3;t._context.bezierCurveTo(s+o,r+o*e,a-o,u-o*n,a,u)}function Yt(t){this._context=t}Yt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:de(this,this._t0,fe(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,de(this,fe(this,n=Ae(this,t,e)),n);break;default:de(this,this._t0,n=Ae(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Ne(t){this._context=new ke(t)}(Ne.prototype=Object.create(Yt.prototype)).point=function(t,e){Yt.prototype.point.call(this,e,t)};function ke(t){this._context=t}ke.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,s,r,a){this._context.bezierCurveTo(e,t,s,n,a,r)}};function en(t){return new Yt(t)}function nn(t){return new Ne(t)}function Le(t){this._context=t}Le.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var s=pe(t),r=pe(e),a=0,u=1;u<n;++a,++u)this._context.bezierCurveTo(s[0][a],r[0][a],s[1][a],r[1][a],t[u],e[u]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function pe(t){var e,n=t.length-1,s,r=new Array(n),a=new Array(n),u=new Array(n);for(r[0]=0,a[0]=2,u[0]=t[0]+2*t[1],e=1;e<n-1;++e)r[e]=1,a[e]=4,u[e]=4*t[e]+2*t[e+1];for(r[n-1]=2,a[n-1]=7,u[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)s=r[e]/a[e-1],a[e]-=s,u[e]-=s*u[e-1];for(r[n-1]=u[n-1]/a[n-1],e=n-2;e>=0;--e)r[e]=(u[e]-r[e+1])/a[e];for(a[n-1]=(t[n]+r[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-r[e+1];return[r,a]}function ze(t){return new Le(t)}function xt(t,e){this._context=t,this._t=e}xt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function sn(t){return new xt(t,.5)}function on(t){return new xt(t,0)}function rn(t){return new xt(t,1)}function bt(t,e){if((u=t.length)>1)for(var n=1,s,r,a=t[e[0]],u,o=a.length;n<u;++n)for(r=a,a=t[e[n]],s=0;s<o;++s)a[s][1]+=a[s][0]=isNaN(r[s][1])?r[s][0]:r[s][1]}function Tt(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function an(t,e){return t[e]}function ln(){var t=w([]),e=Tt,n=bt,s=an;function r(a){var u=t.apply(this,arguments),o,h=a.length,d=u.length,_=new Array(d),m;for(o=0;o<d;++o){for(var S=u[o],E=_[o]=new Array(h),P=0,k;P<h;++P)E[P]=k=[0,+s(a[P],S,P,a)],k.data=a[P];E.key=S}for(o=0,m=e(_);o<d;++o)_[m[o]].index=o;return n(_,m),_}return r.keys=function(a){return arguments.length?(t=typeof a=="function"?a:w(Vt.call(a)),r):t},r.value=function(a){return arguments.length?(s=typeof a=="function"?a:w(+a),r):s},r.order=function(a){return arguments.length?(e=a==null?Tt:typeof a=="function"?a:w(Vt.call(a)),r):e},r.offset=function(a){return arguments.length?(n=a??bt,r):n},r}function un(t,e){if((s=t.length)>0){for(var n,s,r=0,a=t[0].length,u;r<a;++r){for(u=n=0;n<s;++n)u+=t[n][r][1]||0;if(u)for(n=0;n<s;++n)t[n][r][1]/=u}bt(t,e)}}function kt(t,e){if((h=t.length)>0)for(var n,s=0,r,a,u,o,h,d=t[e[0]].length;s<d;++s)for(u=o=0,n=0;n<h;++n)(a=(r=t[e[n]][s])[1]-r[0])>0?(r[0]=u,r[1]=u+=a):a<0?(r[1]=o,r[0]=o+=a):(r[0]=0,r[1]=a)}function cn(t,e){if((r=t.length)>0){for(var n=0,s=t[e[0]],r,a=s.length;n<a;++n){for(var u=0,o=0;u<r;++u)o+=t[u][n][1]||0;s[n][1]+=s[n][0]=-o/2}bt(t,e)}}function hn(t,e){if(!(!((u=t.length)>0)||!((a=(r=t[e[0]]).length)>0))){for(var n=0,s=1,r,a,u;s<a;++s){for(var o=0,h=0,d=0;o<u;++o){for(var _=t[e[o]],m=_[s][1]||0,S=_[s-1][1]||0,E=(m-S)/2,P=0;P<o;++P){var k=t[e[P]],T=k[s][1]||0,L=k[s-1][1]||0;E+=T-L}h+=m,d+=E*m}r[s-1][1]+=r[s-1][0]=n,h&&(n-=d/h)}r[s-1][1]+=r[s-1][0]=n,bt(t,e)}}function i(t){var e=t.map(l);return Tt(t).sort(function(n,s){return e[n]-e[s]})}function l(t){for(var e=-1,n=0,s=t.length,r,a=-1/0;++e<s;)(r=+t[e][1])>a&&(a=r,n=e);return n}function f(t){var e=t.map(c);return Tt(t).sort(function(n,s){return e[n]-e[s]})}function c(t){for(var e=0,n=-1,s=t.length,r;++n<s;)(r=+t[n][1])&&(e+=r);return e}function y(t){return f(t).reverse()}function p(t){var e=t.length,n,s,r=t.map(c),a=i(t),u=0,o=0,h=[],d=[];for(n=0;n<e;++n)s=a[n],u<o?(u+=r[s],h.push(s)):(o+=r[s],d.push(s));return d.reverse().concat(h)}function v(t){return Tt(t).reverse()}},44916:(ft,z,x)=>{"use strict";var V;V=!0,z.A=b;var O=X(x(96540)),I=X(x(46942)),W=x(68293),j=x(9810),rt=["className","top","left","data","centroid","innerRadius","outerRadius","cornerRadius","startAngle","endAngle","padAngle","padRadius","pieSort","pieSortValues","pieValue","children","fill"];function X(g){return g&&g.__esModule?g:{default:g}}function w(){return w=Object.assign?Object.assign.bind():function(g){for(var C=1;C<arguments.length;C++){var R=arguments[C];for(var M in R)Object.prototype.hasOwnProperty.call(R,M)&&(g[M]=R[M])}return g},w.apply(this,arguments)}function et(g,C){if(g==null)return{};var R={},M=Object.keys(g),N,A;for(A=0;A<M.length;A++)N=M[A],!(C.indexOf(N)>=0)&&(R[N]=g[N]);return R}function b(g){var C=g.className,R=g.top,M=g.left,N=g.data,A=N===void 0?[]:N,D=g.centroid,F=g.innerRadius,Y=F===void 0?0:F,H=g.outerRadius,Z=g.cornerRadius,Q=g.startAngle,Dt=g.endAngle,Zt=g.padAngle,Qt=g.padRadius,Jt=g.pieSort,qt=g.pieSortValues,yt=g.pieValue,Bt=g.children,St=g.fill,nt=St===void 0?"":St,dt=et(g,rt),pt=(0,j.arc)({innerRadius:Y,outerRadius:H,cornerRadius:Z,padRadius:Qt}),_t=(0,j.pie)({startAngle:Q,endAngle:Dt,padAngle:Zt,value:yt,sort:Jt,sortValues:qt}),Pt=_t(A);return Bt?O.default.createElement(O.default.Fragment,null,Bt({arcs:Pt,path:pt,pie:_t})):O.default.createElement(W.Group,{className:"visx-pie-arcs-group",top:R,left:M},Pt.map(function(mt,wt){return O.default.createElement("g",{key:"pie-arc-"+wt},O.default.createElement("path",w({className:(0,I.default)("visx-pie-arc",C),d:pt(mt)||"",fill:nt==null||typeof nt=="string"?nt:nt(mt)},dt)),D?.(pt.centroid(mt),mt))}))}},68293:(ft,z,x)=>{"use strict";x.r(z),x.d(z,{Group:()=>V.A});var V=x(33434)},76290:(ft,z,x)=>{"use strict";z.__esModule=!0,z.STACK_ORDER_NAMES=z.STACK_ORDERS=void 0,z.default=W;var V=x(43106),O={ascending:V.stackOrderAscending,descending:V.stackOrderDescending,insideout:V.stackOrderInsideOut,none:V.stackOrderNone,reverse:V.stackOrderReverse};z.STACK_ORDERS=O;var I=Object.keys(O);z.STACK_ORDER_NAMES=I;function W(j){return j&&O[j]||O.none}},90203:(ft,z,x)=>{"use strict";z.__esModule=!0,z.STACK_OFFSET_NAMES=z.STACK_OFFSETS=void 0,z.default=W;var V=x(43106),O={expand:V.stackOffsetExpand,diverging:V.stackOffsetDiverging,none:V.stackOffsetNone,silhouette:V.stackOffsetSilhouette,wiggle:V.stackOffsetWiggle};z.STACK_OFFSETS=O;var I=Object.keys(O);z.STACK_OFFSET_NAMES=I;function W(j){return j&&O[j]||O.none}},96894:(ft,z,x)=>{"use strict";x.r(z),x.d(z,{plugin:()=>hn});var V=x(16207),O=x(83340),I=x(64394),W=x(92745),j=x(739),rt=x(45013),X=x(79277),w=x(41069),et=x(87252),b=x(74848),g=x(96540),C=x(64423),R=x(44232),M=x(55386),N=x(57852),A=x(14477),D=x(63142),F=x(54735),Y=x(4268),H=x(22940),Z=x(64400),Q=x(22803),Dt=function(){function i(f){var c=f.x,y=c===void 0?0:c,p=f.y,v=p===void 0?0:p;this.x=0,this.y=0,this.x=y,this.y=v}var l=i.prototype;return l.value=function(){return{x:this.x,y:this.y}},l.toArray=function(){return[this.x,this.y]},i}();function Zt(i){return!!i&&i instanceof Element}function Qt(i){return!!i&&(i instanceof SVGElement||"ownerSVGElement"in i)}function Jt(i){return!!i&&"createSVGPoint"in i}function qt(i){return!!i&&"getScreenCTM"in i}function yt(i){return!!i&&"changedTouches"in i}function Bt(i){return!!i&&"clientX"in i}function St(i){return!!i&&(i instanceof Event||"nativeEvent"in i&&i.nativeEvent instanceof Event)}function nt(){return nt=Object.assign?Object.assign.bind():function(i){for(var l=1;l<arguments.length;l++){var f=arguments[l];for(var c in f)Object.prototype.hasOwnProperty.call(f,c)&&(i[c]=f[c])}return i},nt.apply(this,arguments)}var dt={x:0,y:0};function pt(i){if(!i)return nt({},dt);if(yt(i))return i.changedTouches.length>0?{x:i.changedTouches[0].clientX,y:i.changedTouches[0].clientY}:nt({},dt);if(Bt(i))return{x:i.clientX,y:i.clientY};var l=i?.target,f=l&&"getBoundingClientRect"in l?l.getBoundingClientRect():null;return f?{x:f.x+f.width/2,y:f.y+f.height/2}:nt({},dt)}function _t(i,l){if(!i||!l)return null;var f=pt(l),c=Qt(i)?i.ownerSVGElement:i,y=qt(c)?c.getScreenCTM():null;if(Jt(c)&&y){var p=c.createSVGPoint();return p.x=f.x,p.y=f.y,p=p.matrixTransform(y.inverse()),new Dt({x:p.x,y:p.y})}var v=i.getBoundingClientRect();return new Dt({x:f.x-v.left-i.clientLeft,y:f.y-v.top-i.clientTop})}function Pt(i,l){if(Zt(i)&&l)return _t(i,l);if(St(i)){var f=i,c=f.target;if(c)return _t(c,f)}return null}var mt=["children","id","from","to","fromOffset","fromOpacity","toOffset","toOpacity","rotate","transform"];function wt(){return wt=Object.assign?Object.assign.bind():function(i){for(var l=1;l<arguments.length;l++){var f=arguments[l];for(var c in f)Object.prototype.hasOwnProperty.call(f,c)&&(i[c]=f[c])}return i},wt.apply(this,arguments)}function je(i,l){if(i==null)return{};var f={},c=Object.keys(i),y,p;for(p=0;p<c.length;p++)y=c[p],!(l.indexOf(y)>=0)&&(f[y]=i[y]);return f}function _e(i){var l=i.children,f=i.id,c=i.from,y=i.to,p=i.fromOffset,v=p===void 0?"0%":p,t=i.fromOpacity,e=t===void 0?1:t,n=i.toOffset,s=n===void 0?"100%":n,r=i.toOpacity,a=r===void 0?1:r,u=i.rotate,o=i.transform,h=je(i,mt);return g.createElement("defs",null,g.createElement("radialGradient",wt({id:f,gradientTransform:u?"rotate("+u+")":o},h),!!l&&l,!l&&g.createElement("stop",{offset:v,stopColor:c,stopOpacity:e}),!l&&g.createElement("stop",{offset:s,stopColor:y,stopOpacity:a})))}var ve=x(33434),te=x(44916),Mt=["tooltipOpen"];function ge(i,l){if(i==null)return{};var f={},c=Object.keys(i),y,p;for(p=0;p<c.length;p++)y=c[p],!(l.indexOf(y)>=0)&&(f[y]=i[y]);return f}function Et(){return Et=Object.assign?Object.assign.bind():function(i){for(var l=1;l<arguments.length;l++){var f=arguments[l];for(var c in f)Object.prototype.hasOwnProperty.call(f,c)&&(i[c]=f[c])}return i},Et.apply(this,arguments)}function Ct(i){var l=(0,g.useState)(Et({tooltipOpen:!1},i)),f=l[0],c=l[1],y=(0,g.useCallback)(function(v){return c(typeof v=="function"?function(t){var e=t.tooltipOpen,n=ge(t,Mt);return Et({},v(n),{tooltipOpen:!0})}:{tooltipOpen:!0,tooltipLeft:v.tooltipLeft,tooltipTop:v.tooltipTop,tooltipData:v.tooltipData})},[c]),p=(0,g.useCallback)(function(){return c({tooltipOpen:!1,tooltipLeft:void 0,tooltipTop:void 0,tooltipData:void 0})},[c]);return{tooltipOpen:f.tooltipOpen,tooltipLeft:f.tooltipLeft,tooltipTop:f.tooltipTop,tooltipData:f.tooltipData,updateTooltip:c,showTooltip:y,hideTooltip:p}}var Vt=x(17334);function Fe({debounce:i,scroll:l,polyfill:f}={debounce:0,scroll:!1}){const c=f||(typeof window>"u"?class{}:window.ResizeObserver);if(!c)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[y,p]=(0,g.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),v=(0,g.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:y}),t=i?typeof i=="number"?i:i.scroll:null,e=i?typeof i=="number"?i:i.resize:null,n=(0,g.useRef)(!1);(0,g.useEffect)(()=>(n.current=!0,()=>void(n.current=!1)));const[s,r,a]=(0,g.useMemo)(()=>{const d=()=>{if(!v.current.element)return;const{left:_,top:m,width:S,height:E,bottom:P,right:k,x:T,y:L}=v.current.element.getBoundingClientRect(),K={left:_,top:m,width:S,height:E,bottom:P,right:k,x:T,y:L};Object.freeze(K),n.current&&!Ge(v.current.lastBounds,K)&&p(v.current.lastBounds=K)};return[d,e?(0,Vt.debounce)(d,e):d,t?(0,Vt.debounce)(d,t):d]},[p,t,e]);function u(){v.current.scrollContainers&&(v.current.scrollContainers.forEach(d=>d.removeEventListener("scroll",a,!0)),v.current.scrollContainers=null),v.current.resizeObserver&&(v.current.resizeObserver.disconnect(),v.current.resizeObserver=null)}function o(){v.current.element&&(v.current.resizeObserver=new c(a),v.current.resizeObserver.observe(v.current.element),l&&v.current.scrollContainers&&v.current.scrollContainers.forEach(d=>d.addEventListener("scroll",a,{capture:!0,passive:!0})))}const h=d=>{!d||d===v.current.element||(u(),v.current.element=d,v.current.scrollContainers=ye(d),o())};return ee(a,!!l),Ke(r),(0,g.useEffect)(()=>{u(),o()},[l,a,r]),(0,g.useEffect)(()=>u,[]),[h,y,s]}function Ke(i){(0,g.useEffect)(()=>{const l=i;return window.addEventListener("resize",l),()=>void window.removeEventListener("resize",l)},[i])}function ee(i,l){(0,g.useEffect)(()=>{if(l){const f=i;return window.addEventListener("scroll",f,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",f,!0)}},[i,l])}function ye(i){const l=[];if(!i||i===document.body)return l;const{overflow:f,overflowX:c,overflowY:y}=window.getComputedStyle(i);return[f,c,y].some(p=>p==="auto"||p==="scroll")&&l.push(i),[...l,...ye(i.parentElement)]}const We=["x","y","top","bottom","left","right","width","height"],Ge=(i,l)=>We.every(f=>i[f]===l[f]),$e=Fe;var Ue=x(83175),J=x.n(Ue),It=x(40961);function me(i,l){i.prototype=Object.create(l.prototype),i.prototype.constructor=i,jt(i,l)}function jt(i,l){return jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,y){return c.__proto__=y,c},jt(i,l)}var xe=function(i){me(l,i);function l(){return i.apply(this,arguments)||this}var f=l.prototype;return f.componentWillUnmount=function(){this.node&&document.body&&(document.body.removeChild(this.node),delete this.node)},f.render=function(){return!this.node&&typeof document<"u"&&(this.node=document.createElement("div"),this.props.zIndex!=null&&(this.node.style.zIndex=""+this.props.zIndex),document.body.append(this.node)),this.node?It.createPortal(this.props.children,this.node):null},l}(g.PureComponent);xe.propTypes={zIndex:J().oneOfType([J().number,J().string])};var be=x(46942),Ye=x.n(be),Te=["className","top","left","offsetLeft","offsetTop","style","children","unstyled","applyPositionStyle"];function Ft(){return Ft=Object.assign?Object.assign.bind():function(i){for(var l=1;l<arguments.length;l++){var f=arguments[l];for(var c in f)Object.prototype.hasOwnProperty.call(f,c)&&(i[c]=f[c])}return i},Ft.apply(this,arguments)}function Xe(i,l){if(i==null)return{};var f={},c=Object.keys(i),y,p;for(p=0;p<c.length;p++)y=c[p],!(l.indexOf(y)>=0)&&(f[y]=i[y]);return f}var ne={position:"absolute",backgroundColor:"white",color:"#666666",padding:".3rem .5rem",borderRadius:"3px",fontSize:"14px",boxShadow:"0 1px 2px rgba(33,33,33,0.2)",lineHeight:"1em",pointerEvents:"none"},Kt=g.forwardRef(function(i,l){var f=i.className,c=i.top,y=i.left,p=i.offsetLeft,v=p===void 0?10:p,t=i.offsetTop,e=t===void 0?10:t,n=i.style,s=n===void 0?ne:n,r=i.children,a=i.unstyled,u=a===void 0?!1:a,o=i.applyPositionStyle,h=o===void 0?!1:o,d=Xe(i,Te);return g.createElement("div",Ft({ref:l,className:Ye()("visx-tooltip",f),style:Ft({top:c==null||e==null?c:c+e,left:y==null||v==null?y:y+v},h&&{position:"absolute"},!u&&s)},d),r)});Kt.propTypes={children:J().node,className:J().string,left:J().number,offsetLeft:J().number,offsetTop:J().number,top:J().number,applyPositionStyle:J().bool,unstyled:J().bool},Kt.displayName="Tooltip";const Wt=Kt;function Gt(){return Gt=Object.assign?Object.assign.bind():function(i){for(var l=1;l<arguments.length;l++){var f=arguments[l];for(var c in f)Object.prototype.hasOwnProperty.call(f,c)&&(i[c]=f[c])}return i},Gt.apply(this,arguments)}function it(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function st(i,l){i.prototype=Object.create(l.prototype),i.prototype.constructor=i,At(i,l)}function At(i,l){return At=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,y){return c.__proto__=y,c},At(i,l)}var Oe={top:0,right:0,bottom:0,left:0,width:0,height:0};function Re(i){var l;return l=function(f){st(c,f);function c(p){var v;return v=f.call(this,p)||this,v.state={rect:void 0,parentRect:void 0},v.nodeRef=g.createRef(),v.getRects=v.getRects.bind(it(v)),v}var y=c.prototype;return y.componentDidMount=function(){var v,t=this;this.node=(v=this.nodeRef)!=null&&v.current?this.nodeRef.current:It.findDOMNode(this),this.setState(function(){return t.getRects()})},y.getRects=function(){if(!this.node)return this.state;var v=this.node,t=v.parentNode,e=v.getBoundingClientRect?v.getBoundingClientRect():Oe,n=t!=null&&t.getBoundingClientRect?t.getBoundingClientRect():Oe;return{rect:e,parentRect:n}},y.render=function(){return g.createElement(i,Gt({nodeRef:this.nodeRef,getRects:this.getRects},this.state,this.props))},c}(g.PureComponent),l.displayName="withBoundingRects("+(i.displayName||"")+")",l}var ie=(0,g.createContext)({isFlippedVertically:!1,isFlippedHorizontally:!1}),He=ie.Provider,vt=ie.Consumer,se=function(){return useContext(ie)},$t=["children","getRects","left","offsetLeft","offsetTop","parentRect","rect","style","top","unstyled","nodeRef"];function Ut(){return Ut=Object.assign?Object.assign.bind():function(i){for(var l=1;l<arguments.length;l++){var f=arguments[l];for(var c in f)Object.prototype.hasOwnProperty.call(f,c)&&(i[c]=f[c])}return i},Ut.apply(this,arguments)}function Se(i,l){if(i==null)return{};var f={},c=Object.keys(i),y,p;for(p=0;p<c.length;p++)y=c[p],!(l.indexOf(y)>=0)&&(f[y]=i[y]);return f}function Pe(i){var l=i.children,f=i.getRects,c=i.left,y=c===void 0?0:c,p=i.offsetLeft,v=p===void 0?10:p,t=i.offsetTop,e=t===void 0?10:t,n=i.parentRect,s=i.rect,r=i.style,a=r===void 0?ne:r,u=i.top,o=u===void 0?0:u,h=i.unstyled,d=h===void 0?!1:h,_=i.nodeRef,m=Se(i,$t),S,E=!1,P=!1;if(s&&n){var k=y,T=o;if(n.width){var L=k+v+s.width-n.width,K=s.width-k-v;E=L>0&&L>K}else{var G=k+v+s.width-window.innerWidth,U=s.width-k-v;E=G>0&&G>U}if(n.height){var q=T+e+s.height-n.height,tt=s.height-T-e;P=q>0&&q>tt}else P=T+e+s.height>window.innerHeight;k=E?k-s.width-v:k+v,T=P?T-s.height-e:T+e,k=Math.round(k),T=Math.round(T),S="translate("+k+"px, "+T+"px)"}return g.createElement(Wt,Ut({ref:_,style:Ut({left:0,top:0,transform:S},!d&&a)},m),g.createElement(He,{value:{isFlippedVertically:!P,isFlippedHorizontally:!E}},l))}Pe.propTypes={nodeRef:J().oneOfType([J().string,J().func,J().object])};const we=Re(Pe);var Ze=["detectBounds","zIndex"],Me=["left","top","detectBounds","zIndex"];function oe(){return oe=Object.assign?Object.assign.bind():function(i){for(var l=1;l<arguments.length;l++){var f=arguments[l];for(var c in f)Object.prototype.hasOwnProperty.call(f,c)&&(i[c]=f[c])}return i},oe.apply(this,arguments)}function Nt(i,l){if(i==null)return{};var f={},c=Object.keys(i),y,p;for(p=0;p<c.length;p++)y=c[p],!(l.indexOf(y)>=0)&&(f[y]=i[y]);return f}function re(i){var l=i===void 0?{}:i,f=l.detectBounds,c=f===void 0?!0:f,y=l.zIndex,p=Nt(l,Ze),v=$e(p),t=v[0],e=v[1],n=v[2],s=(0,g.useState)(!1),r=s[0],a=s[1];(0,g.useEffect)(function(){a(!1)},[]);var u=(0,g.useMemo)(function(){return function(o){var h=o.left,d=h===void 0?0:h,_=o.top,m=_===void 0?0:_,S=o.detectBounds,E=o.zIndex,P=Nt(o,Me),k=S??c,T=E??y,L=k?we:Wt,K=r?0:window.scrollX,G=r?0:window.scrollY,U=d+(e.left||0)+K,q=m+(e.top||0)+G;return g.createElement(xe,{zIndex:T},g.createElement(L,oe({left:U,top:q},P)))}},[c,y,e.left,e.top,r]);return{containerRef:t,containerBounds:e,forceRefreshBounds:n,TooltipInPortal:u}}var ae=x(84140),le=x(51898),Qe=x(6399),ue=x(63428);let Je=0;const ce=()=>Je++;function Ee(i){const l=(0,g.useRef)(null);return l.current===null&&(l.current=i+ce()),l.current.toString()}var qe=x(35484),at=(i=>(i.Donut="donut",i.Pie="pie",i))(at||{}),ot=(i=>(i.Name="name",i.Percent="percent",i.Value="value",i))(ot||{}),ut=(i=>(i.Percent="percent",i.Value="value",i))(ut||{});const yn={values:[]},tn={displayLabels:[]};function Ce(i){return!i.field.custom?.hideFrom?.viz&&!isNaN(i.display.numeric)}function he(i,l){return l.display.numeric+i}const Ae=({fieldDisplayValues:i,pieType:l,sort:f,width:c,height:y,highlightedTitle:p,displayLabels:v=[],tooltipOptions:t})=>{const e=(0,D.$j)(),n=Ee("PieChart"),s=(0,D.of)(xt),r=Ct(),{containerRef:a,TooltipInPortal:u}=re({detectBounds:!0,scroll:!0}),o=i.filter(Ce),h=T=>T.display.numeric,d=T=>`${n}-${(0,ae.A)(T).toHex()}`,_=T=>`url(#${d(T)})`,m=v.length>0,S=t.mode!=="none"&&r.tooltipOpen,E=o.reduce(he,0),P=nn(c,y,l),k=[...new Set(o.map(T=>T.display.color??I.F))];return(0,b.jsxs)("div",{className:s.container,children:[(0,b.jsx)("svg",{width:P.size,height:P.size,ref:a,style:{overflow:"visible"},children:(0,b.jsxs)(ve.A,{top:P.position,left:P.position,children:[k.map(T=>(0,b.jsx)(_e,{id:d(T),from:ke(T,e),to:en(T,e),fromOffset:P.gradientFromOffset,toOffset:"1",gradientUnits:"userSpaceOnUse",cx:0,cy:0,radius:P.outerRadius},T)),(0,b.jsx)(te.A,{data:o,pieValue:h,pieSortValues:()=>0,outerRadius:P.outerRadius,innerRadius:P.innerRadius,cornerRadius:3,padAngle:.005,children:T=>(0,b.jsxs)(b.Fragment,{children:[T.arcs.map(L=>{const K=L.data.display.color??I.F,G=pe(p,L);return L.data.hasLinks&&L.data.getLinks?(0,b.jsx)(Qe.e,{links:L.data.getLinks,children:U=>(0,b.jsx)(fe,{tooltip:r,highlightState:G,arc:L,pie:T,fill:_(K),openMenu:U.openMenu,tooltipOptions:t})},L.index):(0,b.jsx)(fe,{highlightState:G,tooltip:r,arc:L,pie:T,fill:_(K),tooltipOptions:t},L.index)}),m&&T.arcs.map(L=>{const K=pe(p,L);return(0,b.jsx)(de,{arc:L,highlightState:K,outerRadius:P.outerRadius,innerRadius:P.innerRadius,displayLabels:v,total:E,color:e.colors.text.primary},L.index)})]})})]})}),S?(0,b.jsx)(u,{top:r.tooltipTop,className:s.tooltipPortal,left:r.tooltipLeft,unstyled:!0,applyPositionStyle:!0,children:(0,b.jsx)(ue.o,{series:r.tooltipData})},Math.random()):null]})};function fe({arc:i,pie:l,highlightState:f,openMenu:c,fill:y,tooltip:p,tooltipOptions:v}){const t=(0,D.$j)(),e=(0,D.of)(xt),{eventBus:n}=(0,Z.d2)(),s=(0,g.useCallback)(u=>{n?.publish({type:N.ql.type,payload:{raw:u,x:0,y:0,dataId:i.data.display.title}}),p.hideTooltip()},[n,i,p]),r=(0,g.useCallback)(u=>{n?.publish({type:N.b_.type,payload:{raw:u,x:0,y:0,dataId:i.data.display.title}});const o=u.currentTarget.ownerSVGElement;if(o){const h=Pt(o,u);p.showTooltip({tooltipLeft:h.x,tooltipTop:h.y,tooltipData:Yt(l,i,v)})}},[n,i,p,l,v]),a=ze(f,e);return(0,b.jsx)("g",{className:a,onMouseMove:v.mode!=="none"?r:void 0,onMouseOut:s,onClick:c,"data-testid":le.Tp.components.Panels.Visualization.PieChart.svgSlice,children:(0,b.jsx)("path",{d:l.path({...i}),fill:y,stroke:t.colors.background.primary,strokeWidth:1})},i.data.display.title)}function de({arc:i,outerRadius:l,innerRadius:f,displayLabels:c,total:y,color:p,highlightState:v}){const t=(0,D.of)(xt),e=f===0?l/6:f,[n,s]=Ne(i,l,e);if(!(i.endAngle-i.startAngle>=.3))return null;let a=c.includes(ot.Name)?Math.min(Math.max(l/150*14,12),30):Math.min(Math.max(l/100*14,12),36);return(0,b.jsx)("g",{className:ze(v,t),children:(0,b.jsxs)("text",{fill:p,x:n,y:s,dy:".33em",fontSize:a,fontWeight:500,textAnchor:"middle",pointerEvents:"none",children:[c.includes(ot.Name)&&(0,b.jsx)("tspan",{x:n,dy:"1.2em",children:i.data.display.title}),c.includes(ot.Value)&&(0,b.jsx)("tspan",{x:n,dy:"1.2em",children:(0,M.cN)(i.data.display)}),c.includes(ot.Percent)&&(0,b.jsx)("tspan",{x:n,dy:"1.2em",children:(i.data.display.numeric/y*100).toFixed(i.data.field.decimals??0)+"%"})]})})}function Yt(i,l,f){return f.mode==="multi"?i.arcs.filter(c=>f.hideZeros&&c.value===0?!1:!c.data.field.custom?.hideFrom?.tooltip).map(c=>({color:c.data.display.color??I.F,label:c.data.display.title,value:(0,M.cN)(c.data.display),isActive:c.index===l.index})):[{color:l.data.display.color??I.F,label:l.data.display.title,value:(0,M.cN)(l.data.display)}]}function Ne(i,l,f){const c=(l+f)/2,y=(+i.startAngle+ +i.endAngle)/2-Math.PI/2;return[Math.cos(y)*c,Math.sin(y)*c]}function ke(i,l){return(0,ae.A)(i).darken(20*(l.isDark?1:-.7)).spin(4).toRgbString()}function en(i,l){return(0,ae.A)(i).darken(10*(l.isDark?1:-.7)).spin(-4).toRgbString()}function nn(i,l,f,c=16){const y=Math.min(l,i),p=(y-c*2)/2,v=f===at.Pie?p:Math.max(p/3,20),t=p-v,e=(y-c*2)/2,n=1-(p-t)/p;return{position:e+c,size:y,outerRadius:p,innerRadius:t,gradientFromOffset:n}}var Le=(i=>(i[i.Highlighted=0]="Highlighted",i[i.Deemphasized=1]="Deemphasized",i[i.Normal=2]="Normal",i))(Le||{});function pe(i,l){return i?i===l.data.display.title?0:1:2}function ze(i,l){switch(i){case 0:return l.svgArg.highlighted;case 1:return l.svgArg.deemphasized;case 2:default:return l.svgArg.normal}}const xt=i=>({container:(0,Q.css)({width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}),svgArg:{normal:(0,Q.css)({[i.transitions.handleMotion("no-preference")]:{transition:"all 200ms ease-in-out"}}),highlighted:(0,Q.css)({[i.transitions.handleMotion("no-preference")]:{transition:"all 200ms ease-in-out"},transform:"scale3d(1.03, 1.03, 1)"}),deemphasized:(0,Q.css)({[i.transitions.handleMotion("no-preference")]:{transition:"all 200ms ease-in-out"},fillOpacity:.5})},tooltipPortal:(0,Q.css)((0,qe.getTooltipContainerStyles)(i))}),sn={displayMode:j.lm.List,showLegend:!0,placement:"right",calcs:[],values:[ut.Percent]};function on(i){const{data:l,timeZone:f,fieldConfig:c,replaceVariables:y,width:p,height:v,options:t,id:e}=i,n=(0,D.$j)(),s=an(),r=(0,R.PI)({fieldConfig:c,reduceOptions:t.reduceOptions,data:l.series,theme:n,replaceVariables:y,timeZone:f});return Tt(r)?(0,b.jsx)(F.KU,{width:p,height:v,legend:rn(i,r),children:(a,u)=>(0,b.jsx)(Ae,{width:a,height:u,highlightedTitle:s,fieldDisplayValues:r,tooltipOptions:t.tooltip,pieType:t.pieType,sort:t.sort,displayLabels:t.displayLabels})}):(0,b.jsx)(A.a,{panelId:e,fieldConfig:c,data:l})}function rn(i,l){const f=i.options.legend??sn;if(f.showLegend===!1)return;const c=l.sort(bt(i.options.sort)),y=l.filter(Ce).reduce(he,0),p=c.map((v,t)=>{const e=v.field.custom?.hideFrom??{};if(e.legend)return;const n=!!e.viz,s=v.display;return{label:s.title??"",color:s.color??I.F,yAxis:1,disabled:n,getItemKey:()=>(s.title??"")+t,getDisplayValues:()=>{const r=f.values??[];let a=[];if(r.includes(ut.Value)&&a.push({numeric:s.numeric,text:(0,M.cN)(s),title:"Value"}),r.includes(ut.Percent)){const u=n?0:s.numeric/y,o=u*100;a.push({numeric:u,percent:o,text:n||isNaN(u)?i.fieldConfig.defaults.noValue??"-":o.toFixed(v.field.decimals??0)+"%",title:r.length>1?"Percent":""})}return a}}}).filter(v=>!!v);return(0,b.jsx)(F.KU.Legend,{placement:f.placement,width:f.width,children:(0,b.jsx)(Y.t,{items:p,seriesVisibilityChangeBehavior:H.K.Hide,placement:f.placement,displayMode:f.displayMode})})}function bt(i){return function(l,f){return isNaN(l.display.numeric)?1:isNaN(f.display.numeric)?-1:i===j.xB.Descending?f.display.numeric-l.display.numeric:i===j.xB.Ascending?l.display.numeric-f.display.numeric:0}}function Tt(i){return i.some(l=>l.view?.dataFrame.length)}function an(){const[i,l]=(0,g.useState)(),{eventBus:f}=(0,Z.d2)();return(0,g.useEffect)(()=>{const c=v=>{l(v.payload.dataId)},y=v=>{l(void 0)},p=new C.yU;return p.add(f.getStream(N.b_).subscribe({next:c})),p.add(f.getStream(N.ql).subscribe({next:y})),()=>{p.unsubscribe()}},[l,f]),i}var ln=x(57866);const un=(i,l,f)=>{if(l==="grafana-piechart-panel"&&f.angular){const c=f.angular,y=[];let p=i.options;if(c.aliasColors)for(const v of Object.keys(c.aliasColors)){const t=c.aliasColors[v];t&&y.push({matcher:{id:ln.Ct.byName,options:v},properties:[{id:O.uo.Color,value:{mode:I.Y.Fixed,fixedColor:t}}]})}if(i.fieldConfig={overrides:y,defaults:{unit:c.format,decimals:c.decimals?c.decimals:0}},p.legend={placement:"right",values:[],displayMode:j.lm.Table,showLegend:!0,calcs:[]},c.valueName)switch(p.reduceOptions={calcs:[]},c.valueName){case"current":p.reduceOptions.calcs=["lastNotNull"];break;case"min":p.reduceOptions.calcs=["min"];break;case"max":p.reduceOptions.calcs=["max"];break;case"avg":p.reduceOptions.calcs=["mean"];break;case"total":p.reduceOptions.calcs=["sum"];break}switch(c.legendType){case"Under graph":p.legend.placement="bottom";break;case"Right side":p.legend.placement="right";break}switch(c.pieType){case"pie":p.pieType=at.Pie;break;case"donut":p.pieType=at.Donut;break}return c.legend&&(c.legend.show||(p.legend.showLegend=!1),c.legend.values&&p.legend.values.push(ut.Value),c.legend.percentage&&p.legend.values.push(ut.Percent)),c.legendType==="On graph"&&(p.legend.showLegend=!1,p.displayLabels=[ot.Name],c.legend.values&&p.displayLabels.push(ot.Value),c.legend.percentage&&p.displayLabels.push(ot.Percent)),p}return{}};var kt=x(73495);class cn{getSuggestionsForData(l){const f=l.getListAppender({name:kt.m.PieChart,pluginId:"piechart",options:{reduceOptions:{values:!1,calcs:["lastNotNull"]},displayLabels:[ot.Percent],legend:{calcs:[],displayMode:j.lm.Hidden,placement:"right",values:[],showLegend:!1}}}),{dataSummary:c}=l;if(c.hasNumberField){if(c.hasStringField&&c.frameCount===1){if(c.rowCountTotal>30||c.rowCountTotal<2)return;f.append({name:kt.m.PieChart,options:{reduceOptions:{values:!0,calcs:[]}}}),f.append({name:kt.m.PieChartDonut,options:{reduceOptions:{values:!0,calcs:[]},pieType:at.Donut}});return}c.numberFieldCount>30||c.numberFieldCount<2||(f.append({name:kt.m.PieChart}),f.append({name:kt.m.PieChartDonut,options:{pieType:at.Donut}}))}}}const hn=new V.m(on).setPanelChangeHandler(un).useFieldConfig({disableStandardOptions:[O.uo.Thresholds],standardOptions:{[O.uo.Color]:{settings:{byValueSupport:!1,bySeriesSupport:!0,preferThresholdsMode:!1},defaultValue:{mode:I.Y.PaletteClassic}}},useCustomConfig:i=>{rt.e(i)}}).setPanelOptions(i=>{(0,et.L)(i);const l=[(0,W.t)("piechart.category-pie-chart","Pie chart")],f=[(0,W.t)("piechart.category-legend","Legend")];i.addRadio({name:(0,W.t)("piechart.name-pie-chart-type","Pie chart type"),category:l,description:(0,W.t)("piechart.description-pie-chart-type","How the pie chart should be rendered"),path:"pieType",settings:{options:[{value:at.Pie,label:(0,W.t)("piechart.pie-chart-type-options.label-pie","Pie")},{value:at.Donut,label:(0,W.t)("piechart.pie-chart-type-options.label-donut","Donut")}]},defaultValue:at.Pie}).addSelect({name:"Slice sorting",description:"Select how to sort the pie slices",path:"sort",settings:{options:[{value:j.xB.Descending,label:"Descending"},{value:j.xB.Ascending,label:"Ascending"},{value:j.xB.None,label:"None"}]},defaultValue:j.xB.Descending}).addMultiSelect({name:(0,W.t)("piechart.name-labels","Labels"),category:l,path:"displayLabels",description:(0,W.t)("piechart.description-labels","Select the labels to be displayed in the pie chart"),settings:{options:[{value:ot.Percent,label:(0,W.t)("piechart.labels-options.label-percent","Percent")},{value:ot.Name,label:(0,W.t)("piechart.labels-options.label-name","Name")},{value:ot.Value,label:(0,W.t)("piechart.labels-options.label-value","Value")}]}}),X.D(i,!1,!1,X.U),w.H(i,!1),i.addMultiSelect({name:(0,W.t)("piechart.name-legend-values","Legend values"),path:"legend.values",category:f,settings:{options:[{value:ut.Percent,label:(0,W.t)("piechart.legend-values-options.label-percent","Percent")},{value:ut.Value,label:(0,W.t)("piechart.legend-values-options.label-value","Value")}]},showIf:c=>c.legend.showLegend!==!1})}).setSuggestionsSupplier(new cn)}}]);

//# sourceMappingURL=pieChartPanel.d6a32f14160f6788873e.js.map