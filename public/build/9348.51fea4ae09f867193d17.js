"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[9348],{13507:(gt,w,e)=>{e.d(w,{U:()=>K});var s=e(74848),a=e(96540),f=e(92745),N=e(45861);const K=({config:p,onChangeTimeRange:M})=>{const U=(0,a.useRef)(),[m,B]=(0,a.useState)([]),[E,y]=(0,a.useState)();if((0,a.useLayoutEffect)(()=>{p.addHook("init",x=>{U.current=x}),p.addHook("setScale",x=>{B(x.data?.[0]??[]),y(x.scales.x??void 0)})},[p]),m.length<2||!M||!E||!E.time||!E.min||!E.max)return null;let P=0,z=m.length-1;for(;P<=z&&m[P]==null;)P++;for(;z>=0&&m[z]==null;)z--;const L=m[P],r=m[z],g=E.min,T=E.max;return L==null||r==null||L<=T&&r>=g?null:(0,s.jsx)("div",{style:{position:"absolute",top:"50%",transform:"translateY(-50%)",width:"100%",textAlign:"center"},children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{children:(0,s.jsx)(f.x6,{i18nKey:"timeseries.outside-range-plugin.data-outside-time-range",children:"Data outside time range"})}),(0,s.jsx)(N.$n,{onClick:x=>M({from:L,to:r}),variant:"secondary","data-testid":"time-series-zoom-to-data",children:(0,s.jsx)(f.x6,{i18nKey:"timeseries.outside-range-plugin.zoom-to-data",children:"Zoom to data"})})]})})};K.displayName="OutsideRangePlugin"},36327:(gt,w,e)=>{e.d(w,{W:()=>ht});var s=e(74848),a=e(22803),f=e(96540),N=e(40961),K=e(84140),p=e(36613),M=e(27359),U=e(739),m=e(6773),B=e(8255),E=e(15245),y=e(63142),P=e(46885),z=e(83505),L=e(51898),r=e(49785),g=e(29647),T=e(41053),x=e(80011),o=e(5421),i=e(92745),n=e(64400),v=e(41654),j=e(37386),u=e(87105),_=e(45861),nt=e(74410),ct=e(93732),lt=e(78767);const it=({annoVals:t,annoIdx:l,dismiss:A,timeZone:O,...H})=>{const S=(0,y.of)($),{onAnnotationCreate:I,onAnnotationUpdate:ft}=(0,n.d2)(),X=(0,f.useRef)(null);(0,g.A)(X,A);const[J,Y]=(0,T.A)(async d=>{const C=await I(d);return A(),C}),[pt,ot]=(0,T.A)(async d=>{const C=await ft(d);return A(),C}),Q=d=>(0,x.LE)(d,{format:o.WC.fullDate,timeZone:O}),Z=t.id?.[l]!=null,mt=t.isRegion?.[l],vt=Z?ot:Y,dt=Z?pt:J,c=mt?`${Q(t.time[l])} - ${Q(t.timeEnd[l])}`:Q(t.time[l]),W=({tags:d,description:C})=>{vt({id:t.id?.[l]??void 0,tags:d,description:C,from:Math.round(t.time[l]),to:Math.round(t.timeEnd?.[l]??t.time[l])})};return(0,s.jsxs)("div",{ref:X,className:S.editor,...H,children:[(0,s.jsx)("div",{className:S.header,children:(0,s.jsxs)(v.B,{justifyContent:"space-between",alignItems:"center",children:[(0,s.jsx)("div",{children:Z?(0,i.t)("timeseries.annotation-editor2.edit-annotation","Edit annotation"):(0,i.t)("timeseries.annotation-editor2.add-annotation","Add annotation")}),(0,s.jsx)("div",{children:c})]})}),(0,s.jsx)(nt.l,{onSubmit:W,defaultValues:{description:t.text?.[l],tags:t.tags?.[l]||[]},children:({register:d,errors:C,control:D})=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:S.content,children:[(0,s.jsx)(j.D,{label:(0,i.t)("timeseries.annotation-editor2.label-description","Description"),invalid:!!C.description,error:C?.description?.message,children:(0,s.jsx)(u.f,{className:S.textarea,...d("description",{required:"Annotation description is required"})})}),(0,s.jsx)(j.D,{label:(0,i.t)("timeseries.annotation-editor2.label-tags","Tags"),children:(0,s.jsx)(r.xI,{control:D,name:"tags",render:({field:{ref:b,onChange:q,...h}})=>(0,s.jsx)(ct.$,{allowCustomValue:!0,placeholder:(0,i.t)("timeseries.annotation-editor2.placeholder-add-tags","Add tags"),onChange:q,tagOptions:lt.vy,tags:h.value})})})]}),(0,s.jsx)("div",{className:S.footer,children:(0,s.jsxs)(v.B,{justifyContent:"flex-end",children:[(0,s.jsx)(_.$n,{size:"sm",variant:"secondary",onClick:A,fill:"outline",children:(0,s.jsx)(i.x6,{i18nKey:"timeseries.annotation-editor2.cancel",children:"Cancel"})}),(0,s.jsx)(_.$n,{size:"sm",type:"submit",disabled:dt?.loading,children:dt?.loading?(0,i.t)("timeseries.annotation-editor2.saving","Saving"):(0,i.t)("timeseries.annotation-editor2.save","Save")})]})})]})})]})},$=t=>({editor:(0,a.css)({background:t.colors.background.elevated,border:`1px solid ${t.colors.border.weak}`,borderRadius:t.shape.radius.default,boxShadow:t.shadows.z3,userSelect:"text",width:"460px"}),content:(0,a.css)({padding:t.spacing(1)}),header:(0,a.css)({borderBottom:`1px solid ${t.colors.border.weak}`,padding:t.spacing(.5,1),fontWeight:t.typography.fontWeightBold,fontSize:t.typography.fontSize,color:t.colors.text.primary}),footer:(0,a.css)({borderTop:`1px solid ${t.colors.border.weak}`,padding:t.spacing(1,1)}),textarea:(0,a.css)({color:t.colors.text.secondary,fontSize:t.typography.bodySmall.fontSize})});var R=e(63704),et=e(76319),G=e(94018),yt=e(2954);const Et=()=>!1,Tt=({annoVals:t,annoIdx:l,timeZone:A,onEdit:O})=>{const H=t.id?.[l],S=(0,y.of)(xt),{canEditAnnotations:I=Et,canDeleteAnnotations:ft=Et,onAnnotationDelete:X}=(0,n.d2)(),J=t.dashboardUID?.[l],Y=H!==0&&I(J),pt=H!==0&&ft(J)&&X!=null,ot=c=>(0,x.LE)(c,{format:o.WC.fullDate,timeZone:A});let Q=ot(t.time[l]),Z=t.text?.[l]??"";t.isRegion?.[l]&&(Q+=" - "+ot(t.timeEnd[l]));let mt;t.login?.[l]&&t.avatarUrl?.[l]&&(mt=(0,s.jsx)("img",{className:S.avatar,alt:"Annotation avatar",src:t.avatarUrl[l]}));let vt=null,dt="";if(t.alertId?.[l]!==void 0&&t.newState?.[l]){const c=yt.A.getStateDisplayModel(t.newState[l]);vt=(0,s.jsx)("div",{className:S.alertState,children:(0,s.jsx)("i",{className:c.stateClass,children:c.text})}),dt=t.data?.[l]?yt.A.getAlertAnnotationText(t.data[l]):""}else t.title?.[l]&&(Z=t.title[l]+(Z?`<br />${Z}`:""));return(0,s.jsxs)("div",{className:S.wrapper,children:[(0,s.jsx)("div",{className:S.header,children:(0,s.jsxs)(v.B,{gap:2,basis:"100%",justifyContent:"space-between",alignItems:"center",children:[(0,s.jsxs)("div",{className:S.meta,children:[(0,s.jsxs)("span",{children:[mt,vt]}),Q]}),(Y||pt)&&(0,s.jsxs)("div",{className:S.editControls,children:[Y&&(0,s.jsx)(et.K,{name:"pen",size:"sm",onClick:O,tooltip:(0,i.t)("timeseries.annotation-tooltip2.tooltip-edit","Edit")}),pt&&(0,s.jsx)(et.K,{name:"trash-alt",size:"sm",onClick:()=>X(H),tooltip:(0,i.t)("timeseries.annotation-tooltip2.tooltip-delete","Delete")})]})]})}),(0,s.jsxs)("div",{className:S.body,children:[Z&&(0,s.jsx)("div",{className:S.text,dangerouslySetInnerHTML:{__html:R.sQ.sanitize(Z)}}),dt,(0,s.jsx)("div",{children:(0,s.jsx)(v.B,{gap:.5,wrap:!0,children:t.tags?.[l]?.map((c,W)=>(0,s.jsx)(G.v,{name:c},`${c}-${W}`))})})]})]})},xt=t=>({wrapper:(0,a.css)({zIndex:t.zIndex.tooltip,whiteSpace:"initial",borderRadius:t.shape.radius.default,background:t.colors.background.elevated,border:`1px solid ${t.colors.border.weak}`,boxShadow:t.shadows.z3,userSelect:"text"}),header:(0,a.css)({padding:t.spacing(.5,1),borderBottom:`1px solid ${t.colors.border.weak}`,fontWeight:t.typography.fontWeightBold,fontSize:t.typography.fontSize,color:t.colors.text.primary,display:"flex"}),meta:(0,a.css)({display:"flex",color:t.colors.text.primary,fontWeight:400}),editControls:(0,a.css)({display:"flex","> :last-child":{marginLeft:0}}),body:(0,a.css)({padding:t.spacing(1),fontSize:t.typography.bodySmall.fontSize,color:t.colors.text.secondary,fontWeight:400,a:{color:t.colors.text.link,"&:hover":{textDecoration:"underline"}}}),text:(0,a.css)({paddingBottom:t.spacing(1)}),avatar:(0,a.css)({borderRadius:t.shape.radius.circle,width:16,height:16,marginRight:t.spacing(1)}),alertState:(0,a.css)({paddingRight:t.spacing(1),fontWeight:t.typography.fontWeightMedium})}),ut=0,st=1,St=2,jt=({annoVals:t,annoIdx:l,className:A,style:O,exitWipEdit:H,timeZone:S,portalRoot:I})=>{const ft=(0,y.of)(Ct),[X,J]=(0,f.useState)(H!=null?st:ut),{refs:Y,floatingStyles:pt}=(0,z.we)({open:!0,placement:"bottom",middleware:[(0,P.UU)({fallbackAxisSideDirection:"end",crossAxis:!1,boundary:document.body}),(0,P.BN)()],whileElementsMounted:P.ll,strategy:"fixed"}),ot=X===St?(0,s.jsx)(Tt,{annoIdx:l,annoVals:t,timeZone:S,onEdit:()=>J(st)}):X===st?(0,s.jsx)(it,{annoIdx:l,annoVals:t,timeZone:S,dismiss:()=>{H?.(),J(ut)}}):null;return(0,s.jsx)("div",{ref:Y.setReference,className:A,style:O,onMouseEnter:()=>X!==st&&J(St),onMouseLeave:()=>X!==st&&J(ut),"data-testid":L.Tp.pages.Dashboard.Annotations.marker,children:ot&&(0,N.createPortal)((0,s.jsx)("div",{ref:Y.setFloating,className:ft.annoBox,style:pt,"data-testid":"annotation-marker",children:ot}),I)})},Ct=t=>({annoBox:(0,a.css)({top:0,left:0,zIndex:t.zIndex.tooltip,borderRadius:t.shape.radius.default,position:"absolute",background:t.colors.background.primary,border:`1px solid ${t.colors.border.weak}`,boxShadow:t.shadows.z2,userSelect:"text",minWidth:"300px"})}),At=(t,l,A,O,H)=>{t.beginPath(),t.moveTo(O,l),t.lineTo(O,A),t.strokeStyle=H,t.stroke()},Mt=(0,K.A)(B.Mk).toHex8String();function F(t){let l={};return t.fields.forEach(A=>{l[A.name]=A.values}),l}const ht=({annotations:t,timeZone:l,config:A,newRange:O,setNewRange:H,canvasRegionRendering:S=!0})=>{const[I,ft]=(0,f.useState)(),[X]=(0,f.useState)(()=>(0,E.gF)()),J=(0,y.of)(rt),Y=(0,y.$j)().visualization.getColorByName,[pt,ot]=(0,f.useReducer)(c=>c+1,0),Q=(0,f.useMemo)(()=>{let c=t.filter(W=>W.name!=="exemplar"&&W.length>0&&W.fields.some(d=>d.name==="time"));if(O){let W=O.to>O.from;const d=(0,M.I)([{time:O.from,timeEnd:W?O.to:null,isRegion:W,color:Mt}]);d.meta={dataTopic:U.QR.Annotations,custom:{isWip:!0}},c.push(d)}return c},[t,O]),Z=(0,f.useCallback)(()=>{H(null)},[H]),mt=(0,f.useRef)(Q);mt.current=Q;const vt=(0,f.useRef)(O);vt.current=O;const dt=(0,f.useRef)();if((0,f.useLayoutEffect)(()=>{A.addHook("ready",c=>{let W=c.root.querySelector(".u-axis");dt.current=W,ft(c)}),A.addHook("draw",c=>{let W=mt.current;const d=c.ctx;d.save(),d.beginPath(),d.rect(c.bbox.left,c.bbox.top,c.bbox.width,c.bbox.height),d.clip(),W.forEach(C=>{let D=F(C);if(C.name==="xymark"){let b=A.scales[0].props.scaleKey,q=A.scales[1].props.scaleKey;for(let h=0;h<C.length;h++){let tt=Y(D.color?.[h]||Mt),k=c.valToPos(D.xMin[h],b,!0),V=c.valToPos(D.xMax[h],b,!0),at=c.valToPos(D.yMax[h],q,!0),Pt=c.valToPos(D.yMin[h],q,!0);d.fillStyle=m.MV.alpha(tt,D.fillOpacity[h]),d.fillRect(k,at,V-k,Pt-at),d.lineWidth=Math.round(D.lineWidth[h]*p.A.pxRatio),D.lineStyle[h]==="dash"?d.setLineDash([5,5]):d.setLineDash([]),d.strokeStyle=tt,d.strokeRect(k,at,V-k,Pt-at)}}else{let b=c.bbox.top,q=b+c.bbox.height;d.lineWidth=2,d.setLineDash([5,5]);for(let h=0;h<D.time.length;h++){let tt=Y(D.color?.[h]||Mt),k=c.valToPos(D.time[h],"x",!0);if(At(d,b,q,k,tt),D.isRegion?.[h]){let V=c.valToPos(D.timeEnd[h],"x",!0);At(d,b,q,V,tt),S&&(d.fillStyle=m.MV.alpha(tt,.1),d.fillRect(k,b,V-k,c.bbox.height))}}}}),d.restore()})},[A,S,Y]),(0,f.useEffect)(()=>{I&&(I.redraw(),setTimeout(()=>{ot()},0))},[Q,I]),I){let c=Q.flatMap((W,d)=>{let C=F(W),D=[];for(let b=0;b<C.time.length;b++){let q=Y(C.color?.[b]||B.Mk),h=Math.round(I.valToPos(C.time[b],"x"))||0,tt=null,k="",V=!0;if(C.isRegion?.[b]){let at=Math.round(I.valToPos(C.timeEnd?.[b],"x"))||0;if(V=h<I.rect.width&&at>0,V){let Pt=Math.max(0,h),Dt=Math.min(I.rect.width,at);tt={left:Pt,background:q,width:Dt-Pt},k=J.annoRegion}}else V=h>=0&&h<=I.rect.width,V&&(tt={left:h,borderBottomColor:q},k=J.annoMarker);if(V){let at=W.meta?.custom?.isWip;D.push((0,s.jsx)(jt,{annoIdx:b,annoVals:C,className:k,style:tt,timeZone:l,exitWipEdit:at?Z:null,portalRoot:X},`${d}:${b}`))}}return D});return(0,N.createPortal)(c,dt.current)}return null},rt=()=>({annoMarker:(0,a.css)({position:"absolute",width:0,height:0,borderLeft:"5px solid transparent",borderRight:"5px solid transparent",borderBottomWidth:"5px",borderBottomStyle:"solid",transform:"translateX(-50%)",cursor:"pointer",zIndex:1}),annoRegion:(0,a.css)({position:"absolute",height:"5px",cursor:"pointer",zIndex:1})})},41530:(gt,w,e)=>{e.d(w,{A:()=>K});var s=e(74848),a=e(22803),f=e(63142),N=e(77239);const K=({item:M,isPinned:U})=>{const m=(0,f.of)(p),{label:B,value:E,color:y,colorIndicator:P}=M;return(0,s.jsx)("div",{className:m.wrapper,children:(0,s.jsx)(N.B,{label:B,value:E,color:y,colorIndicator:P,marginRight:"22px",isPinned:U})})},p=M=>({wrapper:(0,a.css)({display:"flex",flexDirection:"column",flex:1,padding:M.spacing(1),lineHeight:1})})},47466:(gt,w,e)=>{e.d(w,{o:()=>K});var s=e(74848),a=e(22803),f=e(63142),N=e(77239);const K=({items:M,children:U,isPinned:m,scrollable:B=!1,maxHeight:E})=>{const y=(0,f.of)(p),P=B?{maxHeight:E,overflowY:"auto"}:{};return(0,s.jsxs)("div",{className:y.wrapper,style:P,children:[M.map(({label:z,value:L,color:r,colorIndicator:g,colorPlacement:T,isActive:x,lineStyle:o,isHiddenFromViz:i},n)=>(0,s.jsx)(N.B,{label:z,value:L,color:r,colorIndicator:g,colorPlacement:T,isActive:x,justify:"space-between",isPinned:m,lineStyle:o,showValueScroll:!B,isHiddenFromViz:i},n)),U]})},p=M=>({wrapper:(0,a.css)({display:"flex",flexDirection:"column",flex:1,gap:2,borderTop:`1px solid ${M.colors.border.weak}`,padding:M.spacing(1)})})},74410:(gt,w,e)=>{e.d(w,{l:()=>K});var s=e(74848),a=e(22803),f=e(96540),N=e(49785);function K({defaultValues:p,onSubmit:M,validateOnMount:U=!1,validateFieldsOnMount:m,children:B,validateOn:E="onSubmit",maxWidth:y=600,...P}){const{handleSubmit:z,trigger:L,formState:r,...g}=(0,N.mN)({mode:E,defaultValues:p});return(0,f.useEffect)(()=>{U&&L(m)},[L,m,U]),(0,s.jsx)("form",{className:(0,a.css)({maxWidth:y!=="none"?y+"px":y,width:"100%"}),onSubmit:z(M),...P,children:B({errors:r.errors,formState:r,trigger:L,...g})})}},76234:(gt,w,e)=>{e.d(w,{B_:()=>E,Fg:()=>z,O2:()=>P,T5:()=>L});var s=e(16515),a=e(11576),f=e(63409),N=e(34455),K=e(55386),p=e(95004),M=e(406),U=e(739),m=e(70332);function B(r){let g=new Map;return r.map(x=>({...x,fields:x.fields.map(o=>{if(o.type===p.PU.enum){let i=(0,m.M)(o.config,o.type),n=g.get(i);n||(n=[],g.set(i,n));let v=o.values.toArray().slice(),j=o.config.type.enum.text;if(n.length>0)for(let u=0;u<v.length;u++)v[u]+=n.length;return n.push(...j),o.config.type.enum.text=n,{...o,values:v}}return o})}))}function E(r,g,T,x){if(!r?.length)return null;(0,s.Fm)(r);let o=x!=null;x!=null&&x>0&&(r=[{...r[0],fields:[r[0].fields[x],...r[0].fields.filter((j,u)=>u!==x)]}]);for(let j of r)for(let u of j.fields)u.type===p.PU.time&&typeof u.values[0]!="number"&&(u.values=(0,M.s7)(u,{destinationType:p.PU.time}).values);let i=0;t:for(let j of r)for(let u of j.fields)if(u.type===p.PU.enum&&++i>1){r=B(r);break t}let n;const v=[];for(let j of r){const u=[];let _=!1,nt=!1,ct=o?j:(0,f.M)({frame:j,refFieldPseudoMin:T?.from.valueOf(),refFieldPseudoMax:T?.to.valueOf()});const lt=(0,N.C)(ct).fields;for(let it=0;it<(lt?.length||0);it++){const $=lt[it];switch($.type){case p.PU.time:_=!0,u.push($);break;case p.PU.number:nt=o?it>0:!0,n={...$,values:$.values.map(G=>Number.isFinite(G)||G==null?G:null)},u.push(n);break;case p.PU.enum:nt=!0;case p.PU.string:n={...$,values:$.values},u.push(n);break;case p.PU.boolean:nt=!0;const R=$.config?.custom??{},et={...$.config,max:1,min:0,custom:R};R.lineInterpolation!==U.dx.StepBefore&&(R.lineInterpolation=U.dx.StepAfter),n={...$,config:et,type:p.PU.number,values:$.values.map(G=>G==null?G:G?1:0)},(0,K.j9)(et.unit)||(et.unit="bool",n.display=(0,a.J)({field:n,theme:g})),u.push(n);break}}(o||_)&&nt&&v.push({...j,length:ct.length,fields:u})}return v.length?(P(v,g,0),y(v,g),v):null}const y=(r,g)=>{const{palette:T}=g.visualization;for(const x of r)for(const o of x.fields)if(o.type===p.PU.enum){const i=T[o.state?.seriesIndex%T.length],n=g.visualization.getColorByName(i),v=o.config.type.enum;v.color=Array(v.text.length).fill(n),o.display=(0,a.J)({field:o,theme:g})}},P=(r,g,T)=>{let x=0;r.forEach(o=>{o.fields.forEach((i,n)=>{n!==T&&(i.type===p.PU.number||i.type===p.PU.boolean||i.type===p.PU.enum)&&(i.state={...i.state,seriesIndex:x++},i.display=(0,a.J)({field:i,theme:g}))})})};function z(r,g){return!r||!r.length?[g]:r.map(T=>T?.length?T:g)}const L=r=>r.mode===U.$N.Multi&&r.maxHeight!=null},77239:(gt,w,e)=>{e.d(w,{B:()=>T});var s=e(74848),a=e(22803),f=e(96540),N=e(63142),K=e(53371),p=e(45967),M=e(64394),U=e(71479),m=e(55978),B=e(55302),E=(o=>(o[o.Leading=0]="Leading",o[o.Trailing=1]="Trailing",o))(E||{});const y=({color:o=M.F,colorIndicator:i=m.Ev,position:n=0,lineStyle:v,isHollow:j})=>{const u=(0,N.of)(P);return j?(0,s.jsx)("div",{style:{border:`1px solid ${o}`},className:(0,a.cx)(n===0?u.leading:u.trailing,(0,B.L$)(i,u))}):i===m.fX.series?(0,s.jsx)(U.p,{color:o,lineStyle:v,className:n===0?u.leading:u.trailing}):(0,s.jsx)("span",{style:{backgroundColor:o},className:(0,a.cx)(n===0?u.leading:u.trailing,(0,B.L$)(i,u))})},P=o=>({leading:(0,a.css)({marginRight:o.spacing(.5)}),trailing:(0,a.css)({marginLeft:o.spacing(.5)}),series:(0,a.css)({width:"14px",height:"4px",borderRadius:o.shape.radius.pill,minWidth:"14px"}),value:(0,a.css)({width:"12px",height:"12px",borderRadius:o.shape.radius.default,fontWeight:500,minWidth:"12px"}),hexagon:(0,a.css)({}),pie_1_4:(0,a.css)({}),pie_2_4:(0,a.css)({}),pie_3_4:(0,a.css)({}),marker_sm:(0,a.css)({width:"4px",height:"4px",borderRadius:o.shape.radius.circle,minWidth:"4px"}),marker_md:(0,a.css)({width:"8px",height:"8px",borderRadius:o.shape.radius.circle,minWidth:"8px"}),marker_lg:(0,a.css)({width:"12px",height:"12px",borderRadius:o.shape.radius.circle,minWidth:"12px"})});var z=(o=>(o.label="label",o.value="value",o))(z||{});const L="Copied to clipboard",r=2*1e3,g=7,T=({label:o,value:i,color:n,colorIndicator:v,colorPlacement:j=m.lJ.first,justify:u="flex-start",isActive:_=!1,marginRight:nt="0px",isPinned:ct,lineStyle:lt,showValueScroll:it,isHiddenFromViz:$})=>{const R=(0,N.of)(x,u,nt),et=it?{maxHeight:55,whiteSpace:"wrap",wordBreak:"break-word",overflowY:"auto"}:{whiteSpace:"pre-line",wordBreak:"break-word",lineHeight:1.2},[G,yt]=(0,f.useState)(!1),[Et,Tt]=(0,f.useState)(null),[xt,ut]=(0,f.useState)(!1),st=(0,f.useRef)(null),St=(0,f.useRef)(null);(0,f.useEffect)(()=>{let F;return xt&&(F=setTimeout(()=>{ut(!1)},r)),()=>{window.clearTimeout(F)}},[xt]);const jt=async(F,ht)=>{if(!(navigator?.clipboard&&window.isSecureContext)){Ct(F,ht);return}try{await navigator.clipboard.writeText(F),Tt({[`${ht}`]:F}),ut(!0)}catch{Tt(null)}},Ct=(F,ht)=>{const rt=document.createElement("textarea");st.current?.appendChild(rt),rt.value=F,rt.focus(),rt.select();try{document.execCommand("copy")&&(Tt({[`${ht}`]:F}),ut(!0))}catch(t){console.error("Unable to copy to clipboard",t)}rt.remove()},At=F=>{F.currentTarget.offsetWidth<F.currentTarget.scrollWidth&&yt(!0)},Mt=()=>yt(!1);return o.length*g>window.innerWidth/2&&(o=o.replaceAll("{",`{
  `).replaceAll("}",`
}`).replaceAll(", ",`,
  `)),(0,s.jsxs)("div",{className:R.contentWrapper,children:[(n||o)&&(0,s.jsxs)("div",{className:R.valueWrapper,children:[n&&j===m.lJ.first&&(0,s.jsx)(y,{color:n,colorIndicator:v,lineStyle:lt,isHollow:$}),ct?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(p.m,{content:o,interactive:!1,show:G,children:(0,s.jsxs)(s.Fragment,{children:[xt&&Et?.label&&(0,s.jsx)(K.r,{placement:"top",referenceElement:st.current,children:L}),(0,s.jsx)("div",{className:(0,a.cx)(R.label,_&&R.activeSeries,navigator?.clipboard&&R.copy),onMouseEnter:At,onMouseLeave:Mt,onClick:()=>jt(o,"label"),ref:st,children:o})]})})}):(0,s.jsx)("div",{className:(0,a.cx)(R.label,_&&R.activeSeries),children:o})]}),(0,s.jsxs)("div",{className:R.valueWrapper,children:[n&&j===m.lJ.leading&&(0,s.jsx)(y,{color:n,colorIndicator:v,position:E.Leading,lineStyle:lt}),ct?(0,s.jsxs)(s.Fragment,{children:[xt&&Et?.value&&(0,s.jsx)(K.r,{placement:"top",referenceElement:St.current,children:L}),(0,s.jsx)("div",{className:(0,a.cx)(R.value,_,navigator?.clipboard&&R.copy),style:et,onClick:()=>jt(i?i.toString():"","value"),ref:St,children:i})]}):(0,s.jsx)("div",{className:(0,a.cx)(R.value,_),style:et,children:i}),n&&j===m.lJ.trailing&&(0,s.jsx)(y,{color:n,colorIndicator:v,position:E.Trailing,lineStyle:lt})]})]})},x=(o,i,n)=>({contentWrapper:(0,a.css)({display:"flex",alignItems:"start",justifyContent:i,marginRight:n}),label:(0,a.css)({color:o.colors.text.secondary,fontWeight:400,textOverflow:"ellipsis",overflow:"hidden",marginRight:o.spacing(2)}),value:(0,a.css)({fontWeight:500,textOverflow:"ellipsis",overflow:"hidden"}),valueWrapper:(0,a.css)({display:"flex",alignItems:"center"}),activeSeries:(0,a.css)({fontWeight:o.typography.fontWeightBold,color:o.colors.text.maxContrast}),copy:(0,a.css)({cursor:"pointer"})})}}]);

//# sourceMappingURL=9348.51fea4ae09f867193d17.js.map