"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[886],{37172:(L,m,n)=>{n.d(m,{A:()=>de});var e=n(74848),a=n(22803),j=n(29189),x=n(96540),i=n(92745),b=n(43173),g=n(63142),M=n(34999),s=n(41654),P=n(83793),v=n(88552),u=n(66404),C=n(31286),E=n(45861),A=n(6773),W=n(30703);const T=({icon:t,color:o})=>{const r=(0,g.of)(G,o);return(0,e.jsx)("div",{className:r.iconCircle,children:(0,e.jsx)(W.I,{name:t,size:"xl"})})};function G(t,o){const r=t.visualization.getColorByName(o);return{iconCircle:(0,a.css)({borderRadius:t.shape.radius.circle,padding:t.spacing(1),color:r,backgroundColor:A.MV.alpha(r,.2)})}}const F=({hasPublicAccess:t,hasImageRenderer:o,onSetupPublicAccess:r})=>{const c=(0,g.of)(N);return(0,e.jsxs)(s.B,{direction:"column",gap:5,children:[(0,e.jsxs)(s.B,{direction:"column",children:[(0,e.jsx)(u.E,{variant:"h4",children:(0,e.jsx)(i.x6,{i18nKey:"provisioning.enhanced-features.header",children:"Enhance your GitHub experience"})}),(0,e.jsx)(u.E,{color:"secondary",children:(0,e.jsx)(i.x6,{i18nKey:"provisioning.enhanced-features.description",children:"Get the most out of your GitHub integration with these optional add-ons"})})]}),(0,e.jsxs)(s.B,{gap:2,direction:"row",height:"100%",children:[(0,e.jsxs)(C.a,{width:"40%",height:"100%",display:"flex",direction:"column",gap:2,alignItems:"flex-start",children:[(0,e.jsxs)(s.B,{gap:2,children:[(0,e.jsx)(T,{icon:"sync",color:"blue"}),(0,e.jsx)(T,{icon:"code-branch",color:"purple"})]}),(0,e.jsx)(i.x6,{i18nKey:"provisioning.enhanced-features.title-instant-updates-requests-webhooks",children:"Instant updates and pull requests with webhooks."}),(0,e.jsx)(C.a,{display:"flex",flex:"1",minHeight:"50px",children:(0,e.jsx)(u.E,{variant:"body",color:"secondary",children:(0,e.jsx)(i.x6,{i18nKey:"provisioning.enhanced-features.description-instant-updates",children:"Get instant updates in Grafana as soon as changes are committed. Review and approve changes using pull requests before they go live."})})}),(0,e.jsx)(E.z9,{fill:"outline",variant:"secondary",onClick:r,disabled:t,icon:t?"check":void 0,children:(0,e.jsx)(i.x6,{i18nKey:"provisioning.enhanced-features.set-up-public-webhooks",children:"Set up public webhooks"})})]}),(0,e.jsx)("div",{className:c.separator}),(0,e.jsxs)(C.a,{width:"40%",height:"100%",paddingLeft:2,display:"flex",direction:"column",gap:2,alignItems:"flex-start",children:[(0,e.jsx)(T,{icon:"camera",color:"orange"}),(0,e.jsx)(i.x6,{i18nKey:"provisioning.enhanced-features.title-visual-previews-in-pull-requests",children:"Visual previews in pull requests with image rendering"}),(0,e.jsx)(C.a,{display:"flex",flex:"1",minHeight:"50px",children:(0,e.jsx)(u.E,{variant:"body",color:"secondary",children:(0,e.jsx)(i.x6,{i18nKey:"provisioning.enhanced-features.description-visual-previews-dashboard-updates-directly-requests",children:"See visual previews of dashboard updates directly in pull requests"})})}),(0,e.jsx)(E.z9,{fill:"outline",variant:"secondary",href:"https://grafana.com/grafana/plugins/grafana-image-renderer/",icon:o?"check":"external-link-alt",disabled:o,children:(0,e.jsx)(i.x6,{i18nKey:"provisioning.enhanced-features.set-up-image-rendering",children:"Set up image rendering"})})]})]})]})};function N(t){return{separator:(0,a.css)({borderRight:`2px solid ${t.colors.border.weak}`})}}var K=n(8073),U=n(80042),O=n(91555),$=n(82781),D=n(69631);function z(){const t=(0,g.of)(k),{data:o}=(0,U.F9)(),r=o?.availableRepositoryTypes??[],{gitProviders:c,otherProviders:d}=(0,$.fo)(r);return(0,e.jsxs)(s.B,{direction:"column",gap:2,children:[c.length>0&&(0,e.jsxs)(s.B,{direction:"column",children:[(0,e.jsx)(u.E,{variant:"bodySmall",color:"secondary",children:(0,e.jsx)(i.x6,{i18nKey:"provisioning.repository-type-cards.choose-provider",children:"Choose a provider:"})}),(0,e.jsx)(s.B,{direction:"row",gap:1,wrap:!0,children:c.map(l=>(0,e.jsx)(K.Z,{href:`${O.pd}/${l.type}`,className:t.card,noMargin:!0,children:(0,e.jsxs)(s.B,{gap:2,alignItems:"center",children:[(0,e.jsx)(D.S,{type:l.type}),(0,e.jsxs)(i.x6,{i18nKey:"provisioning.repository-type-cards.configure-with-provider",values:{provider:l.label},children:["Configure with ","{{ provider }}"]})]})},l.type))})]}),d.length>0&&(0,e.jsxs)(s.B,{direction:"column",children:[(0,e.jsx)(u.E,{variant:"bodySmall",color:"secondary",children:(0,e.jsx)(i.x6,{i18nKey:"provisioning.repository-type-cards.provider-not-listed",children:"If your provider is not listed:"})}),(0,e.jsx)(s.B,{direction:"row",gap:1,wrap:!0,children:d.map(l=>(0,e.jsx)(K.Z,{href:`${O.pd}/${l.type}`,className:t.card,noMargin:!0,children:(0,e.jsxs)(s.B,{gap:2,alignItems:"center",children:[(0,e.jsx)(D.S,{type:l.type}),l.type==="local"?(0,e.jsx)(i.x6,{i18nKey:"provisioning.repository-type-cards.configure-file",children:"Configure file provisioning"}):(0,e.jsxs)(i.x6,{i18nKey:"provisioning.repository-type-cards.configure-with-provider",values:{provider:l.label},children:["Configure with ","{{ provider }}"]})]})},l.type))})]})]})}function k(){return{card:(0,a.css)({width:220})}}const H=({hasRequiredFeatures:t,onSetupFeatures:o})=>{const r=(0,g.of)(Y);return(0,e.jsxs)(s.B,{direction:"column",gap:3,children:[(0,e.jsx)(u.E,{variant:"h2",children:(0,e.jsx)(i.x6,{i18nKey:"provisioning.features-list.manage-your-dashboards-with-remote-provisioning",children:"Get started with Git Sync"})}),(0,e.jsxs)("ul",{className:r.featuresList,children:[(0,e.jsx)("li",{children:(0,e.jsx)(i.x6,{i18nKey:"provisioning.features-list.manage-dashboards-provision-updates-automatically",children:"Manage dashboards as code in Git and provision updates automatically"})}),(0,e.jsx)("li",{children:(0,e.jsx)(i.x6,{i18nKey:"provisioning.features-list.store-dashboards-in-version-controlled-storage",children:"Store dashboards in version-controlled storage for better organization and history tracking"})})]}),t?(0,e.jsx)(s.B,{direction:"row",alignItems:"center",gap:2,children:(0,e.jsx)(z,{})}):(0,e.jsx)(C.a,{children:(0,e.jsx)(E.z9,{fill:"outline",onClick:o,children:(0,e.jsx)(i.x6,{i18nKey:"provisioning.features-list.actions.set-up-required-feature-toggles",children:"Set up required feature toggles"})})})]})},Y=t=>({featuresList:(0,a.css)({listStyleType:"none",paddingLeft:0,marginLeft:t.spacing(-1),"& li":{position:"relative",paddingLeft:t.spacing(4),marginBottom:t.spacing(1),"&:before":{content:'"\u2713"',position:"absolute",left:t.spacing(1),top:"0",color:t.colors.text.secondary,fontWeight:t.typography.fontWeightBold}}})});var w=n(22787),V=n(32881),Z=n(47931),J=n(50992);const Q=({code:t,copyCode:o=!0})=>{const r=t.split(`
`).length,c=r*24<=42,d=(0,g.of)(X);return(0,e.jsxs)("div",{className:d.container,children:[o&&(0,e.jsx)(Z.b,{"aria-label":(0,i.t)("provisioning.code-block.aria-label-copy","Copy code to clipboard"),className:d.copyButton,variant:"secondary",size:"sm",icon:"copy",getText:()=>t}),(0,e.jsx)(J.B,{value:t,language:"ini",showLineNumbers:!1,showMiniMap:!1,height:c?"42px":`${Math.min(r*24,300)}px`,readOnly:!0,monacoOptions:{scrollBeyondLastLine:!1,scrollbar:{vertical:c?"hidden":"auto",horizontal:"auto"}}})]})},X=t=>({container:(0,a.css)({position:"relative",margin:`${t.spacing(2)} 0`,border:`1px solid ${t.colors.border.medium}`}),copyButton:(0,a.css)({position:"absolute",top:t.spacing(1),right:t.spacing(1),zIndex:1})}),q=({step:t})=>(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(u.E,{element:"h3",variant:"h4",children:t?.title}),t.description&&(0,e.jsx)(V.mc,{margin:"sm",children:(0,e.jsx)(u.E,{element:"p",children:t.description})}),t.code&&(0,e.jsx)(Q,{code:t.code,copyCode:t.copyCode})]});var _=n(76319);const ee=({step:t,index:o,currentStep:r,onStepClick:c,styles:d})=>{const l=o<r,p=o===r,h=o>r,S=()=>l?{icon:"check-circle",color:"success",label:(0,i.t)("provisioning.sidebar-item.label-completed-step","Completed step")}:p?{icon:"circle",color:"primary",label:(0,i.t)("provisioning.sidebar-item.label-current-step","Current step")}:{icon:"circle",color:"secondary",label:(0,i.t)("provisioning.sidebar-item.label-pending-step","Pending step")},{icon:y,color:f,label:B}=S(),I=()=>c(o),R=ge=>{ge.stopPropagation(),c(o)};return(0,e.jsx)(K.Z,{noMargin:!0,className:`${d.stepItem} ${p?d.activeStep:""} ${d.plainCard}`,onClick:I,children:(0,e.jsxs)(s.B,{direction:"row",alignItems:"center",gap:2,children:[(0,e.jsx)(_.K,{name:y,size:"sm",variant:h?"secondary":"primary",color:f,"aria-label":B,onClick:R}),(0,e.jsx)(u.E,{color:p?"primary":"secondary",weight:p?"medium":"regular",children:t})]})})},te=t=>({stepItem:(0,a.css)({padding:t.spacing(1),cursor:"pointer","&:hover":{background:t.colors.action.hover}}),activeStep:(0,a.css)({color:t.colors.primary.text}),plainCard:(0,a.css)({background:"transparent",border:"none",boxShadow:"none"})}),ne=({steps:t,currentStep:o,onStepClick:r})=>{const c=(0,g.of)(te);return t.length===0||t.length===1?null:(0,e.jsx)(C.a,{width:"260px",padding:1,children:(0,e.jsx)(s.B,{direction:"column",gap:1,children:t.map((d,l)=>(0,e.jsx)(ee,{step:d,index:l,currentStep:o,onStepClick:r,styles:c},l))})})},ie=({title:t,description:o,steps:r,isOpen:c,onDismiss:d})=>{const l=(0,g.of)(se),[p,h]=(0,x.useState)(0),S=p===0,y=p===r.length-1,f=r.map(R=>R.title),B=()=>!y&&h(p+1),I=()=>!S&&h(p-1);return(0,e.jsxs)(w.a,{isOpen:c,title:t,onDismiss:d,className:l.modal,children:[(0,e.jsxs)(s.B,{direction:"column",gap:4,children:[(0,e.jsx)(u.E,{variant:"body",color:"secondary",children:o}),(0,e.jsxs)(s.B,{direction:"row",height:"100%",children:[(0,e.jsx)(ne,{steps:f,currentStep:p,onStepClick:h}),(0,e.jsx)("div",{className:l.contentWrapper,children:(0,e.jsx)(q,{step:r[p]})})]})]}),(0,e.jsx)(w.a.ButtonRow,{children:(0,e.jsxs)(s.B,{direction:"row",justifyContent:"flex-end",gap:2,children:[(0,e.jsx)(E.$n,{variant:"secondary",onClick:I,disabled:S,children:(0,e.jsx)(i.x6,{i18nKey:"provisioning.setup-modal.previous",children:"Previous"})}),y?(0,e.jsx)(E.$n,{variant:"primary",onClick:d,icon:"check-circle",children:(0,e.jsx)(i.x6,{i18nKey:"provisioning.setup-modal.done",children:"Done"})}):(0,e.jsx)(E.$n,{variant:"primary",onClick:B,children:(0,e.jsx)(i.x6,{i18nKey:"provisioning.setup-modal.next",children:"Next"})})]})})]})},se=t=>({modal:(0,a.css)({width:"1100px",maxWidth:"95%"}),description:(0,a.css)({marginBottom:t.spacing(3),padding:t.spacing(0,1)}),contentWrapper:(0,a.css)({flex:1,overflowY:"auto",minWidth:0,padding:t.spacing(2),borderLeft:`1px solid ${t.colors.border.weak}`}),footer:(0,a.css)({padding:t.spacing(2),borderTop:`1px solid ${t.colors.border.weak}`,marginTop:t.spacing(2)})});var oe=n(53247);const re=`# In your custom.ini file

[feature_toggles]
provisioning = true
kubernetesDashboards = true ; use k8s from browser
`,ae=`ngrok http 3000

Help shape K8s Bindings https://ngrok.com/new-features-update?ref=k8s

Session Status                online
Account                       Roberto Jim\xE9nez S\xE1nchez (Plan: Free)
Version                       3.18.4
Region                        Europe (eu)
Latency                       44ms
Web Interface                 http://127.0.0.1:4040
Forwarding                    https://d60d-83-33-235-27.ngrok-free.app -> http://localhost:3000
Connections                   ttl     opn     rt1     rt5     p50     p90
                              50      2       0.00    0.00    83.03   90.56

HTTP Requests
-------------

09:18:46.147 CET             GET  /favicon.ico                   302 Found
09:18:46.402 CET             GET  /login`,le=`[server]
root_url = https://d60d-83-33-235-27.ngrok-free.app`,ce=t=>{switch(t){case"public-access":return{title:(0,i.t)("provisioning.getting-started.modal-title-set-up-public-access","Set up public access"),description:(0,i.t)("provisioning.getting-started.modal-description-public-access","Set up public access to your Grafana instance to enable GitHub integration"),steps:[{title:(0,i.t)("provisioning.getting-started.step-title-start-ngrok","Start ngrok for temporary public access"),description:(0,i.t)("provisioning.getting-started.step-description-start-ngrok","Run this command to create a secure tunnel to your local Grafana:"),code:"ngrok http 3000"},{title:(0,i.t)("provisioning.getting-started.step-title-copy-url","Copy your public URL"),description:(0,i.t)("provisioning.getting-started.step-description-copy-url","From the ngrok output, copy the https:// forwarding URL that looks like this:"),code:ae,copyCode:!1},{title:(0,i.t)("provisioning.getting-started.step-title-update-grafana-config","Update your Grafana configuration"),description:(0,i.t)("provisioning.getting-started.step-description-update-grafana-config","Add this to your custom.ini file, replacing the URL with your actual ngrok URL:"),code:le}]};case"required-features":return{title:(0,i.t)("provisioning.getting-started.modal-title-set-up-required-features","Set up required features"),description:(0,i.t)("provisioning.getting-started.modal-description-required-features","Enable required Grafana features for provisioning"),steps:[{title:(0,i.t)("provisioning.getting-started.step-title-enable-feature-toggles","Enable Required Feature Toggles"),description:(0,i.t)("provisioning.getting-started.step-description-enable-feature-toggles","Add these settings to your custom.ini file to enable necessary features:"),code:re}]};default:return{title:"",description:"",steps:[]}}};function de({items:t}){const o=(0,g.of)(pe),r=b.$.featureToggles.provisioning?void 0:j.hT,c=(0,P.F9)(r,{refetchOnMountOrArgChange:!0}),d=c.data?.legacyStorage,l=!!c.data?.items?.length,{hasPublicAccess:p,hasImageRenderer:h,hasRequiredFeatures:S}=(0,oe.NY)(),[y,f]=(0,x.useState)(!1),[B,I]=(0,x.useState)(null);return(0,e.jsxs)(e.Fragment,{children:[d&&(0,e.jsx)(M.F,{severity:"info",title:(0,i.t)("provisioning.getting-started.title-setting-connection-could-cause-temporary-outage","Setting up this connection could cause a temporary outage"),children:(0,e.jsx)(i.x6,{i18nKey:"provisioning.getting-started.alert-temporary-outage",children:"When you connect your whole instance, dashboards will be unavailable while running the migration. We recommend warning your users before starting the process."})}),(0,e.jsxs)(s.B,{direction:"column",gap:6,wrap:"wrap",children:[(0,e.jsxs)(s.B,{gap:10,alignItems:"center",children:[(0,e.jsx)("div",{className:o.imageContainer,children:(0,e.jsx)("img",{src:v,className:o.image,alt:"Grafana provisioning"})}),(0,e.jsx)(H,{hasRequiredFeatures:S,onSetupFeatures:()=>{I("required-features"),f(!0)}})]}),(!p||!h)&&l&&(0,e.jsx)(F,{hasPublicAccess:p,hasImageRenderer:h,onSetupPublicAccess:()=>{I("public-access"),f(!0)}})]}),y&&B&&(0,e.jsx)(ie,{...ce(B),isOpen:y,onDismiss:()=>f(!1)})]})}function pe(t){return{imageContainer:(0,a.css)({height:350,display:"flex",alignItems:"center",justifyContent:"center"}),image:(0,a.css)({borderRadius:t.shape.radius.default,width:"100%",height:"100%"})}}},69631:(L,m,n)=>{n.d(m,{S:()=>g});var e=n(74848),a=n(22803),j=n(30703),x=n(63142),i=n(58851),b=n(82781);function g({type:s}){const P=(0,x.of)(M),v=s?(0,b.R0)(s):void 0;return v?(0,e.jsx)(e.Fragment,{children:v.logo?(0,e.jsx)("img",{src:v.logo,alt:v.label,className:P.logo}):(0,e.jsx)(j.I,{name:v.icon,size:"xxl"})}):(0,e.jsx)(j.I,{name:"database",size:"xxl"})}function M(){return{logo:(0,a.css)({width:(0,i.cs)("xxl"),height:(0,i.cs)("xxl")})}}},90886:(L,m,n)=>{n.r(m),n.d(m,{default:()=>M});var e=n(74848),a=n(92745),j=n(89640),x=n(66404),i=n(31286),b=n(13791),g=n(37172);function M({items:P}){return(0,e.jsx)(b.Y,{navId:"provisioning",pageNav:{text:(0,a.t)("provisioning.getting-started-page.header","Provisioning"),subTitle:(0,a.t)("provisioning.getting-started-page.subtitle-provisioning-feature","View and manage your provisioning connections")},children:(0,e.jsxs)(b.Y.Contents,{children:[(0,e.jsx)(s,{}),(0,e.jsx)(g.A,{items:P})]})})}function s(){return(0,e.jsx)(i.a,{display:"flex",backgroundColor:"info",borderRadius:"default",paddingY:2,paddingX:2,marginBottom:3,alignItems:"stretch",children:(0,e.jsx)(x.E,{children:(0,e.jsxs)(a.x6,{i18nKey:"provisioning.banner.message",children:["This feature is currently under active development. For the best experience and latest improvements, we recommend using the"," ",(0,e.jsx)(j.Y,{href:"https://grafana.com/grafana/download/nightly",external:!0,children:"nightly build"})," ","of Grafana."]})})})}}}]);

//# sourceMappingURL=886.d7838b0c0111438104ae.js.map