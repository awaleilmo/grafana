{"version":3,"file":"5074.92e2d1ae98dcd913506e.js","mappings":"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","sources":["webpack://grafana/./node_modules/@grafana/plugin-ui/dist/esm/components/ConfigEditor/ConfigSection/ConfigSection.js","webpack://grafana/./node_modules/@grafana/aws-sdk/dist/esm/regions.js","webpack://grafana/./node_modules/@grafana/aws-sdk/dist/esm/types.js","webpack://grafana/./node_modules/@grafana/aws-sdk/dist/esm/providers.js","webpack://grafana/./node_modules/@grafana/aws-sdk/dist/esm/components/ConnectionConfig.styles.js","webpack://grafana/./node_modules/@grafana/aws-sdk/dist/esm/components/ConnectionConfig.js","webpack://grafana/./node_modules/@grafana/aws-sdk/dist/esm/components/utils/version.js","webpack://grafana/./node_modules/@grafana/aws-sdk/dist/esm/components/Divider.js","webpack://grafana/./node_modules/@grafana/aws-sdk/dist/esm/components/SIGV4ConnectionConfig.js","webpack://grafana/./node_modules/@grafana/aws-sdk/dist/esm/sql/ResourceSelector.js","webpack://grafana/./node_modules/@grafana/aws-sdk/dist/esm/sql/ConfigEditor/ConfigSelect.js","webpack://grafana/./node_modules/@grafana/aws-sdk/dist/esm/sql/ConfigEditor/InlineInput.js","webpack://grafana/./node_modules/@grafana/aws-sdk/dist/esm/sql/QueryEditor/QueryCodeEditor.js","webpack://grafana/./node_modules/@grafana/async-query-data/dist/esm/requestLooper.js","webpack://grafana/./node_modules/@grafana/async-query-data/dist/esm/node_modules/rxjs/dist/esm5/internal/util/isFunction.js","webpack://grafana/./node_modules/@grafana/async-query-data/dist/esm/node_modules/rxjs/dist/esm5/internal/util/lift.js","webpack://grafana/./node_modules/@grafana/async-query-data/dist/esm/node_modules/rxjs/dist/esm5/internal/util/createErrorClass.js","webpack://grafana/./node_modules/@grafana/async-query-data/dist/esm/node_modules/rxjs/dist/esm5/internal/util/UnsubscriptionError.js","webpack://grafana/./node_modules/@grafana/async-query-data/dist/esm/node_modules/rxjs/dist/esm5/internal/util/arrRemove.js","webpack://grafana/./node_modules/@grafana/async-query-data/dist/esm/node_modules/rxjs/dist/esm5/internal/Subscription.js","webpack://grafana/./node_modules/@grafana/async-query-data/dist/esm/node_modules/rxjs/dist/esm5/internal/scheduler/timeoutProvider.js","webpack://grafana/./node_modules/@grafana/async-query-data/dist/esm/node_modules/rxjs/dist/esm5/internal/util/reportUnhandledError.js","webpack://grafana/./node_modules/@grafana/async-query-data/dist/esm/node_modules/rxjs/dist/esm5/internal/util/noop.js","webpack://grafana/./node_modules/@grafana/async-query-data/dist/esm/node_modules/rxjs/dist/esm5/internal/Subscriber.js","webpack://grafana/./node_modules/@grafana/async-query-data/dist/esm/node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js","webpack://grafana/./node_modules/@grafana/async-query-data/dist/esm/node_modules/rxjs/dist/esm5/internal/operators/map.js","webpack://grafana/./node_modules/@grafana/async-query-data/dist/esm/node_modules/rxjs/dist/esm5/internal/util/isArrayLike.js","webpack://grafana/./node_modules/@grafana/async-query-data/dist/esm/node_modules/rxjs/dist/esm5/internal/util/isPromise.js","webpack://grafana/./node_modules/@grafana/async-query-data/dist/esm/node_modules/rxjs/dist/esm5/internal/symbol/observable.js","webpack://grafana/./node_modules/@grafana/async-query-data/dist/esm/node_modules/rxjs/dist/esm5/internal/util/identity.js","webpack://grafana/./node_modules/@grafana/async-query-data/dist/esm/node_modules/rxjs/dist/esm5/internal/util/pipe.js","webpack://grafana/./node_modules/@grafana/async-query-data/dist/esm/node_modules/rxjs/dist/esm5/internal/config.js","webpack://grafana/./node_modules/@grafana/async-query-data/dist/esm/node_modules/rxjs/dist/esm5/internal/util/errorContext.js","webpack://grafana/./node_modules/@grafana/async-query-data/dist/esm/node_modules/rxjs/dist/esm5/internal/Observable.js","webpack://grafana/./node_modules/@grafana/async-query-data/dist/esm/node_modules/rxjs/dist/esm5/internal/util/isInteropObservable.js","webpack://grafana/./node_modules/@grafana/async-query-data/dist/esm/node_modules/rxjs/dist/esm5/internal/util/isAsyncIterable.js","webpack://grafana/./node_modules/@grafana/async-query-data/dist/esm/node_modules/rxjs/dist/esm5/internal/util/throwUnobservableError.js","webpack://grafana/./node_modules/@grafana/async-query-data/dist/esm/node_modules/rxjs/dist/esm5/internal/symbol/iterator.js","webpack://grafana/./node_modules/@grafana/async-query-data/dist/esm/node_modules/rxjs/dist/esm5/internal/util/isIterable.js","webpack://grafana/./node_modules/@grafana/async-query-data/dist/esm/node_modules/rxjs/dist/esm5/internal/util/isReadableStreamLike.js","webpack://grafana/./node_modules/@grafana/async-query-data/dist/esm/node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js","webpack://grafana/./node_modules/@grafana/async-query-data/dist/esm/node_modules/rxjs/dist/esm5/internal/operators/catchError.js","webpack://grafana/./node_modules/@grafana/async-query-data/dist/esm/DatasourceWithAsyncBackend.js","webpack://grafana/./node_modules/@grafana/async-query-data/dist/esm/RunQueryButtons.js","webpack://grafana/./node_modules/@grafana/aws-sdk/dist/esm/sql/QueryEditor/QueryEditorHeader.js","webpack://grafana/./node_modules/@grafana/aws-sdk/dist/esm/sql/QueryEditor/FormatSelect.js","webpack://grafana/./node_modules/@grafana/aws-sdk/dist/esm/sql/QueryEditor/FillValueSelect.js","webpack://grafana/./node_modules/@grafana/plugin-ui/dist/esm/components/ConfigEditor/ConfigSection/ConfigSubSection.js","webpack://grafana/./node_modules/@grafana/plugin-ui/dist/esm/components/ConfigEditor/ConfigSection/GenericConfigSection.js"],"sourcesContent":["import React__default from 'react';\nimport { GenericConfigSection } from './GenericConfigSection.js';\n\nconst ConfigSection = ({ children, ...props }) => {\n  return /* @__PURE__ */ React__default.createElement(GenericConfigSection, { ...props, kind: \"section\" }, children);\n};\n\nexport { ConfigSection };\n//# sourceMappingURL=ConfigSection.js.map\n","const standardRegions = [\n  \"af-south-1\",\n  \"ap-east-1\",\n  \"ap-northeast-1\",\n  \"ap-northeast-2\",\n  \"ap-northeast-3\",\n  \"ap-south-1\",\n  \"ap-south-2\",\n  \"ap-southeast-1\",\n  \"ap-southeast-2\",\n  \"ap-southeast-3\",\n  \"ap-southeast-4\",\n  \"ca-central-1\",\n  \"ca-west-1\",\n  \"cn-north-1\",\n  \"cn-northwest-1\",\n  \"eu-central-1\",\n  \"eu-central-2\",\n  \"eu-north-1\",\n  \"eu-south-1\",\n  \"eu-south-2\",\n  \"eu-west-1\",\n  \"eu-west-2\",\n  \"eu-west-3\",\n  \"il-central-1\",\n  \"me-central-1\",\n  \"me-south-1\",\n  \"sa-east-1\",\n  \"us-east-1\",\n  \"us-east-2\",\n  \"us-gov-east-1\",\n  \"us-gov-west-1\",\n  \"us-iso-east-1\",\n  \"us-isob-east-1\",\n  \"us-west-1\",\n  \"us-west-2\"\n];\n\nexport { standardRegions };\n//# sourceMappingURL=regions.js.map\n","var AwsAuthType = /* @__PURE__ */ ((AwsAuthType2) => {\n  AwsAuthType2[\"Keys\"] = \"keys\";\n  AwsAuthType2[\"Credentials\"] = \"credentials\";\n  AwsAuthType2[\"Default\"] = \"default\";\n  AwsAuthType2[\"EC2IAMRole\"] = \"ec2_iam_role\";\n  AwsAuthType2[\"ARN\"] = \"arn\";\n  AwsAuthType2[\"GrafanaAssumeRole\"] = \"grafana_assume_role\";\n  return AwsAuthType2;\n})(AwsAuthType || {});\n\nexport { AwsAuthType };\n//# sourceMappingURL=types.js.map\n","import { AwsAuthType } from './types.js';\n\nconst awsAuthProviderOptions = [\n  {\n    label: \"Workspace IAM Role\",\n    value: AwsAuthType.EC2IAMRole\n  },\n  {\n    label: \"Grafana Assume Role\",\n    value: AwsAuthType.GrafanaAssumeRole\n  },\n  {\n    label: \"AWS SDK Default\",\n    value: AwsAuthType.Default\n  },\n  {\n    label: \"Access & secret key\",\n    value: AwsAuthType.Keys\n  },\n  {\n    label: \"Credentials file\",\n    value: AwsAuthType.Credentials\n  }\n];\n\nexport { awsAuthProviderOptions };\n//# sourceMappingURL=providers.js.map\n","import { css } from '@emotion/css';\n\nconst assumeRoleInstructionsStyle = css({\n  maxWidth: \"715px\"\n});\n\nexport { assumeRoleInstructionsStyle };\n//# sourceMappingURL=ConnectionConfig.styles.js.map\n","import React, { useState, useMemo, useEffect } from 'react';\nimport { Field, Select, Input, ButtonGroup, ToolbarButton, Collapse } from '@grafana/ui';\nimport { onUpdateDatasourceJsonDataOptionSelect, onUpdateDatasourceJsonDataOption, onUpdateDatasourceResetOption, onUpdateDatasourceSecureJsonDataOption } from '@grafana/data';\nimport { config } from '@grafana/runtime';\nimport { standardRegions } from '../regions.js';\nimport { AwsAuthType } from '../types.js';\nimport { awsAuthProviderOptions } from '../providers.js';\nimport { assumeRoleInstructionsStyle } from './ConnectionConfig.styles.js';\nimport { ConfigSection, ConfigSubSection } from '@grafana/plugin-ui';\n\nconst DEFAULT_LABEL_WIDTH = 28;\nconst DS_TYPES_THAT_SUPPORT_TEMP_CREDS = [\"cloudwatch\", \"grafana-athena-datasource\"];\nconst toOption = (value) => ({ value, label: value });\nconst isAwsAuthType = (value) => {\n  return typeof value === \"string\" && awsAuthProviderOptions.some((opt) => opt.value === value);\n};\nconst ConnectionConfig = (props) => {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _i;\n  const [isARNInstructionsOpen, setIsARNInstructionsOpen] = useState(false);\n  const [regions, setRegions] = useState((props.standardRegions || standardRegions).map(toOption));\n  const {\n    loadRegions,\n    onOptionsChange,\n    skipHeader = false,\n    skipEndpoint = false,\n    options,\n    hideAssumeRoleArn = false\n  } = props;\n  let profile = options.jsonData.profile;\n  if (profile === void 0) {\n    profile = options.database;\n  }\n  const tempCredsFeatureEnabled = config.featureToggles.awsDatasourcesTempCredentials && DS_TYPES_THAT_SUPPORT_TEMP_CREDS.includes(options.type);\n  const awsAssumeRoleEnabled = (_a = config.awsAssumeRoleEnabled) != null ? _a : true;\n  const awsAllowedAuthProviders = useMemo(\n    () => config.awsAllowedAuthProviders.filter((provider) => provider === AwsAuthType.GrafanaAssumeRole ? tempCredsFeatureEnabled : true).filter(isAwsAuthType),\n    [tempCredsFeatureEnabled]\n  );\n  const currentProvider = awsAuthProviderOptions.find((p) => p.value === options.jsonData.authType);\n  useEffect(() => {\n    if (!currentProvider && awsAllowedAuthProviders.length) {\n      onOptionsChange({\n        ...options,\n        jsonData: {\n          ...options.jsonData,\n          authType: awsAllowedAuthProviders[0]\n        }\n      });\n    }\n  }, [currentProvider, options, onOptionsChange, awsAllowedAuthProviders]);\n  useEffect(() => {\n    if (!loadRegions) {\n      return;\n    }\n    loadRegions().then((regions2) => setRegions(regions2.map(toOption)));\n  }, [loadRegions]);\n  return /* @__PURE__ */ React.createElement(\"div\", { \"data-testid\": \"connection-config\" }, /* @__PURE__ */ React.createElement(ConfigSection, { title: skipHeader ? \"\" : \"Connection Details\", \"data-testid\": \"connection-config\" }, /* @__PURE__ */ React.createElement(ConfigSubSection, { title: \"Authentication\" }, /* @__PURE__ */ React.createElement(\n    Field,\n    {\n      label: \"Authentication Provider\",\n      description: \"Specify which AWS credentials chain to use.\",\n      htmlFor: \"authProvider\"\n    },\n    /* @__PURE__ */ React.createElement(\n      Select,\n      {\n        \"aria-label\": \"Authentication Provider\",\n        inputId: \"authProvider\",\n        value: currentProvider,\n        options: awsAuthProviderOptions.filter((opt) => awsAllowedAuthProviders.includes(opt.value)),\n        defaultValue: options.jsonData.authType,\n        onChange: (option) => {\n          onUpdateDatasourceJsonDataOptionSelect(props, \"authType\")(option);\n        },\n        menuShouldPortal: true\n      }\n    )\n  ), options.jsonData.authType === \"credentials\" && /* @__PURE__ */ React.createElement(\n    Field,\n    {\n      label: \"Credentials Profile Name\",\n      description: \"Credentials profile name, as specified in ~/.aws/credentials, leave blank for default.\",\n      htmlFor: \"credentialsProfileName\"\n    },\n    /* @__PURE__ */ React.createElement(\n      Input,\n      {\n        id: \"credentialsProfileName\",\n        placeholder: \"default\",\n        value: options.jsonData.profile,\n        onChange: onUpdateDatasourceJsonDataOption(props, \"profile\")\n      }\n    )\n  ), options.jsonData.authType === \"keys\" && /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Field, { label: \"Access Key ID\", htmlFor: \"accessKeyId\" }, ((_b = props.options.secureJsonFields) == null ? void 0 : _b.accessKey) ? /* @__PURE__ */ React.createElement(ButtonGroup, null, /* @__PURE__ */ React.createElement(Input, { disabled: true, placeholder: \"Configured\", id: \"accessKeyId\" }), /* @__PURE__ */ React.createElement(\n    ToolbarButton,\n    {\n      icon: \"edit\",\n      tooltip: \"Edit Access Key ID\",\n      type: \"button\",\n      onClick: onUpdateDatasourceResetOption(props, \"accessKey\")\n    }\n  )) : /* @__PURE__ */ React.createElement(\n    Input,\n    {\n      id: \"accessKeyId\",\n      value: (_d = (_c = options.secureJsonData) == null ? void 0 : _c.accessKey) != null ? _d : \"\",\n      onChange: onUpdateDatasourceSecureJsonDataOption(props, \"accessKey\")\n    }\n  )), /* @__PURE__ */ React.createElement(Field, { label: \"Secret Access Key\", htmlFor: \"secretKey\" }, ((_e = props.options.secureJsonFields) == null ? void 0 : _e.secretKey) ? /* @__PURE__ */ React.createElement(ButtonGroup, null, /* @__PURE__ */ React.createElement(Input, { disabled: true, placeholder: \"Configured\" }), /* @__PURE__ */ React.createElement(\n    ToolbarButton,\n    {\n      id: \"secretKey\",\n      icon: \"edit\",\n      type: \"button\",\n      tooltip: \"Edit Secret Access Key\",\n      onClick: onUpdateDatasourceResetOption(props, \"secretKey\")\n    }\n  )) : /* @__PURE__ */ React.createElement(\n    Input,\n    {\n      id: \"secretKey\",\n      value: (_g = (_f = options.secureJsonData) == null ? void 0 : _f.secretKey) != null ? _g : \"\",\n      onChange: onUpdateDatasourceSecureJsonDataOption(props, \"secretKey\")\n    }\n  )))), !hideAssumeRoleArn && /* @__PURE__ */ React.createElement(ConfigSubSection, { title: \"Assume Role\" }, options.jsonData.authType === AwsAuthType.GrafanaAssumeRole && /* @__PURE__ */ React.createElement(\"div\", { className: assumeRoleInstructionsStyle }, /* @__PURE__ */ React.createElement(\n    Collapse,\n    {\n      label: \"How to create an IAM role for grafana to assume:\",\n      collapsible: true,\n      isOpen: isARNInstructionsOpen,\n      onToggle: () => setIsARNInstructionsOpen(!isARNInstructionsOpen)\n    },\n    /* @__PURE__ */ React.createElement(\"ol\", null, /* @__PURE__ */ React.createElement(\"li\", null, /* @__PURE__ */ React.createElement(\"p\", null, \"1. Create a new IAM role in the AWS console, and select \", /* @__PURE__ */ React.createElement(\"code\", null, \"Another AWS account\"), \" as the\", \" \", /* @__PURE__ */ React.createElement(\"code\", null, \"Trusted entity\"), \".\")), /* @__PURE__ */ React.createElement(\"li\", null, /* @__PURE__ */ React.createElement(\"p\", null, \"2. Enter the account ID of the Grafana account that has permission to assume this role:\", /* @__PURE__ */ React.createElement(\"code\", null, \" 008923505280 \"), \" and check the \", /* @__PURE__ */ React.createElement(\"code\", null, \"Require external ID\"), \" box.\")), /* @__PURE__ */ React.createElement(\"li\", null, /* @__PURE__ */ React.createElement(\"p\", null, \"3. Enter the following external ID:\", \" \", /* @__PURE__ */ React.createElement(\"code\", null, props.externalId || \"External Id is currently unavailable\"), \" and click\", \" \", /* @__PURE__ */ React.createElement(\"code\", null, \"Next\"), \".\")), /* @__PURE__ */ React.createElement(\"li\", null, /* @__PURE__ */ React.createElement(\"p\", null, \"4. Add any required permissions you would like Grafana to be able to access on your behalf. For more details on our permissions please\", \" \", /* @__PURE__ */ React.createElement(\n      \"a\",\n      {\n        href: \"https://grafana.com/docs/grafana/latest/datasources/aws-cloudwatch/\",\n        target: \"_blank\",\n        rel: \"noreferrer\"\n      },\n      \"read through our documentation\"\n    ), \".\")), /* @__PURE__ */ React.createElement(\"li\", null, /* @__PURE__ */ React.createElement(\"p\", null, \"5. Give the role a name and description, and click \", /* @__PURE__ */ React.createElement(\"code\", null, \"Create role\"), \".\")), /* @__PURE__ */ React.createElement(\"li\", null, /* @__PURE__ */ React.createElement(\"p\", null, \"6. Copy the ARN of the role you just created and paste it into the \", /* @__PURE__ */ React.createElement(\"code\", null, \"Assume Role ARN\"), \" \", \"field below.\")))\n  )), awsAssumeRoleEnabled && /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\n    Field,\n    {\n      htmlFor: \"assumeRoleArn\",\n      label: \"Assume Role ARN\",\n      description: \"Optional. Specifying the ARN of a role will ensure that the\\n                     selected authentication provider is used to assume the role rather than the\\n                     credentials directly.\"\n    },\n    /* @__PURE__ */ React.createElement(\n      Input,\n      {\n        id: \"assumeRoleArn\",\n        placeholder: \"arn:aws:iam:*\",\n        value: options.jsonData.assumeRoleArn || \"\",\n        onChange: onUpdateDatasourceJsonDataOption(props, \"assumeRoleArn\")\n      }\n    )\n  ), options.jsonData.authType !== AwsAuthType.GrafanaAssumeRole && /* @__PURE__ */ React.createElement(\n    Field,\n    {\n      htmlFor: \"externalId\",\n      label: \"External ID\",\n      description: \"If you are assuming a role in another account, that has been created with an external ID, specify the external ID here.\"\n    },\n    /* @__PURE__ */ React.createElement(\n      Input,\n      {\n        id: \"externalId\",\n        placeholder: \"External ID\",\n        value: options.jsonData.externalId || \"\",\n        onChange: onUpdateDatasourceJsonDataOption(props, \"externalId\")\n      }\n    )\n  ))), /* @__PURE__ */ React.createElement(ConfigSubSection, { title: \"Additional Settings\" }, !skipEndpoint && options.jsonData.authType !== AwsAuthType.GrafanaAssumeRole && /* @__PURE__ */ React.createElement(\n    Field,\n    {\n      label: \"Endpoint\",\n      description: \"Optionally, specify a custom endpoint for the service\",\n      htmlFor: \"endpoint\"\n    },\n    /* @__PURE__ */ React.createElement(\n      Input,\n      {\n        id: \"endpoint\",\n        placeholder: (_h = props.defaultEndpoint) != null ? _h : \"https://{service}.{region}.amazonaws.com\",\n        value: options.jsonData.endpoint || \"\",\n        onChange: onUpdateDatasourceJsonDataOption(props, \"endpoint\")\n      }\n    )\n  ), /* @__PURE__ */ React.createElement(\n    Field,\n    {\n      label: \"Default Region\",\n      description: \"Specify the region, such as for US West (Oregon) use ` us-west-2 ` as the region.\",\n      htmlFor: \"defaultRegion\"\n    },\n    /* @__PURE__ */ React.createElement(\n      Select,\n      {\n        inputId: \"defaultRegion\",\n        value: (_i = regions.find((region) => region.value === options.jsonData.defaultRegion)) != null ? _i : options.jsonData.defaultRegion ? {\n          label: options.jsonData.defaultRegion,\n          value: options.jsonData.defaultRegion\n        } : void 0,\n        options: regions,\n        defaultValue: options.jsonData.defaultRegion,\n        allowCustomValue: true,\n        onChange: onUpdateDatasourceJsonDataOptionSelect(props, \"defaultRegion\"),\n        formatCreateLabel: (r) => `Use region: ${r}`,\n        menuShouldPortal: true\n      }\n    )\n  )), props.children));\n};\n\nexport { ConnectionConfig, DEFAULT_LABEL_WIDTH };\n//# sourceMappingURL=ConnectionConfig.js.map\n","import { isNumber } from 'lodash';\n\nconst versionPattern = /^(\\d+)(?:\\.(\\d+))?(?:\\.(\\d+))?(?:-([0-9A-Za-z\\.]+))?/;\nclass SemVersion {\n  constructor(version) {\n    this.major = 0;\n    this.minor = 0;\n    this.patch = 0;\n    this.meta = \"\";\n    const match = versionPattern.exec(version);\n    if (match) {\n      this.major = Number(match[1]);\n      this.minor = Number(match[2] || 0);\n      this.patch = Number(match[3] || 0);\n      this.meta = match[4];\n    }\n  }\n  isGtOrEq(version) {\n    const compared = new SemVersion(version);\n    for (let i = 0; i < this.comparable.length; ++i) {\n      if (this.comparable[i] > compared.comparable[i]) {\n        return true;\n      }\n      if (this.comparable[i] < compared.comparable[i]) {\n        return false;\n      }\n    }\n    return true;\n  }\n  isValid() {\n    return isNumber(this.major);\n  }\n  get comparable() {\n    return [this.major, this.minor, this.patch];\n  }\n}\nfunction isVersionGtOrEq(a, b) {\n  const aSemver = new SemVersion(a);\n  return aSemver.isGtOrEq(b);\n}\n\nexport { SemVersion, isVersionGtOrEq };\n//# sourceMappingURL=version.js.map\n","import React from 'react';\nimport { useTheme2, Divider as Divider$1 } from '@grafana/ui';\nimport { config } from '@grafana/runtime';\nimport { isVersionGtOrEq } from './utils/version.js';\n\nfunction Divider() {\n  const theme = useTheme2();\n  if (isVersionGtOrEq(config.buildInfo.version, \"10.1.0\")) {\n    return /* @__PURE__ */ React.createElement(Divider$1, null);\n  }\n  return /* @__PURE__ */ React.createElement(\n    \"div\",\n    {\n      style: { borderTop: `1px solid ${theme.colors.border.weak}`, margin: theme.spacing(2, 0), width: \"100%\" }\n    }\n  );\n}\n\nexport { Divider };\n//# sourceMappingURL=Divider.js.map\n","import React from 'react';\nimport { ConnectionConfig } from './ConnectionConfig.js';\n\nconst SIGV4ConnectionConfig = (props) => {\n  var _a, _b, _c, _d;\n  const { onOptionsChange, options } = props;\n  const connectionConfigProps = {\n    onOptionsChange: (awsDataSourceSettings) => {\n      var _a2, _b2, _c2, _d2;\n      const dataSourceSettings = {\n        ...options,\n        jsonData: {\n          ...options.jsonData,\n          sigV4AuthType: awsDataSourceSettings.jsonData.authType,\n          sigV4Profile: awsDataSourceSettings.jsonData.profile,\n          sigV4AssumeRoleArn: awsDataSourceSettings.jsonData.assumeRoleArn,\n          sigV4ExternalId: awsDataSourceSettings.jsonData.externalId,\n          sigV4Region: awsDataSourceSettings.jsonData.defaultRegion,\n          sigV4Endpoint: awsDataSourceSettings.jsonData.endpoint\n        },\n        secureJsonFields: {\n          sigV4AccessKey: (_a2 = awsDataSourceSettings.secureJsonFields) == null ? void 0 : _a2.accessKey,\n          sigV4SecretKey: (_b2 = awsDataSourceSettings.secureJsonFields) == null ? void 0 : _b2.secretKey\n        },\n        secureJsonData: {\n          sigV4AccessKey: (_c2 = awsDataSourceSettings.secureJsonData) == null ? void 0 : _c2.accessKey,\n          sigV4SecretKey: (_d2 = awsDataSourceSettings.secureJsonData) == null ? void 0 : _d2.secretKey\n        }\n      };\n      onOptionsChange(dataSourceSettings);\n    },\n    options: {\n      ...options,\n      jsonData: {\n        ...options.jsonData,\n        authType: options.jsonData.sigV4AuthType,\n        profile: options.jsonData.sigV4Profile,\n        assumeRoleArn: options.jsonData.sigV4AssumeRoleArn,\n        externalId: options.jsonData.sigV4ExternalId,\n        defaultRegion: options.jsonData.sigV4Region,\n        endpoint: options.jsonData.sigV4Endpoint\n      },\n      secureJsonFields: {\n        accessKey: (_a = options.secureJsonFields) == null ? void 0 : _a.sigV4AccessKey,\n        secretKey: (_b = options.secureJsonFields) == null ? void 0 : _b.sigV4SecretKey\n      },\n      secureJsonData: {\n        accessKey: (_c = options.secureJsonData) == null ? void 0 : _c.sigV4AccessKey,\n        secretKey: (_d = options.secureJsonData) == null ? void 0 : _d.sigV4SecretKey\n      }\n    },\n    inExperimentalAuthComponent: props.inExperimentalAuthComponent\n  };\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\"div\", { className: \"gf-form\" }, /* @__PURE__ */ React.createElement(\"h6\", null, \"SigV4 Auth Details\")), /* @__PURE__ */ React.createElement(ConnectionConfig, { ...connectionConfigProps, skipHeader: true, skipEndpoint: true }));\n};\n\nexport { SIGV4ConnectionConfig };\n//# sourceMappingURL=SIGV4ConnectionConfig.js.map\n","import { Select } from '@grafana/ui';\nimport { isEqual } from 'lodash';\nimport React, { useRef, useState, useMemo, useEffect } from 'react';\nimport { defaultKey } from './types.js';\n\nfunction ResourceSelector(props) {\n  const propsDependencies = props.dependencies;\n  const propsOnChange = props.onChange;\n  const dependencies = useRef(props.dependencies);\n  const fetched = useRef(false);\n  const resource = useRef(props.value || props.default || null);\n  const [resources, setResources] = useState(\n    resource.current ? [resource.current] : []\n  );\n  const [isLoading, setIsLoading] = useState(false);\n  const defaultOpts = useMemo(() => {\n    const opts = [\n      {\n        label: `default (${props.default})`,\n        value: defaultKey,\n        description: `Default value set in the data source`\n      }\n    ];\n    if (props.value && props.value !== defaultKey) {\n      opts.push({ label: props.value, value: props.value });\n    }\n    return opts;\n  }, [props.default, props.value]);\n  const [options, setOptions] = useState(props.default ? defaultOpts : []);\n  useEffect(() => {\n    if (props.resources !== void 0) {\n      setResources(props.resources);\n    }\n  }, [props.resources]);\n  useEffect(() => {\n    const newOptions = props.default ? defaultOpts : [];\n    if (resources.length) {\n      resources.forEach((r) => {\n        const value = typeof r === \"string\" ? r : r.value;\n        if (!newOptions.find((o) => o.value === value)) {\n          typeof r === \"string\" ? newOptions.push({ label: r, value: r }) : newOptions.push(r);\n        }\n      });\n      setOptions(newOptions);\n    } else {\n      setOptions([]);\n    }\n  }, [resources, defaultOpts, props.default]);\n  useEffect(() => {\n    if (!isEqual(propsDependencies, dependencies.current)) {\n      fetched.current = false;\n      resource.current = null;\n      dependencies.current = propsDependencies;\n      propsOnChange(null);\n    }\n  }, [propsDependencies, propsOnChange]);\n  const fetch = async () => {\n    var _a;\n    if (fetched.current) {\n      return;\n    }\n    if (props.saveOptions) {\n      await props.saveOptions();\n    }\n    try {\n      const resources2 = await ((_a = props.fetch) == null ? void 0 : _a.call(props)) || [];\n      setResources(resources2);\n    } finally {\n      fetched.current = true;\n    }\n  };\n  const onChange = (e) => {\n    propsOnChange(e);\n    if (e.value) {\n      resource.current = e.value;\n    }\n  };\n  const onClick = async () => {\n    setIsLoading(true);\n    try {\n      await fetch();\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  return /* @__PURE__ */ React.createElement(\n    Select,\n    {\n      ...props,\n      id: props.id,\n      inputId: props.id,\n      \"aria-label\": props.label,\n      options,\n      onChange,\n      isLoading,\n      className: props.className || \"min-width-6\",\n      onOpenMenu: () => props.fetch && onClick(),\n      menuShouldPortal: true\n    }\n  );\n}\n\nexport { ResourceSelector };\n//# sourceMappingURL=ResourceSelector.js.map\n","import React from 'react';\nimport { ResourceSelector } from '../ResourceSelector.js';\nimport { DEFAULT_LABEL_WIDTH } from '../../components/ConnectionConfig.js';\n\nfunction ConfigSelect(props) {\n  var _a, _b, _c;\n  const { jsonData } = props.options;\n  const commonProps = {\n    title: jsonData.defaultRegion ? \"\" : \"select a default region\",\n    labelWidth: (_a = props.labelWidth) != null ? _a : DEFAULT_LABEL_WIDTH,\n    className: \"width-30\"\n  };\n  const dependencies = [\n    props.options.jsonData.assumeRoleArn,\n    props.options.jsonData.authType,\n    props.options.jsonData.defaultRegion,\n    props.options.jsonData.endpoint,\n    props.options.jsonData.externalId,\n    props.options.jsonData.profile,\n    (_b = props.options.secureJsonData) == null ? void 0 : _b.accessKey,\n    (_c = props.options.secureJsonData) == null ? void 0 : _c.secretKey\n  ].concat(props.dependencies);\n  return /* @__PURE__ */ React.createElement(\n    ResourceSelector,\n    {\n      id: props.id,\n      label: props.label,\n      \"data-testid\": props[\"data-testid\"],\n      onChange: props.onChange,\n      fetch: props.fetch,\n      value: props.value,\n      saveOptions: props.saveOptions,\n      dependencies,\n      hidden: props.hidden,\n      disabled: props.disabled || !jsonData.defaultRegion,\n      allowCustomValue: props.allowCustomValue,\n      autoFocus: props.autoFocus,\n      backspaceRemovesValue: props.backspaceRemovesValue,\n      invalid: props.invalid,\n      isClearable: props.isClearable,\n      isMulti: props.isMulti,\n      inputId: props.inputId,\n      showAllSelectedWhenOpen: props.showAllSelectedWhenOpen,\n      maxMenuHeight: props.maxMenuHeight,\n      minMenuHeight: props.minMenuHeight,\n      maxVisibleValues: props.maxVisibleValues,\n      menuPlacement: props.menuPlacement,\n      menuPosition: props.menuPosition,\n      noOptionsMessage: props.noOptionsMessage,\n      placeholder: props.placeholder,\n      width: props.width,\n      onBlur: props.onBlur,\n      onCreateOption: props.onCreateOption,\n      onInputChange: props.onInputChange,\n      isOptionDisabled: props.isOptionDisabled,\n      ...commonProps\n    }\n  );\n}\n\nexport { ConfigSelect };\n//# sourceMappingURL=ConfigSelect.js.map\n","import React from 'react';\nimport { InlineField, Input } from '@grafana/ui';\nimport { DEFAULT_LABEL_WIDTH } from '../../components/ConnectionConfig.js';\n\nfunction InlineInput(props) {\n  var _a;\n  return /* @__PURE__ */ React.createElement(\n    InlineField,\n    {\n      label: props.label,\n      labelWidth: (_a = props.labelWidth) != null ? _a : DEFAULT_LABEL_WIDTH,\n      tooltip: props.tooltip,\n      hidden: props.hidden,\n      disabled: props.disabled\n    },\n    /* @__PURE__ */ React.createElement(\n      Input,\n      {\n        \"data-testid\": props[\"data-testid\"],\n        className: \"width-30\",\n        value: props.value,\n        onChange: props.onChange,\n        placeholder: props.placeholder,\n        disabled: props.disabled\n      }\n    )\n  );\n}\n\nexport { InlineInput };\n//# sourceMappingURL=InlineInput.js.map\n","import { defaults } from 'lodash';\nimport React, { useRef, useEffect } from 'react';\nimport { CodeEditor } from '@grafana/ui';\n\nfunction QueryCodeEditor(props) {\n  const { getSuggestions, query } = props;\n  const { rawSQL } = defaults(props.query, { rawSQL: \"\" });\n  const onRawSqlChange = (rawSQL2) => {\n    const query2 = {\n      ...props.query,\n      rawSQL: rawSQL2\n    };\n    props.onChange(query2);\n    props.onRunQuery();\n  };\n  const suggestionsRef = useRef([]);\n  useEffect(() => {\n    suggestionsRef.current = getSuggestions(query);\n  }, [getSuggestions, query]);\n  return /* @__PURE__ */ React.createElement(\n    CodeEditor,\n    {\n      language: props.language,\n      value: rawSQL,\n      onBlur: onRawSqlChange,\n      showMiniMap: false,\n      showLineNumbers: true,\n      getSuggestions: () => suggestionsRef.current,\n      height: \"240px\",\n      ...props.editorProps\n    }\n  );\n}\n\nexport { QueryCodeEditor };\n//# sourceMappingURL=QueryCodeEditor.js.map\n","import { LoadingState } from '@grafana/data';\nimport { Observable } from 'rxjs';\n\nconst DELAY_INTERVAL_MS = 10;\nconst MAX_NEXT_REQUEST_DELAY = 1e4 / DELAY_INTERVAL_MS;\nfunction getRequestLooper(req, options) {\n  return new Observable((subscriber) => {\n    let nextQuery = void 0;\n    let subscription = void 0;\n    let loadingState = LoadingState.Loading;\n    let nextRequestDelay = 1;\n    let count = 1;\n    let shouldCancel = false;\n    const observer = {\n      next: (rsp) => {\n        loadingState = rsp.state;\n        let checkstate = false;\n        if (loadingState !== LoadingState.Error) {\n          nextQuery = options.getNextQuery(rsp);\n          const _shouldCancel = options.shouldCancel();\n          if (nextQuery && _shouldCancel) {\n            shouldCancel = _shouldCancel;\n            nextQuery = void 0;\n          }\n          checkstate = true;\n        }\n        const data = options.process(rsp.data);\n        if (checkstate) {\n          if (nextQuery) {\n            if (data.length && data[0].length) {\n              loadingState = LoadingState.Streaming;\n            } else {\n              loadingState = LoadingState.Loading;\n            }\n            nextRequestDelay = nextRequestDelay * 2 > MAX_NEXT_REQUEST_DELAY ? MAX_NEXT_REQUEST_DELAY : nextRequestDelay * 2;\n          } else {\n            loadingState = LoadingState.Done;\n            nextRequestDelay = 0;\n          }\n        }\n        subscriber.next({ ...rsp, data, state: loadingState, key: req.requestId });\n      },\n      error: (err) => {\n        subscriber.error(err);\n      },\n      complete: () => {\n        if (subscription) {\n          subscription.unsubscribe();\n          subscription = void 0;\n        }\n        if (nextQuery) {\n          const next = nextQuery;\n          setTimeout(() => {\n            subscription = options.query({ ...req, requestId: `${req.requestId}.${++count}`, targets: [next] }).subscribe(observer);\n            nextQuery = void 0;\n          }, nextRequestDelay * DELAY_INTERVAL_MS);\n        } else {\n          subscriber.complete();\n        }\n      }\n    };\n    subscription = options.query(req).subscribe(observer);\n    return function unsubscribe() {\n      observer.complete();\n      if (nextQuery || shouldCancel) {\n        options.onCancel();\n      }\n      nextQuery = void 0;\n    };\n  });\n}\n\nexport { getRequestLooper };\n//# sourceMappingURL=requestLooper.js.map\n","function isFunction(value) {\n    return typeof value === 'function';\n}\n\nexport { isFunction };\n//# sourceMappingURL=isFunction.js.map\n","import { isFunction } from './isFunction.js';\n\nfunction hasLift(source) {\n    return isFunction(source === null || source === void 0 ? void 0 : source.lift);\n}\nfunction operate(init) {\n    return function (source) {\n        if (hasLift(source)) {\n            return source.lift(function (liftedSource) {\n                try {\n                    return init(liftedSource, this);\n                }\n                catch (err) {\n                    this.error(err);\n                }\n            });\n        }\n        throw new TypeError('Unable to lift unknown Observable type');\n    };\n}\n\nexport { hasLift, operate };\n//# sourceMappingURL=lift.js.map\n","function createErrorClass(createImpl) {\n    var _super = function (instance) {\n        Error.call(instance);\n        instance.stack = new Error().stack;\n    };\n    var ctorFunc = createImpl(_super);\n    ctorFunc.prototype = Object.create(Error.prototype);\n    ctorFunc.prototype.constructor = ctorFunc;\n    return ctorFunc;\n}\n\nexport { createErrorClass };\n//# sourceMappingURL=createErrorClass.js.map\n","import { createErrorClass } from './createErrorClass.js';\n\nvar UnsubscriptionError = createErrorClass(function (_super) {\n    return function UnsubscriptionErrorImpl(errors) {\n        _super(this);\n        this.message = errors\n            ? errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) { return i + 1 + \") \" + err.toString(); }).join('\\n  ')\n            : '';\n        this.name = 'UnsubscriptionError';\n        this.errors = errors;\n    };\n});\n\nexport { UnsubscriptionError };\n//# sourceMappingURL=UnsubscriptionError.js.map\n","function arrRemove(arr, item) {\n    if (arr) {\n        var index = arr.indexOf(item);\n        0 <= index && arr.splice(index, 1);\n    }\n}\n\nexport { arrRemove };\n//# sourceMappingURL=arrRemove.js.map\n","import { __values, __spreadArray, __read } from 'tslib';\nimport { isFunction } from './util/isFunction.js';\nimport { UnsubscriptionError } from './util/UnsubscriptionError.js';\nimport { arrRemove } from './util/arrRemove.js';\n\nvar Subscription = (function () {\n    function Subscription(initialTeardown) {\n        this.initialTeardown = initialTeardown;\n        this.closed = false;\n        this._parentage = null;\n        this._finalizers = null;\n    }\n    Subscription.prototype.unsubscribe = function () {\n        var e_1, _a, e_2, _b;\n        var errors;\n        if (!this.closed) {\n            this.closed = true;\n            var _parentage = this._parentage;\n            if (_parentage) {\n                this._parentage = null;\n                if (Array.isArray(_parentage)) {\n                    try {\n                        for (var _parentage_1 = __values(_parentage), _parentage_1_1 = _parentage_1.next(); !_parentage_1_1.done; _parentage_1_1 = _parentage_1.next()) {\n                            var parent_1 = _parentage_1_1.value;\n                            parent_1.remove(this);\n                        }\n                    }\n                    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                    finally {\n                        try {\n                            if (_parentage_1_1 && !_parentage_1_1.done && (_a = _parentage_1.return)) _a.call(_parentage_1);\n                        }\n                        finally { if (e_1) throw e_1.error; }\n                    }\n                }\n                else {\n                    _parentage.remove(this);\n                }\n            }\n            var initialFinalizer = this.initialTeardown;\n            if (isFunction(initialFinalizer)) {\n                try {\n                    initialFinalizer();\n                }\n                catch (e) {\n                    errors = e instanceof UnsubscriptionError ? e.errors : [e];\n                }\n            }\n            var _finalizers = this._finalizers;\n            if (_finalizers) {\n                this._finalizers = null;\n                try {\n                    for (var _finalizers_1 = __values(_finalizers), _finalizers_1_1 = _finalizers_1.next(); !_finalizers_1_1.done; _finalizers_1_1 = _finalizers_1.next()) {\n                        var finalizer = _finalizers_1_1.value;\n                        try {\n                            execFinalizer(finalizer);\n                        }\n                        catch (err) {\n                            errors = errors !== null && errors !== void 0 ? errors : [];\n                            if (err instanceof UnsubscriptionError) {\n                                errors = __spreadArray(__spreadArray([], __read(errors)), __read(err.errors));\n                            }\n                            else {\n                                errors.push(err);\n                            }\n                        }\n                    }\n                }\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                finally {\n                    try {\n                        if (_finalizers_1_1 && !_finalizers_1_1.done && (_b = _finalizers_1.return)) _b.call(_finalizers_1);\n                    }\n                    finally { if (e_2) throw e_2.error; }\n                }\n            }\n            if (errors) {\n                throw new UnsubscriptionError(errors);\n            }\n        }\n    };\n    Subscription.prototype.add = function (teardown) {\n        var _a;\n        if (teardown && teardown !== this) {\n            if (this.closed) {\n                execFinalizer(teardown);\n            }\n            else {\n                if (teardown instanceof Subscription) {\n                    if (teardown.closed || teardown._hasParent(this)) {\n                        return;\n                    }\n                    teardown._addParent(this);\n                }\n                (this._finalizers = (_a = this._finalizers) !== null && _a !== void 0 ? _a : []).push(teardown);\n            }\n        }\n    };\n    Subscription.prototype._hasParent = function (parent) {\n        var _parentage = this._parentage;\n        return _parentage === parent || (Array.isArray(_parentage) && _parentage.includes(parent));\n    };\n    Subscription.prototype._addParent = function (parent) {\n        var _parentage = this._parentage;\n        this._parentage = Array.isArray(_parentage) ? (_parentage.push(parent), _parentage) : _parentage ? [_parentage, parent] : parent;\n    };\n    Subscription.prototype._removeParent = function (parent) {\n        var _parentage = this._parentage;\n        if (_parentage === parent) {\n            this._parentage = null;\n        }\n        else if (Array.isArray(_parentage)) {\n            arrRemove(_parentage, parent);\n        }\n    };\n    Subscription.prototype.remove = function (teardown) {\n        var _finalizers = this._finalizers;\n        _finalizers && arrRemove(_finalizers, teardown);\n        if (teardown instanceof Subscription) {\n            teardown._removeParent(this);\n        }\n    };\n    Subscription.EMPTY = (function () {\n        var empty = new Subscription();\n        empty.closed = true;\n        return empty;\n    })();\n    return Subscription;\n}());\nSubscription.EMPTY;\nfunction isSubscription(value) {\n    return (value instanceof Subscription ||\n        (value && 'closed' in value && isFunction(value.remove) && isFunction(value.add) && isFunction(value.unsubscribe)));\n}\nfunction execFinalizer(finalizer) {\n    if (isFunction(finalizer)) {\n        finalizer();\n    }\n    else {\n        finalizer.unsubscribe();\n    }\n}\n\nexport { Subscription, isSubscription };\n//# sourceMappingURL=Subscription.js.map\n","import { __spreadArray, __read } from 'tslib';\n\nvar timeoutProvider = {\n    setTimeout: function (handler, timeout) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        return setTimeout.apply(void 0, __spreadArray([handler, timeout], __read(args)));\n    },\n    clearTimeout: function (handle) {\n        return (clearTimeout)(handle);\n    },\n    delegate: undefined,\n};\n\nexport { timeoutProvider };\n//# sourceMappingURL=timeoutProvider.js.map\n","import { timeoutProvider } from '../scheduler/timeoutProvider.js';\n\nfunction reportUnhandledError(err) {\n    timeoutProvider.setTimeout(function () {\n        {\n            throw err;\n        }\n    });\n}\n\nexport { reportUnhandledError };\n//# sourceMappingURL=reportUnhandledError.js.map\n","function noop() { }\n\nexport { noop };\n//# sourceMappingURL=noop.js.map\n","import { __extends } from 'tslib';\nimport { isFunction } from './util/isFunction.js';\nimport { isSubscription, Subscription } from './Subscription.js';\nimport { reportUnhandledError } from './util/reportUnhandledError.js';\nimport { noop } from './util/noop.js';\n\nvar Subscriber = (function (_super) {\n    __extends(Subscriber, _super);\n    function Subscriber(destination) {\n        var _this = _super.call(this) || this;\n        _this.isStopped = false;\n        if (destination) {\n            _this.destination = destination;\n            if (isSubscription(destination)) {\n                destination.add(_this);\n            }\n        }\n        else {\n            _this.destination = EMPTY_OBSERVER;\n        }\n        return _this;\n    }\n    Subscriber.create = function (next, error, complete) {\n        return new SafeSubscriber(next, error, complete);\n    };\n    Subscriber.prototype.next = function (value) {\n        if (this.isStopped) ;\n        else {\n            this._next(value);\n        }\n    };\n    Subscriber.prototype.error = function (err) {\n        if (this.isStopped) ;\n        else {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    Subscriber.prototype.complete = function () {\n        if (this.isStopped) ;\n        else {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (!this.closed) {\n            this.isStopped = true;\n            _super.prototype.unsubscribe.call(this);\n            this.destination = null;\n        }\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        try {\n            this.destination.error(err);\n        }\n        finally {\n            this.unsubscribe();\n        }\n    };\n    Subscriber.prototype._complete = function () {\n        try {\n            this.destination.complete();\n        }\n        finally {\n            this.unsubscribe();\n        }\n    };\n    return Subscriber;\n}(Subscription));\nvar ConsumerObserver = (function () {\n    function ConsumerObserver(partialObserver) {\n        this.partialObserver = partialObserver;\n    }\n    ConsumerObserver.prototype.next = function (value) {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.next) {\n            try {\n                partialObserver.next(value);\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n    };\n    ConsumerObserver.prototype.error = function (err) {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.error) {\n            try {\n                partialObserver.error(err);\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n        else {\n            handleUnhandledError(err);\n        }\n    };\n    ConsumerObserver.prototype.complete = function () {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.complete) {\n            try {\n                partialObserver.complete();\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n    };\n    return ConsumerObserver;\n}());\nvar SafeSubscriber = (function (_super) {\n    __extends(SafeSubscriber, _super);\n    function SafeSubscriber(observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        var partialObserver;\n        if (isFunction(observerOrNext) || !observerOrNext) {\n            partialObserver = {\n                next: (observerOrNext !== null && observerOrNext !== void 0 ? observerOrNext : undefined),\n                error: error !== null && error !== void 0 ? error : undefined,\n                complete: complete !== null && complete !== void 0 ? complete : undefined,\n            };\n        }\n        else {\n            {\n                partialObserver = observerOrNext;\n            }\n        }\n        _this.destination = new ConsumerObserver(partialObserver);\n        return _this;\n    }\n    return SafeSubscriber;\n}(Subscriber));\nfunction handleUnhandledError(error) {\n    {\n        reportUnhandledError(error);\n    }\n}\nfunction defaultErrorHandler(err) {\n    throw err;\n}\nvar EMPTY_OBSERVER = {\n    closed: true,\n    next: noop,\n    error: defaultErrorHandler,\n    complete: noop,\n};\n\nexport { EMPTY_OBSERVER, SafeSubscriber, Subscriber };\n//# sourceMappingURL=Subscriber.js.map\n","import { __extends } from 'tslib';\nimport { Subscriber } from '../Subscriber.js';\n\nfunction createOperatorSubscriber(destination, onNext, onComplete, onError, onFinalize) {\n    return new OperatorSubscriber(destination, onNext, onComplete, onError, onFinalize);\n}\nvar OperatorSubscriber = (function (_super) {\n    __extends(OperatorSubscriber, _super);\n    function OperatorSubscriber(destination, onNext, onComplete, onError, onFinalize, shouldUnsubscribe) {\n        var _this = _super.call(this, destination) || this;\n        _this.onFinalize = onFinalize;\n        _this.shouldUnsubscribe = shouldUnsubscribe;\n        _this._next = onNext\n            ? function (value) {\n                try {\n                    onNext(value);\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n            }\n            : _super.prototype._next;\n        _this._error = onError\n            ? function (err) {\n                try {\n                    onError(err);\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n                finally {\n                    this.unsubscribe();\n                }\n            }\n            : _super.prototype._error;\n        _this._complete = onComplete\n            ? function () {\n                try {\n                    onComplete();\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n                finally {\n                    this.unsubscribe();\n                }\n            }\n            : _super.prototype._complete;\n        return _this;\n    }\n    OperatorSubscriber.prototype.unsubscribe = function () {\n        var _a;\n        if (!this.shouldUnsubscribe || this.shouldUnsubscribe()) {\n            var closed_1 = this.closed;\n            _super.prototype.unsubscribe.call(this);\n            !closed_1 && ((_a = this.onFinalize) === null || _a === void 0 ? void 0 : _a.call(this));\n        }\n    };\n    return OperatorSubscriber;\n}(Subscriber));\n\nexport { OperatorSubscriber, createOperatorSubscriber };\n//# sourceMappingURL=OperatorSubscriber.js.map\n","import { operate } from '../util/lift.js';\nimport { createOperatorSubscriber } from './OperatorSubscriber.js';\n\nfunction map(project, thisArg) {\n    return operate(function (source, subscriber) {\n        var index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n            subscriber.next(project.call(thisArg, value, index++));\n        }));\n    });\n}\n\nexport { map };\n//# sourceMappingURL=map.js.map\n","var isArrayLike = (function (x) { return x && typeof x.length === 'number' && typeof x !== 'function'; });\n\nexport { isArrayLike };\n//# sourceMappingURL=isArrayLike.js.map\n","import { isFunction } from './isFunction.js';\n\nfunction isPromise(value) {\n    return isFunction(value === null || value === void 0 ? void 0 : value.then);\n}\n\nexport { isPromise };\n//# sourceMappingURL=isPromise.js.map\n","var observable = (function () { return (typeof Symbol === 'function' && Symbol.observable) || '@@observable'; })();\n\nexport { observable };\n//# sourceMappingURL=observable.js.map\n","function identity(x) {\n    return x;\n}\n\nexport { identity };\n//# sourceMappingURL=identity.js.map\n","import { identity } from './identity.js';\n\nfunction pipeFromArray(fns) {\n    if (fns.length === 0) {\n        return identity;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\n\nexport { pipeFromArray };\n//# sourceMappingURL=pipe.js.map\n","var config = {\n    Promise: undefined};\n\nexport { config };\n//# sourceMappingURL=config.js.map\n","function errorContext(cb) {\n    {\n        cb();\n    }\n}\n\nexport { errorContext };\n//# sourceMappingURL=errorContext.js.map\n","import { SafeSubscriber, Subscriber } from './Subscriber.js';\nimport { isSubscription } from './Subscription.js';\nimport { observable } from './symbol/observable.js';\nimport { pipeFromArray } from './util/pipe.js';\nimport { config } from './config.js';\nimport { isFunction } from './util/isFunction.js';\nimport { errorContext } from './util/errorContext.js';\n\nvar Observable = (function () {\n    function Observable(subscribe) {\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var _this = this;\n        var subscriber = isSubscriber(observerOrNext) ? observerOrNext : new SafeSubscriber(observerOrNext, error, complete);\n        errorContext(function () {\n            var _a = _this, operator = _a.operator, source = _a.source;\n            subscriber.add(operator\n                ?\n                    operator.call(subscriber, source)\n                : source\n                    ?\n                        _this._subscribe(subscriber)\n                    :\n                        _this._trySubscribe(subscriber));\n        });\n        return subscriber;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            sink.error(err);\n        }\n    };\n    Observable.prototype.forEach = function (next, promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var subscriber = new SafeSubscriber({\n                next: function (value) {\n                    try {\n                        next(value);\n                    }\n                    catch (err) {\n                        reject(err);\n                        subscriber.unsubscribe();\n                    }\n                },\n                error: reject,\n                complete: resolve,\n            });\n            _this.subscribe(subscriber);\n        });\n    };\n    Observable.prototype._subscribe = function (subscriber) {\n        var _a;\n        return (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber);\n    };\n    Observable.prototype[observable] = function () {\n        return this;\n    };\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i] = arguments[_i];\n        }\n        return pipeFromArray(operations)(this);\n    };\n    Observable.prototype.toPromise = function (promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return (value = x); }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nfunction getPromiseCtor(promiseCtor) {\n    var _a;\n    return (_a = promiseCtor !== null && promiseCtor !== void 0 ? promiseCtor : config.Promise) !== null && _a !== void 0 ? _a : Promise;\n}\nfunction isObserver(value) {\n    return value && isFunction(value.next) && isFunction(value.error) && isFunction(value.complete);\n}\nfunction isSubscriber(value) {\n    return (value && value instanceof Subscriber) || (isObserver(value) && isSubscription(value));\n}\n\nexport { Observable };\n//# sourceMappingURL=Observable.js.map\n","import { observable } from '../symbol/observable.js';\nimport { isFunction } from './isFunction.js';\n\nfunction isInteropObservable(input) {\n    return isFunction(input[observable]);\n}\n\nexport { isInteropObservable };\n//# sourceMappingURL=isInteropObservable.js.map\n","import { isFunction } from './isFunction.js';\n\nfunction isAsyncIterable(obj) {\n    return Symbol.asyncIterator && isFunction(obj === null || obj === void 0 ? void 0 : obj[Symbol.asyncIterator]);\n}\n\nexport { isAsyncIterable };\n//# sourceMappingURL=isAsyncIterable.js.map\n","function createInvalidObservableTypeError(input) {\n    return new TypeError(\"You provided \" + (input !== null && typeof input === 'object' ? 'an invalid object' : \"'\" + input + \"'\") + \" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.\");\n}\n\nexport { createInvalidObservableTypeError };\n//# sourceMappingURL=throwUnobservableError.js.map\n","function getSymbolIterator() {\n    if (typeof Symbol !== 'function' || !Symbol.iterator) {\n        return '@@iterator';\n    }\n    return Symbol.iterator;\n}\nvar iterator = getSymbolIterator();\n\nexport { getSymbolIterator, iterator };\n//# sourceMappingURL=iterator.js.map\n","import { iterator } from '../symbol/iterator.js';\nimport { isFunction } from './isFunction.js';\n\nfunction isIterable(input) {\n    return isFunction(input === null || input === void 0 ? void 0 : input[iterator]);\n}\n\nexport { isIterable };\n//# sourceMappingURL=isIterable.js.map\n","import { __asyncGenerator, __generator, __await } from 'tslib';\nimport { isFunction } from './isFunction.js';\n\nfunction readableStreamLikeToAsyncGenerator(readableStream) {\n    return __asyncGenerator(this, arguments, function readableStreamLikeToAsyncGenerator_1() {\n        var reader, _a, value, done;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    reader = readableStream.getReader();\n                    _b.label = 1;\n                case 1:\n                    _b.trys.push([1, , 9, 10]);\n                    _b.label = 2;\n                case 2:\n                    return [4, __await(reader.read())];\n                case 3:\n                    _a = _b.sent(), value = _a.value, done = _a.done;\n                    if (!done) return [3, 5];\n                    return [4, __await(void 0)];\n                case 4: return [2, _b.sent()];\n                case 5: return [4, __await(value)];\n                case 6: return [4, _b.sent()];\n                case 7:\n                    _b.sent();\n                    return [3, 2];\n                case 8: return [3, 10];\n                case 9:\n                    reader.releaseLock();\n                    return [7];\n                case 10: return [2];\n            }\n        });\n    });\n}\nfunction isReadableStreamLike(obj) {\n    return isFunction(obj === null || obj === void 0 ? void 0 : obj.getReader);\n}\n\nexport { isReadableStreamLike, readableStreamLikeToAsyncGenerator };\n//# sourceMappingURL=isReadableStreamLike.js.map\n","import { __values, __awaiter, __generator, __asyncValues } from 'tslib';\nimport { isArrayLike } from '../util/isArrayLike.js';\nimport { isPromise } from '../util/isPromise.js';\nimport { Observable } from '../Observable.js';\nimport { isInteropObservable } from '../util/isInteropObservable.js';\nimport { isAsyncIterable } from '../util/isAsyncIterable.js';\nimport { createInvalidObservableTypeError } from '../util/throwUnobservableError.js';\nimport { isIterable } from '../util/isIterable.js';\nimport { isReadableStreamLike, readableStreamLikeToAsyncGenerator } from '../util/isReadableStreamLike.js';\nimport { isFunction } from '../util/isFunction.js';\nimport { reportUnhandledError } from '../util/reportUnhandledError.js';\nimport { observable } from '../symbol/observable.js';\n\nfunction innerFrom(input) {\n    if (input instanceof Observable) {\n        return input;\n    }\n    if (input != null) {\n        if (isInteropObservable(input)) {\n            return fromInteropObservable(input);\n        }\n        if (isArrayLike(input)) {\n            return fromArrayLike(input);\n        }\n        if (isPromise(input)) {\n            return fromPromise(input);\n        }\n        if (isAsyncIterable(input)) {\n            return fromAsyncIterable(input);\n        }\n        if (isIterable(input)) {\n            return fromIterable(input);\n        }\n        if (isReadableStreamLike(input)) {\n            return fromReadableStreamLike(input);\n        }\n    }\n    throw createInvalidObservableTypeError(input);\n}\nfunction fromInteropObservable(obj) {\n    return new Observable(function (subscriber) {\n        var obs = obj[observable]();\n        if (isFunction(obs.subscribe)) {\n            return obs.subscribe(subscriber);\n        }\n        throw new TypeError('Provided object does not correctly implement Symbol.observable');\n    });\n}\nfunction fromArrayLike(array) {\n    return new Observable(function (subscriber) {\n        for (var i = 0; i < array.length && !subscriber.closed; i++) {\n            subscriber.next(array[i]);\n        }\n        subscriber.complete();\n    });\n}\nfunction fromPromise(promise) {\n    return new Observable(function (subscriber) {\n        promise\n            .then(function (value) {\n            if (!subscriber.closed) {\n                subscriber.next(value);\n                subscriber.complete();\n            }\n        }, function (err) { return subscriber.error(err); })\n            .then(null, reportUnhandledError);\n    });\n}\nfunction fromIterable(iterable) {\n    return new Observable(function (subscriber) {\n        var e_1, _a;\n        try {\n            for (var iterable_1 = __values(iterable), iterable_1_1 = iterable_1.next(); !iterable_1_1.done; iterable_1_1 = iterable_1.next()) {\n                var value = iterable_1_1.value;\n                subscriber.next(value);\n                if (subscriber.closed) {\n                    return;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (iterable_1_1 && !iterable_1_1.done && (_a = iterable_1.return)) _a.call(iterable_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        subscriber.complete();\n    });\n}\nfunction fromAsyncIterable(asyncIterable) {\n    return new Observable(function (subscriber) {\n        process(asyncIterable, subscriber).catch(function (err) { return subscriber.error(err); });\n    });\n}\nfunction fromReadableStreamLike(readableStream) {\n    return fromAsyncIterable(readableStreamLikeToAsyncGenerator(readableStream));\n}\nfunction process(asyncIterable, subscriber) {\n    var asyncIterable_1, asyncIterable_1_1;\n    var e_2, _a;\n    return __awaiter(this, void 0, void 0, function () {\n        var value, e_2_1;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    _b.trys.push([0, 5, 6, 11]);\n                    asyncIterable_1 = __asyncValues(asyncIterable);\n                    _b.label = 1;\n                case 1: return [4, asyncIterable_1.next()];\n                case 2:\n                    if (!(asyncIterable_1_1 = _b.sent(), !asyncIterable_1_1.done)) return [3, 4];\n                    value = asyncIterable_1_1.value;\n                    subscriber.next(value);\n                    if (subscriber.closed) {\n                        return [2];\n                    }\n                    _b.label = 3;\n                case 3: return [3, 1];\n                case 4: return [3, 11];\n                case 5:\n                    e_2_1 = _b.sent();\n                    e_2 = { error: e_2_1 };\n                    return [3, 11];\n                case 6:\n                    _b.trys.push([6, , 9, 10]);\n                    if (!(asyncIterable_1_1 && !asyncIterable_1_1.done && (_a = asyncIterable_1.return))) return [3, 8];\n                    return [4, _a.call(asyncIterable_1)];\n                case 7:\n                    _b.sent();\n                    _b.label = 8;\n                case 8: return [3, 10];\n                case 9:\n                    if (e_2) throw e_2.error;\n                    return [7];\n                case 10: return [7];\n                case 11:\n                    subscriber.complete();\n                    return [2];\n            }\n        });\n    });\n}\n\nexport { fromArrayLike, fromAsyncIterable, fromInteropObservable, fromIterable, fromPromise, fromReadableStreamLike, innerFrom };\n//# sourceMappingURL=innerFrom.js.map\n","import { innerFrom } from '../observable/innerFrom.js';\nimport { createOperatorSubscriber } from './OperatorSubscriber.js';\nimport { operate } from '../util/lift.js';\n\nfunction catchError(selector) {\n    return operate(function (source, subscriber) {\n        var innerSub = null;\n        var syncUnsub = false;\n        var handledResult;\n        innerSub = source.subscribe(createOperatorSubscriber(subscriber, undefined, undefined, function (err) {\n            handledResult = innerFrom(selector(err, catchError(selector)(source)));\n            if (innerSub) {\n                innerSub.unsubscribe();\n                innerSub = null;\n                handledResult.subscribe(subscriber);\n            }\n            else {\n                syncUnsub = true;\n            }\n        }));\n        if (syncUnsub) {\n            innerSub.unsubscribe();\n            innerSub = null;\n            handledResult.subscribe(subscriber);\n        }\n    });\n}\n\nexport { catchError };\n//# sourceMappingURL=catchError.js.map\n","import { DataSourceWithBackend, config, getBackendSrv, toDataQueryResponse } from '@grafana/runtime';\nimport { of, merge } from 'rxjs';\nimport { lt } from 'semver';\nimport { getRequestLooper } from './requestLooper.js';\nimport { map } from './node_modules/rxjs/dist/esm5/internal/operators/map.js';\nimport { catchError } from './node_modules/rxjs/dist/esm5/internal/operators/catchError.js';\n\nconst RUNNING_STATUSES = [\"started\", \"submitted\", \"running\"];\nconst isRunning = (status = \"\") => RUNNING_STATUSES.includes(status);\nconst isCustomMeta = (meta) => {\n  return !!(typeof meta === \"object\" && (meta == null ? void 0 : meta.hasOwnProperty(\"queryID\")) && (meta == null ? void 0 : meta.hasOwnProperty(\"status\")));\n};\nclass DatasourceWithAsyncBackend extends DataSourceWithBackend {\n  constructor(instanceSettings) {\n    var _a;\n    super(instanceSettings);\n    this.runningQueries = {};\n    this.requestCounter = 100;\n    // cancel sets shouldCancel to tell requestLooper to cancel the query\n    this.cancel = (target) => {\n      this.storeQuery(target, { shouldCancel: true });\n    };\n    this.requestIdPrefix = (_a = instanceSettings.uid) != null ? _a : instanceSettings.id;\n  }\n  query(request) {\n    const targets = this.filterQuery ? request.targets.filter(this.filterQuery) : request.targets;\n    if (!targets.length) {\n      return of({ data: [] });\n    }\n    const all = [];\n    for (let target of targets) {\n      if (target.hide) {\n        continue;\n      }\n      all.push(this.doSingle(target, request));\n    }\n    return merge(...all);\n  }\n  storeQuery(target, queryInfo) {\n    const key = JSON.stringify(target);\n    const existingQueryInfo = this.runningQueries[key] || {};\n    this.runningQueries[key] = { ...existingQueryInfo, ...queryInfo };\n  }\n  getQuery(target) {\n    const key = JSON.stringify(target);\n    return this.runningQueries[key] || {};\n  }\n  removeQuery(target) {\n    const key = JSON.stringify(target);\n    delete this.runningQueries[key];\n  }\n  doSingle(target, request) {\n    let queryID = void 0;\n    let status = void 0;\n    let allData = [];\n    return getRequestLooper(\n      { ...request, targets: [target], requestId: `${this.requestIdPrefix}_${this.requestCounter++}` },\n      {\n        /**\n         * Additional query to execute if the current query is still in a running state\n         */\n        getNextQuery: (rsp) => {\n          var _a, _b;\n          if ((_a = rsp.data) == null ? void 0 : _a.length) {\n            const first = rsp.data[0];\n            const meta = (_b = first.meta) == null ? void 0 : _b.custom;\n            if (isCustomMeta(meta) && isRunning(meta.status)) {\n              queryID = meta.queryID;\n              status = meta.status;\n              this.storeQuery(target, { queryID });\n              return { ...target, queryID };\n            }\n          }\n          this.removeQuery(target);\n          return void 0;\n        },\n        /**\n         * The original request\n         */\n        query: (request2) => {\n          const { range, targets, requestId, intervalMs, maxDataPoints } = request2;\n          const [_query] = targets;\n          const query = {\n            ..._query,\n            meta: { queryFlow: \"async\" },\n            intervalMs,\n            maxDataPoints,\n            // getRef optionally chained to support < v8.3.x of Grafana\n            datasource: this == null ? void 0 : this.getRef(),\n            datasourceId: this.id,\n            ...this.applyTemplateVariables(_query, request2.scopedVars)\n          };\n          const cachingDisabled = !config.featureToggles.awsAsyncQueryCaching;\n          if (cachingDisabled && isRunning(status)) {\n            const requestSkipQueryCacheUnsupported = lt(config.buildInfo.version, \"10.2.3\");\n            if (requestSkipQueryCacheUnsupported) {\n              return getBackendSrv().fetch({\n                method: \"POST\",\n                url: \"/api/ds/query\",\n                headers: { \"X-Cache-Skip\": true },\n                requestId,\n                data: {\n                  queries: [query],\n                  range,\n                  from: range.from.valueOf().toString(),\n                  to: range.to.valueOf().toString()\n                }\n              }).pipe(\n                map((result) => ({ data: toDataQueryResponse(result).data })),\n                catchError((err) => of(toDataQueryResponse(err)))\n              );\n            }\n            return super.query({ ...request2, targets: [query], skipQueryCache: true });\n          }\n          return super.query({ ...request2, targets: [query] });\n        },\n        /**\n         * Process the results\n         */\n        process: (data) => {\n          for (const frame of data) {\n            if (frame.fields.length > 0) {\n              allData.push(frame);\n            }\n          }\n          return allData;\n        },\n        shouldCancel: () => {\n          const { shouldCancel } = this.getQuery(target);\n          return !!shouldCancel;\n        },\n        /**\n         * Callback that gets executed when unsubscribed\n         */\n        onCancel: () => {\n          if (queryID) {\n            this.removeQuery(target);\n            this.postResource(\"cancel\", {\n              queryId: queryID\n            }).catch((err) => {\n              err.isHandled = true;\n              console.error(`error cancelling query ID: ${queryID}`, err);\n            });\n          }\n        }\n      }\n    );\n  }\n}\n\nexport { DatasourceWithAsyncBackend };\n//# sourceMappingURL=DatasourceWithAsyncBackend.js.map\n","import React, { useState, useEffect } from 'react';\nimport { Button } from '@grafana/ui';\nimport { LoadingState } from '@grafana/data';\n\nconst RunQueryButtons = (props) => {\n  const { state } = props;\n  const [running, setRunning] = useState(false);\n  const [stopping, setStopping] = useState(false);\n  const [lastState, setLastState] = useState(state);\n  const [lastQuery, setLastQuery] = useState(props.query);\n  useEffect(() => {\n    if (state && lastState !== state && state !== LoadingState.Loading) {\n      setRunning(false);\n      setStopping(false);\n    }\n    setLastState(state);\n  }, [state, lastState]);\n  const onRunQuery = () => {\n    setRunning(true);\n    setLastQuery(props.query);\n    props.onRunQuery();\n  };\n  const onCancelQuery = props.onCancelQuery ? () => {\n    var _a;\n    (_a = props.onCancelQuery) == null ? void 0 : _a.call(props, lastQuery);\n    setStopping(true);\n  } : void 0;\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\n    Button,\n    {\n      variant: props.enableRun ? \"primary\" : \"secondary\",\n      size: \"sm\",\n      onClick: onRunQuery,\n      icon: running && !stopping ? \"fa fa-spinner\" : void 0,\n      disabled: state === LoadingState.Loading || !props.enableRun\n    },\n    \"Run query\"\n  ), /* @__PURE__ */ React.createElement(\n    Button,\n    {\n      variant: running && !stopping ? \"primary\" : \"secondary\",\n      size: \"sm\",\n      disabled: !running || stopping,\n      icon: stopping ? \"fa fa-spinner\" : void 0,\n      onClick: onCancelQuery\n    },\n    \"Stop query\"\n  ));\n};\n\nexport { RunQueryButtons };\n//# sourceMappingURL=RunQueryButtons.js.map\n","import React from 'react';\nimport { LoadingState } from '@grafana/data';\nimport { EditorHeader, FlexItem } from '@grafana/plugin-ui';\nimport { Button } from '@grafana/ui';\nimport { RunQueryButtons } from '@grafana/async-query-data';\n\nfunction QueryEditorHeader({\n  query,\n  showAsyncQueryButtons,\n  extraHeaderElementLeft,\n  extraHeaderElementRight,\n  enableRunButton,\n  onRunQuery,\n  data,\n  cancel\n}) {\n  return /* @__PURE__ */ React.createElement(EditorHeader, null, extraHeaderElementLeft, /* @__PURE__ */ React.createElement(FlexItem, { grow: 1 }), showAsyncQueryButtons ? /* @__PURE__ */ React.createElement(\n    RunQueryButtons,\n    {\n      onRunQuery,\n      enableRun: enableRunButton,\n      query,\n      onCancelQuery: (target) => {\n        cancel == null ? void 0 : cancel(target);\n      },\n      state: data == null ? void 0 : data.state\n    }\n  ) : /* @__PURE__ */ React.createElement(\n    Button,\n    {\n      variant: enableRunButton ? \"primary\" : \"secondary\",\n      size: \"sm\",\n      onClick: onRunQuery,\n      icon: (data == null ? void 0 : data.state) === LoadingState.Loading ? \"fa fa-spinner\" : void 0,\n      disabled: (data == null ? void 0 : data.state) === LoadingState.Loading || !enableRunButton\n    },\n    \"Run queries\"\n  ), extraHeaderElementRight);\n}\n\nexport { QueryEditorHeader };\n//# sourceMappingURL=QueryEditorHeader.js.map\n","import React from 'react';\nimport { Select } from '@grafana/ui';\n\nfunction FormatSelect(props) {\n  var _a;\n  const onChangeFormat = (e) => {\n    var _a2;\n    props.onChange({\n      ...props.query,\n      format: e.value || 0\n    });\n    (_a2 = props.onRunQuery) == null ? void 0 : _a2.call(props);\n  };\n  return /* @__PURE__ */ React.createElement(\n    Select,\n    {\n      \"aria-label\": \"Format data frames as\",\n      id: (_a = props.id) != null ? _a : \"formatAs\",\n      options: props.options,\n      value: props.query.format,\n      onChange: onChangeFormat,\n      menuShouldPortal: true\n    }\n  );\n}\n\nexport { FormatSelect };\n//# sourceMappingURL=FormatSelect.js.map\n","import React from 'react';\nimport { Select, Input } from '@grafana/ui';\nimport { EditorField } from '@grafana/plugin-ui';\n\nvar FillValueOptions = /* @__PURE__ */ ((FillValueOptions2) => {\n  FillValueOptions2[FillValueOptions2[\"Previous\"] = 0] = \"Previous\";\n  FillValueOptions2[FillValueOptions2[\"Null\"] = 1] = \"Null\";\n  FillValueOptions2[FillValueOptions2[\"Value\"] = 2] = \"Value\";\n  return FillValueOptions2;\n})(FillValueOptions || {});\nconst SelectableFillValueOptions = [\n  {\n    label: \"Previous Value\",\n    value: 0 /* Previous */\n  },\n  {\n    label: \"NULL\",\n    value: 1 /* Null */\n  },\n  {\n    label: \"Value\",\n    value: 2 /* Value */\n  }\n];\nfunction FillValueSelect(props) {\n  var _a, _b, _c;\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(EditorField, { label: \"Fill with\", tooltip: \"value to fill missing points\", htmlFor: \"fillWith\" }, /* @__PURE__ */ React.createElement(\n    Select,\n    {\n      id: \"fillWith\",\n      \"aria-label\": \"Fill with\",\n      \"data-testid\": \"table-fill-with-select\",\n      options: SelectableFillValueOptions,\n      value: (_b = (_a = props.query.fillMode) == null ? void 0 : _a.mode) != null ? _b : 0 /* Previous */,\n      onChange: ({ value }) => {\n        var _a2;\n        props.onChange({\n          ...props.query,\n          // Keep the fillMode.value in case FillValueOptions.Value mode is selected back\n          fillMode: { ...props.query.fillMode, mode: value }\n        });\n        (_a2 = props.onRunQuery) == null ? void 0 : _a2.call(props);\n      },\n      menuShouldPortal: true\n    }\n  )), ((_c = props.query.fillMode) == null ? void 0 : _c.mode) === 2 /* Value */ && /* @__PURE__ */ React.createElement(EditorField, { label: \"Value\", htmlFor: \"valueToFill\", width: 6 }, /* @__PURE__ */ React.createElement(\n    Input,\n    {\n      id: \"valueToFill\",\n      \"aria-label\": \"Value\",\n      type: \"number\",\n      value: props.query.fillMode.value,\n      onChange: ({ currentTarget }) => props.onChange({\n        ...props.query,\n        fillMode: {\n          mode: 2 /* Value */,\n          value: currentTarget.valueAsNumber\n        }\n      }),\n      onBlur: () => {\n        var _a2;\n        return (_a2 = props.onRunQuery) == null ? void 0 : _a2.call(props);\n      }\n    }\n  )));\n}\n\nexport { FillValueOptions, FillValueSelect, SelectableFillValueOptions };\n//# sourceMappingURL=FillValueSelect.js.map\n","import React__default from 'react';\nimport { GenericConfigSection } from './GenericConfigSection.js';\n\nconst ConfigSubSection = ({ children, ...props }) => {\n  return /* @__PURE__ */ React__default.createElement(GenericConfigSection, { ...props, kind: \"sub-section\" }, children);\n};\n\nexport { ConfigSubSection };\n//# sourceMappingURL=ConfigSubSection.js.map\n","import React__default, { useState } from 'react';\nimport { css } from '@emotion/css';\nimport { useTheme2, IconButton } from '@grafana/ui';\n\nconst GenericConfigSection = ({\n  children,\n  title,\n  description,\n  isCollapsible = false,\n  isInitiallyOpen = true,\n  kind = \"section\",\n  className\n}) => {\n  const { colors, typography, spacing } = useTheme2();\n  const [isOpen, setIsOpen] = useState(isCollapsible ? isInitiallyOpen : true);\n  const iconName = isOpen ? \"angle-up\" : \"angle-down\";\n  const isSubSection = kind === \"sub-section\";\n  const collapsibleButtonAriaLabel = `${isOpen ? \"Collapse\" : \"Expand\"} section ${title}`;\n  const styles = {\n    header: css({\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\"\n    }),\n    title: css({\n      margin: 0\n    }),\n    subtitle: css({\n      margin: 0,\n      fontWeight: typography.fontWeightRegular\n    }),\n    descriptionText: css({\n      marginTop: spacing(isSubSection ? 0.25 : 0.5),\n      marginBottom: 0,\n      ...typography.bodySmall,\n      color: colors.text.secondary\n    }),\n    content: css({\n      marginTop: spacing(2)\n    })\n  };\n  return /* @__PURE__ */ React__default.createElement(\"div\", { className }, /* @__PURE__ */ React__default.createElement(\"div\", { className: styles.header }, kind === \"section\" ? /* @__PURE__ */ React__default.createElement(\"h3\", { className: styles.title }, title) : /* @__PURE__ */ React__default.createElement(\"h6\", { className: styles.subtitle }, title), isCollapsible && /* @__PURE__ */ React__default.createElement(\n    IconButton,\n    {\n      name: iconName,\n      onClick: () => setIsOpen(!isOpen),\n      type: \"button\",\n      size: \"xl\",\n      \"aria-label\": collapsibleButtonAriaLabel\n    }\n  )), description && /* @__PURE__ */ React__default.createElement(\"p\", { className: styles.descriptionText }, description), isOpen && /* @__PURE__ */ React__default.createElement(\"div\", { className: styles.content }, children));\n};\n\nexport { GenericConfigSection };\n//# sourceMappingURL=GenericConfigSection.js.map\n"],"names":["ConfigSection","children","props","standardRegions","AwsAuthType","AwsAuthType2","awsAuthProviderOptions","assumeRoleInstructionsStyle","DS_TYPES_THAT_SUPPORT_TEMP_CREDS","toOption","value","isAwsAuthType","opt","ConnectionConfig","_a","_b","_c","_d","_e","_f","_g","_h","_i","isARNInstructionsOpen","setIsARNInstructionsOpen","regions","setRegions","loadRegions","onOptionsChange","skipHeader","skipEndpoint","options","hideAssumeRoleArn","profile","tempCredsFeatureEnabled","awsAssumeRoleEnabled","awsAllowedAuthProviders","provider","currentProvider","p","regions2","ConfigSubSection","Field","option","ButtonGroup","ToolbarButton","Collapse","region","r","versionPattern","SemVersion","version","match","compared","i","a","b","Divider","theme","SIGV4ConnectionConfig","connectionConfigProps","awsDataSourceSettings","_a2","_b2","_c2","_d2","dataSourceSettings","propsDependencies","propsOnChange","dependencies","fetched","resource","resources","setResources","isLoading","setIsLoading","defaultOpts","opts","setOptions","newOptions","o","fetch","resources2","onChange","e","onClick","ConfigSelect","jsonData","commonProps","InlineInput","QueryCodeEditor","getSuggestions","query","rawSQL","onRawSqlChange","rawSQL2","query2","suggestionsRef","DELAY_INTERVAL_MS","MAX_NEXT_REQUEST_DELAY","getRequestLooper","req","Observable","subscriber","nextQuery","subscription","loadingState","nextRequestDelay","count","shouldCancel","observer","rsp","checkstate","_shouldCancel","data","err","next","isFunction","hasLift","source","operate","init","liftedSource","createErrorClass","createImpl","_super","instance","ctorFunc","UnsubscriptionError","errors","arrRemove","arr","item","index","Subscription","initialTeardown","e_1","e_2","_parentage","_parentage_1","_parentage_1_1","parent_1","e_1_1","initialFinalizer","_finalizers","_finalizers_1","_finalizers_1_1","finalizer","execFinalizer","e_2_1","teardown","parent","empty","isSubscription","timeoutProvider","handler","timeout","args","handle","reportUnhandledError","noop","Subscriber","destination","_this","EMPTY_OBSERVER","error","complete","SafeSubscriber","ConsumerObserver","partialObserver","handleUnhandledError","observerOrNext","defaultErrorHandler","createOperatorSubscriber","onNext","onComplete","onError","onFinalize","OperatorSubscriber","shouldUnsubscribe","closed_1","map","project","thisArg","isArrayLike","x","isPromise","observable","identity","pipeFromArray","fns","input","prev","fn","errorContext","cb","subscribe","operator","isSubscriber","sink","promiseCtor","getPromiseCtor","resolve","reject","operations","isObserver","isInteropObservable","isAsyncIterable","obj","createInvalidObservableTypeError","getSymbolIterator","iterator","isIterable","readableStreamLikeToAsyncGenerator","readableStream","reader","done","isReadableStreamLike","innerFrom","fromInteropObservable","fromArrayLike","fromPromise","fromAsyncIterable","fromIterable","fromReadableStreamLike","obs","array","promise","iterable","iterable_1","iterable_1_1","asyncIterable","process","asyncIterable_1","asyncIterable_1_1","catchError","selector","innerSub","syncUnsub","handledResult","RUNNING_STATUSES","isRunning","status","isCustomMeta","meta","DatasourceWithAsyncBackend","DataSourceWithBackend","instanceSettings","target","request","targets","of","all","merge","queryInfo","key","existingQueryInfo","queryID","allData","request2","range","requestId","intervalMs","maxDataPoints","_query","result","frame","state","running","setRunning","stopping","setStopping","lastState","setLastState","lastQuery","setLastQuery","onRunQuery","onCancelQuery","QueryEditorHeader","showAsyncQueryButtons","extraHeaderElementLeft","extraHeaderElementRight","enableRunButton","cancel","FormatSelect","onChangeFormat","FillValueOptions","FillValueOptions2","SelectableFillValueOptions","FillValueSelect","currentTarget","GenericConfigSection","title","description","isCollapsible","isInitiallyOpen","kind","className","colors","typography","spacing","isOpen","setIsOpen","iconName","isSubSection","collapsibleButtonAriaLabel","styles"],"sourceRoot":""}