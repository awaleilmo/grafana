"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[9898],{22192:(u,r,t)=>{t.r(r),t.d(r,{default:()=>T});var n=t(74848),o=t(29189),f=t(54148),a=t(92745),M=t(50201),v=t(68079),O=t(89640),x=t(66404),g=t(41654),l=t(8073),y=t(35942),h=t(83793),c=t(13791),m=t(74101),j=t(62939),P=t(91555),L=t(79755),R=t(75664);function T(){const e=(0,f.g)(),_=e.name??"",E=e["*"]??"",[i]=(0,m.z)(),s=i.get("repo_type"),d=!(0,R.Z)(s),p=(0,h.c2)({name:_}),D=(0,h.$j)(d?o.hT:{name:_,path:E}),B=p.isError&&(0,j.E)(p.error)||d,C=d?(0,a.t)("provisioning.file-history-page.history-not-supported","File history is not supported for this repository"):(0,a.t)("provisioning.file-history-page.repository-not-found","Repository not found");return(0,n.jsx)(c.Y,{navId:"provisioning",pageNav:{text:`History: ${E}`,subTitle:p.data?.spec?.title??"Repository"},children:(0,n.jsx)(c.Y.Contents,{isLoading:!1,children:B?(0,n.jsxs)(M.p,{message:C,variant:"not-found",children:[(0,n.jsx)(x.E,{element:"p",children:s!=="git"&&(0,n.jsx)(a.x6,{i18nKey:"provisioning.file-history-page.repository-config-exists-configuration",children:"Make sure the repository config exists in the configuration file."})}),(0,n.jsx)(O.Y,{href:P.mL,children:(0,n.jsx)(a.x6,{i18nKey:"provisioning.file-history-page.back-to-repositories",children:"Back to repositories"})})]}):(0,n.jsx)("div",{children:D.data?(0,n.jsx)(A,{history:D.data,path:E,repo:_}):(0,n.jsx)(v.y,{})})})})}function A({history:e,path:_,repo:E}){return e.items?(0,n.jsx)(g.B,{direction:"column",children:e.items.map(i=>(0,n.jsxs)(l.Z,{href:`${P.mL}/${E}/file/${_}?ref=${i.ref}`,children:[(0,n.jsx)(l.Z.Heading,{children:i.message}),(0,n.jsx)(l.Z.Meta,{children:(0,n.jsx)("span",{children:(0,L.E)(i.createdAt)})}),(0,n.jsx)(l.Z.Description,{children:(0,n.jsx)(g.B,{children:i.authors.map(s=>(0,n.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[s.avatarURL&&(0,n.jsx)(y.n,{userView:{user:{name:s.name,avatarUrl:s.avatarURL},lastActiveAt:new Date().toISOString()},showTooltip:!1}),(0,n.jsx)("a",{href:`https://github.com/${s.username}`,children:s.name})]},s.username))})})]},i.ref))}):(0,n.jsx)(a.x6,{i18nKey:"provisioning.history-view.not-found",children:"Not found"})}},75664:(u,r,t)=>{t.d(r,{Z:()=>n});function n(o){return!!o&&new Set(["github","gitlab","bitbucket"]).has(o)}},79755:(u,r,t)=>{t.d(r,{E:()=>n});function n(o){return o?new Date(o).toLocaleString():"N/A"}}}]);

//# sourceMappingURL=FileHistoryPage.006b02d1d9d90e3b9137.js.map