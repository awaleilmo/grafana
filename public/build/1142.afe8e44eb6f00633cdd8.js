"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[1142],{11142:(tc,Er,G)=>{G.d(Er,{i:()=>La});var c=G(74848),nc=G(16264),he=G(34164),Dr=G(47078),on=G.n(Dr),u=G(96540),Ht=G(40961);function Pe(e,t,o){const n=typeof e.colSpan=="function"?e.colSpan(o):1;if(Number.isInteger(n)&&n>1&&(!e.frozen||e.idx+n-1<=t))return n}function Tr(e){e.stopPropagation()}function Mt(e,t="instant"){e?.scrollIntoView({inline:"nearest",block:"nearest",behavior:t})}function bn(e){let t=!1;const o={...e,preventGridDefault(){t=!0},isGridDefaultPrevented(){return t}};return Object.setPrototypeOf(o,Object.getPrototypeOf(e)),o}const kr=new Set(["Unidentified","Alt","AltGraph","CapsLock","Control","Fn","FnLock","Meta","NumLock","ScrollLock","Shift","Tab","ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Home","PageDown","PageUp","Insert","ContextMenu","Escape","Pause","Play","PrintScreen","F1","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12"]);function In(e){return(e.ctrlKey||e.metaKey)&&e.key!=="Control"}const Lr=86;function Ar(e,t){return In(e)&&(e.keyCode!==Lr||t)?!1:!kr.has(e.key)}function Pr({key:e,target:t}){return e==="Tab"&&(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement||t instanceof HTMLSelectElement)?t.closest(".rdg-editor-container")?.querySelectorAll("input, textarea, select").length===1:!1}function En(e){const t=e==="rtl";return{leftKey:t?"ArrowRight":"ArrowLeft",rightKey:t?"ArrowLeft":"ArrowRight"}}const Hr="mlln6zg7-0-0-beta-56";function Mr(e){return e.map(({key:t,idx:o,minWidth:n,maxWidth:s})=>(0,c.jsx)("div",{className:Hr,style:{gridColumnStart:o+1,minWidth:n,maxWidth:s},"data-measuring-cell-key":t},t))}function jr({selectedPosition:e,columns:t,rows:o}){const n=t[e.idx],s=o[e.rowIdx];return go(n,s)}function go(e,t){return e.renderEditCell!=null&&(typeof e.editable=="function"?e.editable(t):e.editable)!==!1}function Nr({rows:e,topSummaryRows:t,bottomSummaryRows:o,rowIdx:n,mainHeaderRowIdx:s,lastFrozenColumnIndex:r,column:i}){const l=t?.length??0;if(n===s)return Pe(i,r,{type:"HEADER"});if(t&&n>s&&n<=l+s)return Pe(i,r,{type:"SUMMARY",row:t[n+l]});if(n>=0&&n<e.length){const a=e[n];return Pe(i,r,{type:"ROW",row:a})}if(o)return Pe(i,r,{type:"SUMMARY",row:o[n-e.length]})}function Fr({moveUp:e,moveNext:t,cellNavigationMode:o,columns:n,colSpanColumns:s,rows:r,topSummaryRows:i,bottomSummaryRows:l,minRowIdx:a,mainHeaderRowIdx:d,maxRowIdx:f,currentPosition:{idx:g,rowIdx:h},nextPosition:p,lastFrozenColumnIndex:C,isCellWithinBounds:S}){let{idx:b,rowIdx:D}=p;const R=n.length,v=E=>{for(const T of s){const k=T.idx;if(k>b)break;const A=Nr({rows:r,topSummaryRows:i,bottomSummaryRows:l,rowIdx:D,mainHeaderRowIdx:d,lastFrozenColumnIndex:C,column:T});if(A&&b>k&&b<A+k){b=k+(E?A:0);break}}},w=E=>E.level+d,x=()=>{if(t){let T=n[b].parent;for(;T!==void 0;){const k=w(T);if(D===k){b=T.idx+T.colSpan;break}T=T.parent}}else if(e){let T=n[b].parent,k=!1;for(;T!==void 0;){const A=w(T);if(D>=A){b=T.idx,D=A,k=!0;break}T=T.parent}k||(b=g,D=h)}};if(S(p)&&(v(t),D<d&&x()),o==="CHANGE_ROW"&&(b===R?D===f||(b=0,D+=1):b===-1&&(D===a||(D-=1,b=R-1),v(!1))),D<d&&b>-1&&b<R){let T=n[b].parent;const k=D;for(D=d;T!==void 0;){const A=w(T);A>=k&&(D=A,b=T.idx),T=T.parent}}return{idx:b,rowIdx:D}}function Or({maxColIdx:e,minRowIdx:t,maxRowIdx:o,selectedPosition:{rowIdx:n,idx:s},shiftKey:r}){return r?s===0&&n===t:s===e&&n===o}const ho="rdg-cell cj343x07-0-0-beta-56",zr="rdg-cell-frozen csofj7r7-0-0-beta-56",Gr="ch2wcw87-0-0-beta-56",Wr="c1wvphzh7-0-0-beta-56",$r=`rdg-cell-drag-handle ${Gr}`;function Dn(e){return{"--rdg-grid-row-start":e}}function po(e,t,o){const n=t+1,s=`calc(${o-1} * var(--rdg-header-row-height))`;return e.parent===void 0?{insetBlockStart:0,gridRowStart:1,gridRowEnd:n,paddingBlockStart:s}:{insetBlockStart:`calc(${t-o} * var(--rdg-header-row-height))`,gridRowStart:n-o,gridRowEnd:n,paddingBlockStart:s}}function St(e,t=1){const o=e.idx+1;return{gridColumnStart:o,gridColumnEnd:o+t,insetInlineStart:e.frozen?`var(--rdg-frozen-left-${e.idx})`:void 0}}function vt(e,...t){return(0,he.A)(ho,{[zr]:e.frozen},...t)}const{min:jt,max:rn,floor:Tn,sign:Br,abs:Vr}=Math;function Nt(e){if(typeof e!="function")throw new Error("Please specify the rowKeyGetter prop to use selection")}function kn(e,{minWidth:t,maxWidth:o}){return e=rn(e,t),typeof o=="number"&&o>=t?jt(e,o):e}function mo(e,t){return e.parent===void 0?t:e.level-e.parent.level}const Ur="rdg-checkbox-input c1bn88vv7-0-0-beta-56";function Kr({onChange:e,indeterminate:t,...o}){function n(s){e(s.target.checked,s.nativeEvent.shiftKey)}return(0,c.jsx)("input",{ref:s=>{s&&(s.indeterminate=t===!0)},type:"checkbox",className:Ur,onChange:n,...o})}const lc="g1s9ylgp7-0-0-beta-56",Yr=null,ic="cz54e4y7-0-0-beta-56",Xr=null;function Jr(e){return jsx(Zr,{...e})}function Zr({groupKey:e,isExpanded:t,tabIndex:o,toggleGroup:n}){function s({key:i}){i==="Enter"&&n()}const r=t?"M1 1 L 7 7 L 13 1":"M1 7 L 7 1 L 13 7";return jsxs("span",{className:Yr,tabIndex:o,onKeyDown:s,children:[e,jsx("svg",{viewBox:"0 0 14 8",width:"14",height:"8",className:Xr,"aria-hidden":!0,children:jsx("path",{d:r})})]})}function Qr(e){try{return e.row[e.column.key]}catch{return null}}const Co=(0,u.createContext)(void 0);function Ft(){return(0,u.useContext)(Co)}function Ln({value:e,tabIndex:t,indeterminate:o,disabled:n,onChange:s,"aria-label":r,"aria-labelledby":i}){const l=Ft().renderCheckbox;return l({"aria-label":r,"aria-labelledby":i,tabIndex:t,indeterminate:o,disabled:n,checked:e,onChange:s})}const An=(0,u.createContext)(void 0),wo=(0,u.createContext)(void 0);function xo(){const e=(0,u.useContext)(An),t=(0,u.useContext)(wo);if(e===void 0||t===void 0)throw new Error("useRowSelection must be used within renderCell");return{isRowSelectionDisabled:e.isRowSelectionDisabled,isRowSelected:e.isRowSelected,onRowSelectionChange:t}}const yo=(0,u.createContext)(void 0),So=(0,u.createContext)(void 0);function _r(){const e=(0,u.useContext)(yo),t=(0,u.useContext)(So);if(e===void 0||t===void 0)throw new Error("useHeaderRowSelection must be used within renderHeaderCell");return{isIndeterminate:e.isIndeterminate,isRowSelected:e.isRowSelected,onRowSelectionChange:t}}const Rt="rdg-select-column";function qr(e){const{isIndeterminate:t,isRowSelected:o,onRowSelectionChange:n}=_r();return(0,c.jsx)(Ln,{"aria-label":"Select All",tabIndex:e.tabIndex,indeterminate:t,value:o,onChange:s=>{n({checked:t?!1:s})}})}function es(e){const{isRowSelectionDisabled:t,isRowSelected:o,onRowSelectionChange:n}=xo();return(0,c.jsx)(Ln,{"aria-label":"Select",tabIndex:e.tabIndex,disabled:t,value:o,onChange:(s,r)=>{n({row:e.row,checked:s,isShiftClick:r})}})}function ts(e){const{isRowSelected:t,onRowSelectionChange:o}=xo();return(0,c.jsx)(Ln,{"aria-label":"Select Group",tabIndex:e.tabIndex,value:t,onChange:n=>{o({row:e.row,checked:n,isShiftClick:!1})}})}const ac={key:Rt,name:"",width:35,minWidth:35,maxWidth:35,resizable:!1,sortable:!1,frozen:!0,renderHeaderCell(e){return(0,c.jsx)(qr,{...e})},renderCell(e){return(0,c.jsx)(es,{...e})},renderGroupCell(e){return(0,c.jsx)(ts,{...e})}},ns="h44jtk67-0-0-beta-56",os="rdg-header-sort-name hcgkhxz7-0-0-beta-56";function rs({column:e,sortDirection:t,priority:o}){return e.sortable?(0,c.jsx)(ss,{sortDirection:t,priority:o,children:e.name}):e.name}function ss({sortDirection:e,priority:t,children:o}){const n=Ft().renderSortStatus;return(0,c.jsxs)("span",{className:ns,children:[(0,c.jsx)("span",{className:os,children:o}),(0,c.jsx)("span",{children:n({sortDirection:e,priority:t})})]})}const ls="auto",is=50;function as({rawColumns:e,defaultColumnOptions:t,getColumnWidth:o,viewportWidth:n,scrollLeft:s,enableVirtualization:r}){const i=t?.width??ls,l=t?.minWidth??is,a=t?.maxWidth??void 0,d=t?.renderCell??Qr,f=t?.renderHeaderCell??rs,g=t?.sortable??!1,h=t?.resizable??!1,p=t?.draggable??!1,{columns:C,colSpanColumns:S,lastFrozenColumnIndex:b,headerRowsCount:D}=(0,u.useMemo)(()=>{let k=-1,A=1;const L=[];_(e,1);function _(N,X,oe){for(const j of N){if("children"in j){const Le={name:j.name,parent:oe,idx:-1,colSpan:0,level:0,headerCellClass:j.headerCellClass};_(j.children,X+1,Le);continue}const ie=j.frozen??!1,He={...j,parent:oe,idx:0,level:0,frozen:ie,width:j.width??i,minWidth:j.minWidth??l,maxWidth:j.maxWidth??a,sortable:j.sortable??g,resizable:j.resizable??h,draggable:j.draggable??p,renderCell:j.renderCell??d,renderHeaderCell:j.renderHeaderCell??f};L.push(He),ie&&k++,X>A&&(A=X)}}L.sort(({key:N,frozen:X},{key:oe,frozen:j})=>N===Rt?-1:oe===Rt?1:X?j?0:-1:j?1:0);const B=[];return L.forEach((N,X)=>{N.idx=X,vo(N,X,0),N.colSpan!=null&&B.push(N)}),{columns:L,colSpanColumns:B,lastFrozenColumnIndex:k,headerRowsCount:A}},[e,i,l,a,d,f,h,g,p]),{templateColumns:R,layoutCssVars:v,totalFrozenColumnWidth:w,columnMetrics:x}=(0,u.useMemo)(()=>{const k=new Map;let A=0,L=0;const _=[];for(const N of C){let X=o(N);typeof X=="number"?X=kn(X,N):X=N.minWidth,_.push(`${X}px`),k.set(N,{width:X,left:A}),A+=X}if(b!==-1){const N=k.get(C[b]);L=N.left+N.width}const B={};for(let N=0;N<=b;N++){const X=C[N];B[`--rdg-frozen-left-${X.idx}`]=`${k.get(X).left}px`}return{templateColumns:_,layoutCssVars:B,totalFrozenColumnWidth:L,columnMetrics:k}},[o,C,b]),[E,T]=(0,u.useMemo)(()=>{if(!r)return[0,C.length-1];const k=s+w,A=s+n,L=C.length-1,_=jt(b+1,L);if(k>=A)return[_,_];let B=_;for(;B<L;){const{left:j,width:ie}=x.get(C[B]);if(j+ie>k)break;B++}let N=B;for(;N<L;){const{left:j,width:ie}=x.get(C[N]);if(j+ie>=A)break;N++}const X=rn(_,B-1),oe=jt(L,N+1);return[X,oe]},[x,C,b,s,w,n,r]);return{columns:C,colSpanColumns:S,colOverscanStartIdx:E,colOverscanEndIdx:T,templateColumns:R,layoutCssVars:v,headerRowsCount:D,lastFrozenColumnIndex:b,totalFrozenColumnWidth:w}}function vo(e,t,o){if(o<e.level&&(e.level=o),e.parent!==void 0){const{parent:n}=e;n.idx===-1&&(n.idx=t),n.colSpan+=1,vo(n,t,o-1)}}const Ot=typeof window>"u"?u.useEffect:u.useLayoutEffect;function cs(e,t,o,n,s,r,i,l,a){const[d,f]=(0,u.useState)(null),[g,h]=(0,u.useState)(null),[p,C]=(0,u.useState)(s),S=e.length===t.length,b=S&&s!==p,D=[...o],R=[];for(const{key:E,idx:T,width:k}of t){const A=r.get(E);E===d?.key?(D[T]=d.width==="max-content"?d.width:`${d.width}px`,R.push(E)):typeof k=="string"&&A?.type!=="resized"&&(b||g?.has(E)===!0||A===void 0)&&(D[T]=k,R.push(E))}const v=D.join(" ");Ot(w);function w(){if(C(s),R.length===0)return;const E=new Map(r);let T=!1;for(const k of R){const A=Pn(n,k);T||=A!==r.get(k)?.width,A===void 0?E.delete(k):E.set(k,{type:"measured",width:A})}if(d!==null){const k=d.key,A=r.get(k)?.width,L=Pn(n,k);L!==void 0&&A!==L&&(T=!0,E.set(k,{type:"resized",width:L})),f(null)}T&&i(E)}function x(E,T){const{key:k}=E;if((0,Ht.flushSync)(()=>{if(S){const A=new Set;for(const{key:L,width:_}of t)k!==L&&typeof _=="string"&&r.get(L)?.type!=="resized"&&A.add(L);h(A)}f({key:k,width:T}),a(typeof T=="number")}),h(null),l){const A=r.get(k)?.width,L=typeof T=="number"?T:Pn(n,k);L!==void 0&&L!==A&&l(E,L)}}return{gridTemplateColumns:v,handleColumnResize:x}}function Pn(e,t){const o=`[data-measuring-cell-key="${CSS.escape(t)}"]`;return e.current?.querySelector(o)?.getBoundingClientRect().width}function ds(){const e=(0,u.useRef)(null),[t,o]=(0,u.useState)(1),[n,s]=(0,u.useState)(1),[r,i]=(0,u.useState)(0);return Ot(()=>{const{ResizeObserver:l}=window;if(l==null)return;const{clientWidth:a,clientHeight:d,offsetWidth:f,offsetHeight:g}=e.current,{width:h,height:p}=e.current.getBoundingClientRect(),C=g-d,S=h-f+a,b=p-C;o(S),s(b),i(C);const D=new l(R=>{const v=R[0].contentBoxSize[0],{clientHeight:w,offsetHeight:x}=e.current;(0,Ht.flushSync)(()=>{o(v.inlineSize),s(v.blockSize),i(x-w)})});return D.observe(e.current),()=>{D.disconnect()}},[]),[e,t,n,r]}function ye(e){const t=(0,u.useRef)(e);(0,u.useLayoutEffect)(()=>{t.current=e});const o=(0,u.useCallback)((...n)=>{t.current(...n)},[]);return e&&o}function zt(e){const[t,o]=(0,u.useState)(!1);t&&!e&&o(!1);function n(r){if(r.target===r.currentTarget){const i=r.currentTarget.querySelector('[tabindex="0"]');i!==null?(i.focus({preventScroll:!0}),o(!0)):o(!1)}else o(!0)}return{tabIndex:e&&!t?0:-1,childTabIndex:e?0:-1,onFocus:e?n:void 0}}function us({columns:e,colSpanColumns:t,rows:o,topSummaryRows:n,bottomSummaryRows:s,colOverscanStartIdx:r,colOverscanEndIdx:i,lastFrozenColumnIndex:l,rowOverscanStartIdx:a,rowOverscanEndIdx:d}){const f=(0,u.useMemo)(()=>{if(r===0)return 0;let g=r;const h=(p,C)=>C!==void 0&&p+C>r?(g=p,!0):!1;for(const p of t){const C=p.idx;if(C>=g||h(C,Pe(p,l,{type:"HEADER"})))break;for(let S=a;S<=d;S++){const b=o[S];if(h(C,Pe(p,l,{type:"ROW",row:b})))break}if(n!=null){for(const S of n)if(h(C,Pe(p,l,{type:"SUMMARY",row:S})))break}if(s!=null){for(const S of s)if(h(C,Pe(p,l,{type:"SUMMARY",row:S})))break}}return g},[a,d,o,n,s,r,l,t]);return(0,u.useMemo)(()=>{const g=[];for(let h=0;h<=i;h++){const p=e[h];h<f&&!p.frozen||g.push(p)}return g},[f,i,e])}function fs({element:e,rows:t,rowHeight:o,clientHeight:n,scrollTop:s,enableVirtualization:r,gridHeight:i}){const{totalRowHeight:l,gridTemplateRows:a,getRowTop:d,getRowHeight:f,findRowIdx:g}=(0,u.useMemo)(()=>{if(typeof o=="number")return{totalRowHeight:o*t.length,gridTemplateRows:` repeat(${t.length}, ${o}px)`,getRowTop:R=>R*o,getRowHeight:()=>o,findRowIdx:R=>Tn(R/o)};if(typeof o=="string"){const R=(w,x)=>{const E=w.querySelector(".rdg-header-row")?x+2:x+1;return w.querySelector(`[role="row"][aria-rowindex="${E}"] > [role="gridcell"]`)},v=(w,x)=>{const E=R(w,x);return E?E.getBoundingClientRect().top+w.scrollTop:-1};return{totalRowHeight:e?.scrollHeight??i,gridTemplateRows:` repeat(${t.length}, ${o})`,getRowTop(w){if(!e)return-1;const x=R(e,w);return x?x.getBoundingClientRect().top+e.scrollTop:-1},getRowHeight(w){if(!e)return-1;const x=R(e,w);return x?x.clientHeight:-1},findRowIdx(w){if(!e)return-1;let x=0,E=t.length-1;for(;x<=E;){const T=x+Tn((E-x)/2),k=v(e,T),A=v(e,T-1);if(k>=w&&A<w)return T;if(k<w?x=T+1:k>w&&(E=T-1),x>E)return E}return-1}}}let C=0,S=" ";const b=t.map(R=>{const v=o(R),w={top:C,height:v};return S+=`${v}px `,C+=v,w}),D=R=>rn(0,jt(t.length-1,R));return{totalRowHeight:C,gridTemplateRows:S,getRowTop:R=>b[D(R)].top,getRowHeight:R=>b[D(R)].height,findRowIdx(R){let v=0,w=b.length-1;for(;v<=w;){const x=v+Tn((w-v)/2),E=b[x].top;if(E===R)return x;if(E<R?v=x+1:E>R&&(w=x-1),v>w)return w}return 0}}},[e,i,o,t]);let h=0,p=t.length-1;if(r){const S=g(s),b=g(s+n);h=rn(0,S-4),p=jt(t.length-1,b+4)}return{rowOverscanStartIdx:h,rowOverscanEndIdx:p,totalRowHeight:l,gridTemplateRows:a,getRowTop:d,getRowHeight:f,findRowIdx:g}}const gs="rdg-cell-dragged-over c6ra8a37-0-0-beta-56";function hs({column:e,colSpan:t,isCellSelected:o,isDraggedOver:n,row:s,rowIdx:r,className:i,onMouseDown:l,onCellMouseDown:a,onClick:d,onCellClick:f,onDoubleClick:g,onCellDoubleClick:h,onContextMenu:p,onCellContextMenu:C,onRowChange:S,selectCell:b,style:D,...R},v){const{tabIndex:w,childTabIndex:x,onFocus:E}=zt(o),{cellClass:T}=e;i=vt(e,{[gs]:n},typeof T=="function"?T(s):T,i);const k=go(e,s);function A(j){b({rowIdx:r,idx:e.idx},{enableEditor:j})}function L(j,ie){let He=!1;if(ie){const Le=bn(j);ie({rowIdx:r,row:s,column:e,selectCell:A},Le),He=Le.isGridDefaultPrevented()}return He}function _(j){l?.(j),L(j,a)||A()}function B(j){d?.(j),L(j,f)}function N(j){g?.(j),L(j,h)||A(!0)}function X(j){p?.(j),L(j,C)}function oe(j){S(e,j)}return(0,c.jsx)("div",{role:"gridcell","aria-colindex":e.idx+1,"aria-colspan":t,"aria-selected":o,"aria-readonly":!k||void 0,ref:v,tabIndex:w,className:i,style:{...St(e,t),...D},onClick:B,onMouseDown:_,onDoubleClick:N,onContextMenu:X,onFocus:E,...R,children:e.renderCell({column:e,row:s,rowIdx:r,isCellEditable:k,tabIndex:x,onRowChange:oe})})}const Ro=(0,u.memo)((0,u.forwardRef)(hs));var bo=Ro;function ps(e,t){return(0,c.jsx)(Ro,{...t},e)}const ms=typeof scheduler=="object"&&typeof scheduler.postTask=="function",Cs="cis5rrm7-0-0-beta-56";function ws({column:e,colSpan:t,row:o,rowIdx:n,onRowChange:s,closeEditor:r,onKeyDown:i,navigate:l}){const a=(0,u.useRef)(void 0),d=(0,u.useRef)(void 0),f=(0,u.useRef)(void 0),g=e.editorOptions?.commitOnOutsideClick??!0,h=ye(()=>{S(!0,!1)});(0,u.useLayoutEffect)(()=>{if(!g)return;function v(x){if(a.current=x,ms){const E=new AbortController,{signal:T}=E;d.current=E,scheduler.postTask(h,{priority:"user-blocking",signal:T}).catch(()=>{})}else f.current=requestAnimationFrame(h)}function w(x){a.current===x&&h()}return addEventListener("mousedown",v,{capture:!0}),addEventListener("mousedown",w),()=>{removeEventListener("mousedown",v,{capture:!0}),removeEventListener("mousedown",w),p()}},[g,h]);function p(){a.current=void 0,d.current!==void 0&&(d.current.abort(),d.current=void 0),f.current!==void 0&&(cancelAnimationFrame(f.current),f.current=void 0)}function C(v){if(i){const w=bn(v);if(i({mode:"EDIT",row:o,column:e,rowIdx:n,navigate(){l(v)},onClose:S},w),w.isGridDefaultPrevented())return}v.key==="Escape"?S():v.key==="Enter"?S(!0):Pr(v)&&l(v)}function S(v=!1,w=!0){v?s(o,!0,w):r(w)}function b(v,w=!1){s(v,w,w)}const{cellClass:D}=e,R=vt(e,"rdg-editor-container",!e.editorOptions?.displayCellContent&&Cs,typeof D=="function"?D(o):D);return(0,c.jsx)("div",{role:"gridcell","aria-colindex":e.idx+1,"aria-colspan":t,"aria-selected":!0,className:R,style:St(e,t),onKeyDown:C,onMouseDownCapture:p,children:e.renderEditCell!=null&&(0,c.jsxs)(c.Fragment,{children:[e.renderEditCell({column:e,row:o,rowIdx:n,onRowChange:b,onClose:S}),e.editorOptions?.displayCellContent&&e.renderCell({column:e,row:o,rowIdx:n,isCellEditable:!0,tabIndex:-1,onRowChange:b})]})})}function xs({column:e,rowIdx:t,isCellSelected:o,selectCell:n}){const{tabIndex:s,onFocus:r}=zt(o),{colSpan:i}=e,l=mo(e,t),a=e.idx+1;function d(){n({idx:e.idx,rowIdx:t})}return(0,c.jsx)("div",{role:"columnheader","aria-colindex":a,"aria-colspan":i,"aria-rowspan":l,"aria-selected":o,tabIndex:s,className:(0,he.A)(ho,e.headerCellClass),style:{...po(e,t,l),gridColumnStart:a,gridColumnEnd:a+i},onFocus:r,onMouseDown:d,children:e.name})}const ys="c6l2wv17-0-0-beta-56",Ss="rdg-cell-resizable c1kqdw7y7-0-0-beta-56",vs="r1y6ywlx7-0-0-beta-56",Rs="rdg-cell-draggable",bs="rdg-cell-dragging c1bezg5o7-0-0-beta-56",Is="rdg-cell-drag-over c1vc96037-0-0-beta-56",Es="d8rwc9w7-0-0-beta-56";function Ds({column:e,colSpan:t,rowIdx:o,isCellSelected:n,onColumnResize:s,onColumnResizeEnd:r,onColumnsReorder:i,sortColumns:l,onSortColumnsChange:a,selectCell:d,shouldFocusGrid:f,direction:g,draggedColumnKey:h,setDraggedColumnKey:p}){const[C,S]=(0,u.useState)(!1),b=(0,u.useRef)(null),D=h===e.key,R=mo(e,o),{tabIndex:v,childTabIndex:w,onFocus:x}=zt(f||n),E=l?.findIndex(P=>P.columnKey===e.key),T=E!==void 0&&E>-1?l[E]:void 0,k=T?.direction,A=T!==void 0&&l.length>1?E+1:void 0,L=k&&!A?k==="ASC"?"ascending":"descending":void 0,{sortable:_,resizable:B,draggable:N}=e,X=vt(e,e.headerCellClass,{[ys]:_,[Ss]:B,[Rs]:N,[bs]:D,[Is]:C});function oe(P){if(a==null)return;const{sortDescendingFirst:Z}=e;if(T===void 0){const q={columnKey:e.key,direction:Z?"DESC":"ASC"};a(l&&P?[...l,q]:[q])}else{let q;if((Z===!0&&k==="DESC"||Z!==!0&&k==="ASC")&&(q={columnKey:e.key,direction:k==="ASC"?"DESC":"ASC"}),P){const ae=[...l];q?ae[E]=q:ae.splice(E,1),a(ae)}else a(q?[q]:[])}}function j(P){x?.(P),f&&d({idx:0,rowIdx:o})}function ie(){d({idx:e.idx,rowIdx:o})}function He(P){_&&oe(P.ctrlKey||P.metaKey)}function Le(P){const{key:Z}=P;if(_&&(Z===" "||Z==="Enter"))P.preventDefault(),oe(P.ctrlKey||P.metaKey);else if(B&&In(P)&&(Z==="ArrowLeft"||Z==="ArrowRight")){P.stopPropagation();const{width:q}=P.currentTarget.getBoundingClientRect(),{leftKey:ae}=En(g),ve=kn(q+(Z===ae?-10:10),e);ve!==q&&s(e,ve)}}function qe(P){(0,Ht.flushSync)(()=>{p(e.key)}),P.dataTransfer.setDragImage(b.current,0,0),P.dataTransfer.dropEffect="move"}function et(){p(void 0)}function tt(P){P.preventDefault(),P.dataTransfer.dropEffect="move"}function Oe(P){S(!1),P.preventDefault(),i?.(h,e.key)}function ze(P){Io(P)&&S(!0)}function O(P){Io(P)&&S(!1)}let F,K;N&&(F={draggable:!0,onDragStart:qe,onDragEnd:et},h!==void 0&&h!==e.key&&(K={onDragOver:tt,onDragEnter:ze,onDragLeave:O,onDrop:Oe}));const W={...po(e,o,R),...St(e,t)},ne=e.renderHeaderCell({column:e,sortDirection:k,priority:A,tabIndex:w});return(0,c.jsxs)(c.Fragment,{children:[D&&(0,c.jsx)("div",{ref:b,style:W,className:vt(e,e.headerCellClass,Es),children:ne}),(0,c.jsxs)("div",{role:"columnheader","aria-colindex":e.idx+1,"aria-colspan":t,"aria-rowspan":R,"aria-selected":n,"aria-sort":L,tabIndex:v,className:X,style:W,onMouseDown:ie,onFocus:j,onClick:He,onKeyDown:Le,...F,...K,children:[ne,B&&(0,c.jsx)(Ts,{direction:g,column:e,onColumnResize:s,onColumnResizeEnd:r})]})]})}function Ts({direction:e,column:t,onColumnResize:o,onColumnResizeEnd:n}){const s=(0,u.useRef)(void 0),r=e==="rtl";function i(f){if(f.pointerType==="mouse"&&f.buttons!==1)return;f.preventDefault();const{currentTarget:g,pointerId:h}=f;g.setPointerCapture(h);const p=g.parentElement,{right:C,left:S}=p.getBoundingClientRect();s.current=r?f.clientX-S:C-f.clientX}function l(f){const g=s.current;if(g===void 0)return;const{width:h,right:p,left:C}=f.currentTarget.parentElement.getBoundingClientRect();let S=r?p+g-f.clientX:f.clientX+g-C;S=kn(S,t),h>0&&S!==h&&o(t,S)}function a(){n(),s.current=void 0}function d(){o(t,"max-content")}return(0,c.jsx)("div",{className:vs,onClick:Tr,onPointerDown:i,onPointerMove:l,onLostPointerCapture:a,onDoubleClick:d})}function Io(e){const t=e.relatedTarget;return!e.currentTarget.contains(t)}const Hn="rdg-row r1upfr807-0-0-beta-56",ks="r190mhd37-0-0-beta-56",sn="rdg-row-selected",Ls="r139qu9m7-0-0-beta-56",As="rdg-top-summary-row",Ps="rdg-bottom-summary-row",Eo="rdg-header-row h10tskcx7-0-0-beta-56";function Hs({headerRowClass:e,rowIdx:t,columns:o,onColumnResize:n,onColumnResizeEnd:s,onColumnsReorder:r,sortColumns:i,onSortColumnsChange:l,lastFrozenColumnIndex:a,selectedCellIdx:d,selectCell:f,shouldFocusGrid:g,direction:h}){const[p,C]=(0,u.useState)(),S=[];for(let b=0;b<o.length;b++){const D=o[b],R=Pe(D,a,{type:"HEADER"});R!==void 0&&(b+=R-1),S.push((0,c.jsx)(Ds,{column:D,colSpan:R,rowIdx:t,isCellSelected:d===D.idx,onColumnResize:n,onColumnResizeEnd:s,onColumnsReorder:r,onSortColumnsChange:l,sortColumns:i,selectCell:f,shouldFocusGrid:g&&b===0,direction:h,draggedColumnKey:p,setDraggedColumnKey:C},D.key))}return(0,c.jsx)("div",{role:"row","aria-rowindex":t,className:(0,he.A)(Eo,{[sn]:d===-1},e),children:S})}var Ms=(0,u.memo)(Hs);function js({rowIdx:e,level:t,columns:o,selectedCellIdx:n,selectCell:s}){const r=[],i=new Set;for(const l of o){let{parent:a}=l;if(a!==void 0){for(;a.level>t&&a.parent!==void 0;)a=a.parent;if(a.level===t&&!i.has(a)){i.add(a);const{idx:d}=a;r.push((0,c.jsx)(xs,{column:a,rowIdx:e,isCellSelected:n===d,selectCell:s},d))}}}return(0,c.jsx)("div",{role:"row","aria-rowindex":e,className:Eo,children:r})}var Ns=(0,u.memo)(js);function Fs({className:e,rowIdx:t,gridRowStart:o,selectedCellIdx:n,isRowSelectionDisabled:s,isRowSelected:r,draggedOverCellIdx:i,lastFrozenColumnIndex:l,row:a,viewportColumns:d,selectedCellEditor:f,onCellMouseDown:g,onCellClick:h,onCellDoubleClick:p,onCellContextMenu:C,rowClass:S,onRowChange:b,selectCell:D,style:R,...v},w){const x=Ft().renderCell,E=ye((A,L)=>{b(A,t,L)});e=(0,he.A)(Hn,`rdg-row-${t%2===0?"even":"odd"}`,{[sn]:n===-1},S?.(a,t),e);const T=[];for(let A=0;A<d.length;A++){const L=d[A],{idx:_}=L,B=Pe(L,l,{type:"ROW",row:a});B!==void 0&&(A+=B-1);const N=n===_;N&&f?T.push(f):T.push(x(L.key,{column:L,colSpan:B,row:a,rowIdx:t,isDraggedOver:i===_,isCellSelected:N,onCellMouseDown:g,onCellClick:h,onCellDoubleClick:p,onCellContextMenu:C,onRowChange:E,selectCell:D}))}const k=(0,u.useMemo)(()=>({isRowSelected:r,isRowSelectionDisabled:s}),[s,r]);return(0,c.jsx)(An.Provider,{value:k,children:(0,c.jsx)("div",{role:"row",ref:w,className:e,style:{...Dn(o),...R},...v,children:T})})}const Do=(0,u.memo)((0,u.forwardRef)(Fs));var To=Do;function ko(e,t){return(0,c.jsx)(Do,{...t},e)}function Os({scrollToPosition:{idx:e,rowIdx:t},gridRef:o,setScrollToCellPosition:n}){const s=(0,u.useRef)(null);return Ot(()=>{Mt(s.current,"auto")}),Ot(()=>{function r(){n(null)}const i=new IntersectionObserver(r,{root:o.current,threshold:1});return i.observe(s.current),()=>{i.disconnect()}},[o,n]),(0,c.jsx)("div",{ref:s,style:{gridColumn:e===void 0?"1/-1":e+1,gridRow:t===void 0?"1/-1":t+2}})}const zs="rdg-sort-arrow a3ejtar7-0-0-beta-56";function Gs({sortDirection:e,priority:t}){return(0,c.jsxs)(c.Fragment,{children:[Ws({sortDirection:e}),$s({priority:t})]})}function Ws({sortDirection:e}){return e===void 0?null:(0,c.jsx)("svg",{viewBox:"0 0 12 8",width:"12",height:"8",className:zs,"aria-hidden":!0,children:(0,c.jsx)("path",{d:e==="ASC"?"M0 8 6 0 12 8":"M0 0 6 8 12 0"})})}function $s({priority:e}){return e}const Bs="rdg rnvodz57-0-0-beta-56",Vs="rdg-viewport-dragging vlqv91k7-0-0-beta-56",Us="f1lsfrzw7-0-0-beta-56",Ks="f1cte0lg7-0-0-beta-56",Ys="s8wc6fl7-0-0-beta-56";function Xs({column:e,colSpan:t,row:o,rowIdx:n,isCellSelected:s,selectCell:r}){const{tabIndex:i,childTabIndex:l,onFocus:a}=zt(s),{summaryCellClass:d}=e,f=vt(e,Ys,typeof d=="function"?d(o):d);function g(){r({rowIdx:n,idx:e.idx})}return(0,c.jsx)("div",{role:"gridcell","aria-colindex":e.idx+1,"aria-colspan":t,"aria-selected":s,tabIndex:i,className:f,style:St(e,t),onMouseDown:g,onFocus:a,children:e.renderSummaryCell?.({column:e,row:o,tabIndex:l})})}var Js=(0,u.memo)(Xs);const Zs="skuhp557-0-0-beta-56",Qs="tf8l5ub7-0-0-beta-56",_s=`rdg-summary-row ${Zs}`;function qs({rowIdx:e,gridRowStart:t,row:o,viewportColumns:n,top:s,bottom:r,lastFrozenColumnIndex:i,selectedCellIdx:l,isTop:a,selectCell:d,"aria-rowindex":f}){const g=[];for(let h=0;h<n.length;h++){const p=n[h],C=Pe(p,i,{type:"SUMMARY",row:o});C!==void 0&&(h+=C-1);const S=l===p.idx;g.push((0,c.jsx)(Js,{column:p,colSpan:C,row:o,rowIdx:e,isCellSelected:S,selectCell:d},p.key))}return(0,c.jsx)("div",{role:"row","aria-rowindex":f,className:(0,he.A)(Hn,`rdg-row-${e%2===0?"even":"odd"}`,_s,{[sn]:l===-1,[`${As} ${Qs}`]:a,[Ps]:!a}),style:{...Dn(t),"--rdg-summary-row-top":s!==void 0?`${s}px`:void 0,"--rdg-summary-row-bottom":r!==void 0?`${r}px`:void 0},children:g})}var Lo=(0,u.memo)(qs);function el(e,t){const{columns:o,rows:n,topSummaryRows:s,bottomSummaryRows:r,rowKeyGetter:i,onRowsChange:l,rowHeight:a,headerRowHeight:d,summaryRowHeight:f,columnWidths:g,onColumnWidthsChange:h,selectedRows:p,isRowSelectionDisabled:C,onSelectedRowsChange:S,sortColumns:b,onSortColumnsChange:D,defaultColumnOptions:R,onCellMouseDown:v,onCellClick:w,onCellDoubleClick:x,onCellContextMenu:E,onCellKeyDown:T,onSelectedCellChange:k,onScroll:A,onColumnResize:L,onColumnsReorder:_,onFill:B,onCellCopy:N,onCellPaste:X,enableVirtualization:oe,renderers:j,className:ie,style:He,rowClass:Le,headerRowClass:qe,direction:et,role:tt,"aria-label":Oe,"aria-labelledby":ze,"aria-description":O,"aria-describedby":F,"aria-rowcount":K,"data-testid":W,"data-cy":ne}=e,P=Ft(),Z=tt??"grid",q=a??35,ae=d??(typeof q=="number"?q:35),pe=f??(typeof q=="number"?q:35),ve=j?.renderRow??P?.renderRow??ko,Re=j?.renderCell??P?.renderCell??ps,be=j?.renderSortStatus??P?.renderSortStatus??Gs,Ue=j?.renderCheckbox??P?.renderCheckbox??Kr,Ae=j?.noRowsFallback??P?.noRowsFallback,Ge=oe??typeof a!="string",ht=et??"ltr";if(Ge&&typeof q=="string")throw new Error("`rowHeight` cannot be a string when `enableVirtualization` is true.");const[We,De]=(0,u.useState)(0),[Yn,Xn]=(0,u.useState)(0),[fn,Vt]=(0,u.useState)(()=>g??new Map),[gn,hn]=(0,u.useState)(!1),[Dt,Ut]=(0,u.useState)(!1),[Me,pt]=(0,u.useState)(void 0),[Tt,kt]=(0,u.useState)(null),[Kt,mt]=(0,u.useState)(!1),[je,pn]=(0,u.useState)(-1),Ct=g!=null&&h!=null&&!gn,wt=Ct?g:fn,Jn=Ct?m=>{Vt(m),h(m)}:Vt,mn=(0,u.useCallback)(m=>wt.get(m.key)?.width??m.width,[wt]),[$e,Cn,Yt,Zn]=ds(),{columns:V,colSpanColumns:le,lastFrozenColumnIndex:ee,headerRowsCount:se,colOverscanStartIdx:ge,colOverscanEndIdx:U,templateColumns:ue,layoutCssVars:we,totalFrozenColumnWidth:nt}=as({rawColumns:o,defaultColumnOptions:R,getColumnWidth:mn,scrollLeft:Yn,viewportWidth:Cn,enableVirtualization:Ge}),Ne=s?.length??0,ot=r?.length??0,rt=Ne+ot,Ze=se+Ne,Xt=se-1,xe=-Ze,st=xe+Xt,Ke=n.length+ot-1,[H,lt]=(0,u.useState)(()=>({idx:-1,rowIdx:xe-1,mode:"SELECT"})),xt=(0,u.useRef)(null),Jt=Z==="treegrid",Lt=se*ae,Zt=rt*pe,it=Yt-Lt-Zt,Qt=p!=null&&S!=null,{leftKey:_t,rightKey:wn}=En(ht),xn=K??se+n.length+rt,Qn=(0,u.useMemo)(()=>({renderCheckbox:Ue,renderSortStatus:be,renderCell:Re}),[Ue,be,Re]),_n=(0,u.useMemo)(()=>{let m=!1,y=!1;if(i!=null&&p!=null&&p.size>0){for(const M of n)if(p.has(i(M))?m=!0:y=!0,m&&y)break}return{isRowSelected:m&&!y,isIndeterminate:m&&y}},[n,p,i]),{rowOverscanStartIdx:at,rowOverscanEndIdx:ct,totalRowHeight:At,gridTemplateRows:fe,getRowTop:Te,getRowHeight:ke,findRowIdx:Ye}=fs({element:$e.current,rows:n,rowHeight:q,clientHeight:it,scrollTop:We,enableVirtualization:Ge,gridHeight:Yt}),Ie=us({columns:V,colSpanColumns:le,colOverscanStartIdx:ge,colOverscanEndIdx:U,lastFrozenColumnIndex:ee,rowOverscanStartIdx:at,rowOverscanEndIdx:ct,rows:n,topSummaryRows:s,bottomSummaryRows:r}),{gridTemplateColumns:Xe,handleColumnResize:qt}=cs(V,Ie,ue,$e,Cn,wt,Jn,L,hn),qn=Jt?-1:0,dt=V.length-1,en=io(H),ut=br(H),eo=ae+At+Zt+Zn,to=ye(qt),Pt=ye($a),no=ye(_),yn=ye(D),oo=ye(v),ro=ye(w),Aa=ye(x),Pa=ye(E),Ha=ye(Na),Ma=ye(yr),ja=ye(Sn),so=ye(tn),xr=ye(Ja),lo=(0,u.useCallback)((m=!0)=>{const y=Ao($e.current);y!==null&&(m&&Mt(y),y.focus({preventScroll:!0}))},[$e]);Ot(()=>{Kt&&(xt.current!==null&&H.idx===-1?(xt.current.focus({preventScroll:!0}),Mt(xt.current)):lo(),mt(!1))},[Kt,lo,H.idx]),(0,u.useImperativeHandle)(t,()=>({element:$e.current,scrollToCell({idx:m,rowIdx:y}){const M=m!==void 0&&m>ee&&m<V.length?m:void 0,z=y!==void 0&&yt(y)?y:void 0;(M!==void 0||z!==void 0)&&kt({idx:M,rowIdx:z})},selectCell:tn}));function Na(m){if(!S)return;Nt(i);const y=new Set(p);for(const M of n){if(C?.(M)===!0)continue;const z=i(M);m.checked?y.add(z):y.delete(z)}S(y)}function yr(m){if(!S)return;Nt(i);const{row:y,checked:M,isShiftClick:z}=m;if(C?.(y)===!0)return;const Y=new Set(p),Q=i(y),te=n.indexOf(y);if(pn(te),M?Y.add(Q):Y.delete(Q),z&&je!==-1&&je!==te&&je<n.length){const ce=Br(te-je);for(let de=je+ce;de!==te;de+=ce){const Ee=n[de];C?.(Ee)!==!0&&(M?Y.add(i(Ee)):Y.delete(i(Ee)))}}S(Y)}function Fa(m){const{idx:y,rowIdx:M,mode:z}=H;if(z==="EDIT")return;if(T&&yt(M)){const te=n[M],ce=bn(m);if(T({mode:"SELECT",row:te,column:V[y],rowIdx:M,selectCell:tn},ce),ce.isGridDefaultPrevented())return}if(!(m.target instanceof Element))return;const Y=m.target.closest(".rdg-cell")!==null,Q=Jt&&m.target===xt.current;if(!(!Y&&!Q))switch(m.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"Tab":case"Home":case"End":case"PageUp":case"PageDown":Ir(m);break;default:Wa(m);break}}function Oa(m){const{scrollTop:y,scrollLeft:M}=m.currentTarget;(0,Ht.flushSync)(()=>{De(y),Xn(Vr(M))}),A?.(m)}function Sn(m,y,M){if(typeof l!="function"||M===n[y])return;const z=n.with(y,M);l(z,{indexes:[y],column:m})}function Sr(){H.mode==="EDIT"&&Sn(V[H.idx],H.rowIdx,H.row)}function za(m){if(!ut)return;const{idx:y,rowIdx:M}=H;N?.({row:n[M],column:V[y]},m)}function Ga(m){if(!X||!l||!vn(H))return;const{idx:y,rowIdx:M}=H,z=V[y],Y=X({row:n[M],column:z},m);Sn(z,M,Y)}function Wa(m){if(!ut)return;const y=n[H.rowIdx],{key:M,shiftKey:z}=m;if(Qt&&z&&M===" "){Nt(i);const Y=i(y);yr({row:y,checked:!p.has(Y),isShiftClick:!1}),m.preventDefault();return}vn(H)&&Ar(m,X!=null)&&lt(({idx:Y,rowIdx:Q})=>({idx:Y,rowIdx:Q,mode:"EDIT",row:y,originalRow:y}))}function $a(){gn&&(h?.(wt),hn(!1))}function Ba(m){m.preventDefault(),!(m.pointerType==="mouse"&&m.buttons!==1)&&(Ut(!0),m.currentTarget.setPointerCapture(m.pointerId))}function Va(m){const y=$e.current,M=Lt+Ne*pe,z=We-M+m.clientY-y.getBoundingClientRect().top,Y=Ye(z);pt(Y);const Q=Ze+Y+1,te=y.querySelector(`:scope > [aria-rowindex="${Q}"] > [aria-colindex="${H.idx+1}"]`);Mt(te)}function Ua(){if(Ut(!1),Me===void 0)return;const{rowIdx:m}=H,[y,M]=m<Me?[m+1,Me+1]:[Me,m];vr(y,M),pt(void 0)}function Ka(){lo(!1)}function Ya(m){m.stopPropagation(),vr(H.rowIdx+1,n.length)}function vr(m,y){if(l==null)return;const{rowIdx:M,idx:z}=H,Y=V[z],Q=n[M],te=[...n],ce=[];for(let de=m;de<y;de++)if(vn({rowIdx:de,idx:z})){const Ee=B({columnKey:Y.key,sourceRow:Q,targetRow:n[de]});Ee!==n[de]&&(te[de]=Ee,ce.push(de))}ce.length>0&&l(te,{indexes:ce,column:Y})}function Rr(m){return m>=qn&&m<=dt}function yt(m){return m>=0&&m<n.length}function io({idx:m,rowIdx:y}){return y>=xe&&y<=Ke&&Rr(m)}function Xa({idx:m,rowIdx:y}){return yt(y)&&m>=0&&m<=dt}function br({idx:m,rowIdx:y}){return yt(y)&&Rr(m)}function vn(m){return Xa(m)&&jr({columns:V,rows:n,selectedPosition:m})}function tn(m,y){if(!io(m))return;Sr();const M=Po(H,m);if(y?.enableEditor&&vn(m)){const z=n[m.rowIdx];lt({...m,mode:"EDIT",row:z,originalRow:z})}else M?Mt(Ao($e.current)):(mt(y?.shouldFocusCell===!0),lt({...m,mode:"SELECT"}));k&&!M&&k({rowIdx:m.rowIdx,row:yt(m.rowIdx)?n[m.rowIdx]:void 0,column:V[m.idx]})}function Ja({idx:m,rowIdx:y}){tn({rowIdx:xe+y-1,idx:m})}function Za(m,y,M){const{idx:z,rowIdx:Y}=H,Q=en&&z===-1;switch(m){case"ArrowUp":return{idx:z,rowIdx:Y-1};case"ArrowDown":return{idx:z,rowIdx:Y+1};case _t:return{idx:z-1,rowIdx:Y};case wn:return{idx:z+1,rowIdx:Y};case"Tab":return{idx:z+(M?-1:1),rowIdx:Y};case"Home":return Q?{idx:z,rowIdx:xe}:{idx:0,rowIdx:y?xe:Y};case"End":return Q?{idx:z,rowIdx:Ke}:{idx:dt,rowIdx:y?Ke:Y};case"PageUp":{if(H.rowIdx===xe)return H;const te=Te(Y)+ke(Y)-it;return{idx:z,rowIdx:te>0?Ye(te):0}}case"PageDown":{if(H.rowIdx>=n.length)return H;const te=Te(Y)+it;return{idx:z,rowIdx:te<At?Ye(te):n.length-1}}default:return H}}function Ir(m){const{key:y,shiftKey:M}=m;let z="NONE";if(y==="Tab"){if(Or({shiftKey:M,maxColIdx:dt,minRowIdx:xe,maxRowIdx:Ke,selectedPosition:H})){Sr();return}z="CHANGE_ROW"}m.preventDefault();const Y=In(m),Q=Za(y,Y,M);if(Po(H,Q))return;const te=Fr({moveUp:y==="ArrowUp",moveNext:y===wn||y==="Tab"&&!M,columns:V,colSpanColumns:le,rows:n,topSummaryRows:s,bottomSummaryRows:r,minRowIdx:xe,mainHeaderRowIdx:st,maxRowIdx:Ke,lastFrozenColumnIndex:ee,cellNavigationMode:z,currentPosition:H,nextPosition:Q,isCellWithinBounds:io});tn(te,{shouldFocusCell:!0})}function Qa(m){if(Me===void 0)return;const{rowIdx:y}=H;return(y<Me?y<m&&m<=Me:y>m&&m>=Me)?H.idx:void 0}function _a(){if(B==null||H.mode==="EDIT"||!br(H))return;const{idx:m,rowIdx:y}=H,M=V[m];if(M.renderEditCell==null||M.editable===!1)return;const z=y===Ke,Y=mn(M),Q=M.colSpan?.({type:"ROW",row:n[y]})??1,{insetInlineStart:te,...ce}=St(M,Q),de="calc(var(--rdg-drag-handle-size) * -0.5 + 1px)",Ee=M.idx+Q-1===dt,Qe={...ce,gridRowStart:Ze+y+1,marginInlineEnd:Ee?void 0:de,marginBlockEnd:z?void 0:de,insetInlineStart:te?`calc(${te} + ${Y}px + var(--rdg-drag-handle-size) * -0.5 - 1px)`:void 0};return(0,c.jsx)("div",{style:Qe,className:(0,he.A)($r,M.frozen&&Wr),onPointerDown:Ba,onPointerMove:Dt?Va:void 0,onLostPointerCapture:Dt?Ua:void 0,onClick:Ka,onDoubleClick:Ya})}function qa(m){if(H.rowIdx!==m||H.mode==="SELECT")return;const{idx:y,row:M}=H,z=V[y],Y=Pe(z,ee,{type:"ROW",row:M}),Q=z.editorOptions?.closeOnExternalRowChange??!0,te=de=>{mt(de),lt(({idx:Ee,rowIdx:Qe})=>({idx:Ee,rowIdx:Qe,mode:"SELECT"}))},ce=(de,Ee,Qe)=>{Ee?(0,Ht.flushSync)(()=>{Sn(z,H.rowIdx,de),te(Qe)}):lt(co=>({...co,row:de}))};return Q&&n[H.rowIdx]!==H.originalRow&&te(!1),(0,c.jsx)(ws,{column:z,colSpan:Y,row:M,rowIdx:m,onRowChange:ce,closeEditor:te,onKeyDown:T,navigate:Ir},z.key)}function nn(m){const y=H.idx===-1?void 0:V[H.idx];return y!==void 0&&H.rowIdx===m&&!Ie.includes(y)?H.idx>U?[...Ie,y]:[...Ie.slice(0,ee+1),y,...Ie.slice(ee+1)]:Ie}function ec(){const m=[],{idx:y,rowIdx:M}=H,z=ut&&M<at?at-1:at,Y=ut&&M>ct?ct+1:ct;for(let Q=z;Q<=Y;Q++){const te=Q===at-1||Q===ct+1,ce=te?M:Q;let de=Ie;const Ee=y===-1?void 0:V[y];Ee!==void 0&&(te?de=[Ee]:de=nn(ce));const Qe=n[ce],co=Ze+ce+1;let uo=ce,fo=!1;typeof i=="function"&&(uo=i(Qe),fo=p?.has(uo)??!1),m.push(ve(uo,{"aria-rowindex":Ze+ce+1,"aria-selected":Qt?fo:void 0,rowIdx:ce,row:Qe,viewportColumns:de,isRowSelectionDisabled:C?.(Qe)??!1,isRowSelected:fo,onCellMouseDown:oo,onCellClick:ro,onCellDoubleClick:Aa,onCellContextMenu:Pa,rowClass:Le,gridRowStart:co,selectedCellIdx:M===ce?y:void 0,draggedOverCellIdx:Qa(ce),lastFrozenColumnIndex:ee,onRowChange:ja,selectCell:so,selectedCellEditor:qa(ce)}))}return m}(H.idx>dt||H.rowIdx>Ke)&&(lt({idx:-1,rowIdx:xe-1,mode:"SELECT"}),pt(void 0)),Ct&&fn!==g&&Vt(g);let Rn=`repeat(${se}, ${ae}px)`;Ne>0&&(Rn+=` repeat(${Ne}, ${pe}px)`),n.length>0&&(Rn+=fe),ot>0&&(Rn+=` repeat(${ot}, ${pe}px)`);const ao=H.idx===-1&&H.rowIdx!==xe-1;return(0,c.jsxs)("div",{role:Z,"aria-label":Oe,"aria-labelledby":ze,"aria-description":O,"aria-describedby":F,"aria-multiselectable":Qt?!0:void 0,"aria-colcount":V.length,"aria-rowcount":xn,tabIndex:-1,className:(0,he.A)(Bs,{[Vs]:Dt},ie),style:{...He,scrollPaddingInlineStart:H.idx>ee||Tt?.idx!==void 0?`${nt}px`:void 0,scrollPaddingBlock:yt(H.rowIdx)||Tt?.rowIdx!==void 0?`${Lt+Ne*pe}px ${ot*pe}px`:void 0,gridTemplateColumns:Xe,gridTemplateRows:Rn,"--rdg-header-row-height":`${ae}px`,"--rdg-scroll-height":`${eo}px`,...we},dir:ht,ref:$e,onScroll:Oa,onKeyDown:Fa,onCopy:za,onPaste:Ga,"data-testid":W,"data-cy":ne,children:[(0,c.jsxs)(Co.Provider,{value:Qn,children:[(0,c.jsx)(So.Provider,{value:Ha,children:(0,c.jsxs)(yo.Provider,{value:_n,children:[Array.from({length:Xt},(m,y)=>(0,c.jsx)(Ns,{rowIdx:y+1,level:-Xt+y,columns:nn(xe+y),selectedCellIdx:H.rowIdx===xe+y?H.idx:void 0,selectCell:xr},y)),(0,c.jsx)(Ms,{headerRowClass:qe,rowIdx:se,columns:nn(st),onColumnResize:to,onColumnResizeEnd:Pt,onColumnsReorder:no,sortColumns:b,onSortColumnsChange:yn,lastFrozenColumnIndex:ee,selectedCellIdx:H.rowIdx===st?H.idx:void 0,selectCell:xr,shouldFocusGrid:!en,direction:ht})]})}),n.length===0&&Ae?Ae:(0,c.jsxs)(c.Fragment,{children:[s?.map((m,y)=>{const M=se+1+y,z=st+1+y,Y=H.rowIdx===z,Q=Lt+pe*y;return(0,c.jsx)(Lo,{"aria-rowindex":M,rowIdx:z,gridRowStart:M,row:m,top:Q,bottom:void 0,viewportColumns:nn(z),lastFrozenColumnIndex:ee,selectedCellIdx:Y?H.idx:void 0,isTop:!0,selectCell:so},y)}),(0,c.jsx)(wo.Provider,{value:Ma,children:ec()}),r?.map((m,y)=>{const M=Ze+n.length+y+1,z=n.length+y,Y=H.rowIdx===z,Q=it>At?Yt-pe*(r.length-y):void 0,te=Q===void 0?pe*(r.length-1-y):void 0;return(0,c.jsx)(Lo,{"aria-rowindex":xn-ot+y+1,rowIdx:z,gridRowStart:M,row:m,top:Q,bottom:te,viewportColumns:nn(z),lastFrozenColumnIndex:ee,selectedCellIdx:Y?H.idx:void 0,isTop:!1,selectCell:so},y)})]})]}),_a(),Mr(Ie),Jt&&(0,c.jsx)("div",{ref:xt,tabIndex:ao?0:-1,className:(0,he.A)(Us,{[Ks]:!yt(H.rowIdx),[ks]:ao,[Ls]:ao&&ee!==-1}),style:{gridRowStart:H.rowIdx+Ze+1}}),Tt!==null&&(0,c.jsx)(Os,{scrollToPosition:Tt,setScrollToCellPosition:kt,gridRef:$e})]})}const Mn=(0,u.forwardRef)(el);function Ao(e){return e.querySelector(':scope > [role="row"] > [tabindex="0"]')}function Po(e,t){return e.idx===t.idx&&e.rowIdx===t.rowIdx}function tl({id:e,groupKey:t,childRows:o,isExpanded:n,isCellSelected:s,column:r,row:i,groupColumnIndex:l,isGroupByColumn:a,toggleGroup:d}){const{tabIndex:f,childTabIndex:g,onFocus:h}=zt(s);function p(){d(e)}const C=a&&l===r.idx;return(0,c.jsx)("div",{role:"gridcell","aria-colindex":r.idx+1,"aria-selected":s,tabIndex:f,className:vt(r),style:{...St(r),cursor:C?"pointer":"default"},onMouseDown:S=>{S.preventDefault()},onClick:C?p:void 0,onFocus:h,children:(!a||C)&&r.renderGroupCell?.({groupKey:t,childRows:o,column:r,row:i,isExpanded:n,tabIndex:g,toggleGroup:p})},r.key)}var nl=(0,u.memo)(tl);const ol="rdg-group-row g1yxluv37-0-0-beta-56";function rl({className:e,row:t,rowIdx:o,viewportColumns:n,selectedCellIdx:s,isRowSelected:r,selectCell:i,gridRowStart:l,groupBy:a,toggleGroup:d,isRowSelectionDisabled:f,...g}){const h=n[0].key===Rt?t.level+1:t.level;function p(){i({rowIdx:o,idx:-1},{shouldFocusCell:!0})}const C=(0,u.useMemo)(()=>({isRowSelectionDisabled:!1,isRowSelected:r}),[r]);return(0,c.jsx)(An.Provider,{value:C,children:(0,c.jsx)("div",{role:"row","aria-level":t.level+1,"aria-setsize":t.setSize,"aria-posinset":t.posInSet+1,"aria-expanded":t.isExpanded,className:(0,he.A)(Hn,ol,`rdg-row-${o%2===0?"even":"odd"}`,s===-1&&sn,e),onMouseDown:p,style:Dn(l),...g,children:n.map(S=>(0,c.jsx)(nl,{id:t.id,groupKey:t.groupKey,childRows:t.childRows,isExpanded:t.isExpanded,isCellSelected:s===S.idx,column:S,row:t,groupColumnIndex:h,toggleGroup:d,isGroupByColumn:a.includes(S.key)},S.key))})})}var sl=(0,u.memo)(rl);function yc({columns:e,rows:t,rowHeight:o,rowKeyGetter:n,onCellKeyDown:s,onCellCopy:r,onCellPaste:i,onRowsChange:l,selectedRows:a,onSelectedRowsChange:d,renderers:f,groupBy:g,rowGrouper:h,expandedGroupIds:p,onExpandedGroupIdsChange:C,groupIdGetter:S,...b}){const D=Ft(),R=f?.renderRow??D?.renderRow??ko,v=1+(b.topSummaryRows?.length??0),{leftKey:w,rightKey:x}=En(b.direction),E=ye(Oe),T=S??ll,{columns:k,groupBy:A}=useMemo(()=>{const O=e.toSorted(({key:K},{key:W})=>K===Rt?-1:W===Rt?1:g.includes(K)?g.includes(W)?g.indexOf(K)-g.indexOf(W):-1:g.includes(W)?1:0),F=[];for(const[K,W]of O.entries())g.includes(W.key)&&(F.push(W.key),O[K]={...W,frozen:!0,renderCell:()=>null,renderGroupCell:W.renderGroupCell??Jr,editable:!1});return{columns:O,groupBy:F}},[e,g]),[L,_]=useMemo(()=>{if(A.length===0)return[void 0,t.length];const O=(F,[K,...W],ne)=>{let P=0;const Z={};for(const[q,ae]of Object.entries(h(F,K))){const[pe,ve]=W.length===0?[ae,ae.length]:O(ae,W,ne+P+1);Z[q]={childRows:ae,childGroups:pe,startRowIndex:ne+P},P+=ve+1}return[Z,P]};return O(t,A,0)},[A,h,t]),[B,N]=useMemo(()=>{const O=new Set;if(!L)return[t,W];const F=[],K=(ne,P,Z)=>{if(il(ne)){F.push(...ne);return}Object.keys(ne).forEach((q,ae,pe)=>{const ve=T(q,P),Re=p.has(ve),{childRows:be,childGroups:Ue,startRowIndex:Ae}=ne[q],Ge={id:ve,parentId:P,groupKey:q,isExpanded:Re,childRows:be,level:Z,posInSet:ae,startRowIndex:Ae,setSize:pe.length};F.push(Ge),O.add(Ge),Re&&K(Ue,ve,Z+1)})};return K(L,void 0,0),[F,W];function W(ne){return O.has(ne)}},[p,L,t,T]),X=useMemo(()=>typeof o=="function"?O=>N(O)?o({type:"GROUP",row:O}):o({type:"ROW",row:O}):o,[N,o]),oe=useCallback(O=>{const F=B.indexOf(O);for(let K=F-1;K>=0;K--){const W=B[K];if(N(W)&&(!N(O)||O.parentId===W.id))return[W,K]}},[N,B]),j=useCallback(O=>{if(N(O))return O.id;if(typeof n=="function")return n(O);const F=oe(O);if(F!==void 0){const{startRowIndex:K,childRows:W}=F[0],ne=W.indexOf(O);return K+ne+1}return B.indexOf(O)},[oe,N,n,B]),ie=useMemo(()=>{if(a==null)return null;Nt(n);const O=new Set(a);for(const F of B)N(F)&&F.childRows.every(W=>a.has(n(W)))&&O.add(F.id);return O},[N,n,a,B]);function He(O){if(!d)return;Nt(n);const F=new Set(a);for(const K of B){const W=j(K);if(ie?.has(W)&&!O.has(W))if(N(K))for(const ne of K.childRows)F.delete(n(ne));else F.delete(W);else if(!ie?.has(W)&&O.has(W))if(N(K))for(const ne of K.childRows)F.add(n(ne));else F.add(W)}d(F)}function Le(O,F){if(s?.(O,F),F.isGridDefaultPrevented()||O.mode==="EDIT")return;const{column:K,rowIdx:W,selectCell:ne}=O,P=K?.idx??-1,Z=B[W];if(N(Z)&&(P===-1&&(F.key===w&&Z.isExpanded||F.key===x&&!Z.isExpanded)&&(F.preventDefault(),F.preventGridDefault(),Oe(Z.id)),P===-1&&F.key===w&&!Z.isExpanded&&Z.level!==0)){const q=oe(Z);q!==void 0&&(F.preventGridDefault(),ne({idx:P,rowIdx:q[1]}))}}function qe({row:O,column:F},K){N(O)||r?.({row:O,column:F},K)}function et({row:O,column:F},K){return N(O)?O:i({row:O,column:F},K)}function tt(O,{indexes:F,column:K}){if(!l)return;const W=[...t],ne=[];for(const P of F){const Z=t.indexOf(B[P]);W[Z]=O[P],ne.push(Z)}l(W,{indexes:ne,column:K})}function Oe(O){const F=new Set(p);F.has(O)?F.delete(O):F.add(O),C(F)}function ze(O,{row:F,rowClass:K,onCellMouseDown:W,onCellClick:ne,onCellDoubleClick:P,onCellContextMenu:Z,onRowChange:q,lastFrozenColumnIndex:ae,draggedOverCellIdx:pe,selectedCellEditor:ve,...Re}){if(N(F)){const{startRowIndex:Ae}=F;return jsx(sl,{...Re,"aria-rowindex":v+Ae+1,row:F,groupBy:A,toggleGroup:E},O)}let be=Re["aria-rowindex"];const Ue=oe(F);if(Ue!==void 0){const{startRowIndex:Ae,childRows:Ge}=Ue[0],ht=Ge.indexOf(F);be=Ae+v+ht+2}return R(O,{...Re,"aria-rowindex":be,row:F,rowClass:K,onCellMouseDown:W,onCellClick:ne,onCellDoubleClick:P,onCellContextMenu:Z,onRowChange:q,lastFrozenColumnIndex:ae,draggedOverCellIdx:pe,selectedCellEditor:ve})}return jsx(Mn,{...b,role:"treegrid","aria-rowcount":_+1+(b.topSummaryRows?.length??0)+(b.bottomSummaryRows?.length??0),columns:k,rows:B,rowHeight:X,rowKeyGetter:j,onRowsChange:tt,selectedRows:ie,onSelectedRowsChange:He,onCellKeyDown:Le,onCellCopy:qe,onCellPaste:i?et:void 0,renderers:{...f,renderRow:ze}})}function ll(e,t){return t!==void 0?`${t}__${e}`:e}function il(e){return Array.isArray(e)}const Sc="t7vyx3i7-0-0-beta-56",al=null;function cl(e){e?.focus(),e?.select()}function vc({row:e,column:t,onRowChange:o,onClose:n}){return jsx("input",{className:al,ref:cl,value:e[t.key],onChange:s=>o({...e,[t.key]:s.target.value}),onBlur:()=>n(!0,!1)})}var re=G(95004),jn=G(64394),dl=G(11576),Ho=G(57852),Se=G(92745),Mo=G(21275),I=G(739),Fe=G(63142),jo=G(8255),ul=G(34213),fl=G(64400),No=G(58738),Gt=G(64780),Nn=G(41119),gl=G(17503),Fo=G(84140);const hl=45,ln=32,pl=10,ml="`~!@#$%^&*()_+-=[]\\{}|;':\",./<>? 	",Cl="1234567890",an="ABCDEFGHIJKLMNOPQRSTUVWXYZ",bt=`${an}abcdefghijklmnopqrstuvwxyz${Cl}${ml}`;function wl(e){const t=e.measureText("W").width,o=e.letterSpacing;e.letterSpacing="101px";const n=e.measureText("W").width;return e.letterSpacing=o,n>t}function xl(e){const t=wl(e)?0:parseFloat(e.letterSpacing),o={};for(let a=0;a<bt.length;a++)o[bt.charCodeAt(a)]=e.measureText(bt[a]).width+t;const n=parseFloat(e.wordSpacing);n>0&&(o[ln]=n);const s={};for(let a=0;a<an.length;a++){let d=an.charCodeAt(a);s[d]={};for(let f=0;f<bt.length;f++){let g=bt.charCodeAt(f),h=e.measureText(`${an[a]}${bt[f]}`).width-o[g]+t;s[d][g]=h}}const r=()=>{};function i(a,d,f=r){let g=0;for(;a.charCodeAt(g)===ln;)g++;let h=a.length-1;for(;a.charCodeAt(h)===ln;)h--;let p=g,C=0,S=0,b=-1,D=0,R=!1;for(let v=g;v<=h;v++){let w=a.charCodeAt(v),x=0;if(w in s){let E=a.charCodeAt(v+1);E in s[w]&&(x=s[w][E])}if(x===0&&(x=o[w]??(o[w]=e.measureText(a[v]).width)),w===ln)a.charCodeAt(v+1)!==w&&(b=v+1,D=0),!R&&S>0&&(S+=x,C=v),R=!0;else if(w===pl){if(f(p,v)===!1)return;p=C=v+1,S=D=0,D=0,b=-1}else{if(C>p&&S+x>d){if(f(p,C)===!1)return;S=D+x,p=C=b,D=0,b=-1}else w===hl&&a.charCodeAt(v+1)!==w&&(b=C=v+1,D=0),S+=x,D+=x;R=!1}}f(p,h+1)}let l=/\s|-/;return{each:i,split:(a,d,f=1/0)=>{let g=[];return l.test(a)?i(a,d,(h,p)=>{if(g.push(a.slice(h,p)),g.length===f)return!1}):g.push(a),g},count:(a,d)=>{let f=0;return l.test(a)?i(a,d,()=>{f++}):f=1,f},test:(a,d)=>{let f=0;return l.test(a)?i(a,d,()=>{if(++f===2)return!1}):f=1,f===2}}}var Be=G(55386),$=G(22803),yl=G(33985),Oo=G(76637),Sl=G(6773);const It={DEFAULT_WIDTH:150,EXPANDER_WIDTH:50,MIN_WIDTH:50},J={CELL_PADDING:6,LINE_HEIGHT:22,HEADER_ROW_HEIGHT:28,MAX_CELL_HEIGHT:48,PAGINATION_LIMIT:750,SCROLL_BAR_WIDTH:8,SCROLL_BAR_MARGIN:2,HEADER_HEIGHT:28,NESTED_NO_DATA_HEIGHT:60,BORDER_RIGHT:1},vl=(e,t,o)=>{const n=o?e.colors.background.canvas:e.colors.background.primary,s=Sl.MV.onBackground(e.colors.border.weak,n).toHexString();return{grid:(0,$.css)({"--rdg-background-color":n,"--rdg-header-background-color":n,"--rdg-border-color":s,"--rdg-color":e.colors.text.primary,"--rdg-summary-border-color":s,"--rdg-summary-border-width":"1px","--rdg-selection-color":e.colors.info.transparent,"--rdg-row-background-color":n,"--rdg-row-hover-background-color":o?e.colors.background.primary:e.colors.background.secondary,blockSize:t?"calc(100% - 32px)":"100%",scrollbarWidth:"thin",scrollbarColor:e.isDark?"#fff5 #fff1":"#0005 #0001",border:"none",".rdg-cell":{padding:J.CELL_PADDING,"&:last-child":{borderInlineEnd:"none"}},"& > :not(.rdg-summary-row, .rdg-header-row) > .rdg-cell":{[Je()]:{boxShadow:e.shadows.z2},"&:hover":{zIndex:e.zIndex.tooltip-7},"&[aria-selected=true]":{zIndex:e.zIndex.tooltip-6}},".rdg-cell.rdg-cell-frozen":{backgroundColor:"--rdg-row-background-color",zIndex:e.zIndex.tooltip-4,"&:hover":{zIndex:e.zIndex.tooltip-2},"&[aria-selected=true]":{zIndex:e.zIndex.tooltip-3}},".rdg-header-row, .rdg-summary-row":{".rdg-cell":{zIndex:e.zIndex.tooltip-5,"&.rdg-cell-frozen":{zIndex:e.zIndex.tooltip-1}}},".rdg-summary-row >":{".rdg-cell":{paddingBlock:e.spacing(.625)},[Je()]:{whiteSpace:"pre-line",height:"100%",minHeight:"fit-content",overflowY:"visible",boxShadow:e.shadows.z2}}}),gridNested:(0,$.css)({height:"100%",width:`calc(100% - ${It.EXPANDER_WIDTH-J.CELL_PADDING*2-1}px)`,overflowX:"scroll",overflowY:"hidden",marginLeft:It.EXPANDER_WIDTH-J.CELL_PADDING-1,marginBlock:J.CELL_PADDING}),cellNested:(0,$.css)({"&[aria-selected=true]":{outline:"none"}}),noDataNested:(0,$.css)({height:J.NESTED_NO_DATA_HEIGHT,display:"flex",alignItems:"center",justifyContent:"center",color:e.colors.text.secondary,fontSize:e.typography.h4.fontSize}),headerRow:(0,$.css)({paddingBlockStart:0,fontWeight:"normal","& .rdg-cell":{height:"100%",alignItems:"flex-end"}}),displayNone:(0,$.css)({display:"none"}),paginationContainer:(0,$.css)({alignItems:"center",display:"flex",justifyContent:"center",marginTop:"8px",width:"100%"}),paginationSummary:(0,$.css)({color:e.colors.text.secondary,fontSize:e.typography.bodySmall.fontSize,display:"flex",justifyContent:"flex-end",padding:e.spacing(0,1,0,2)}),menuItem:(0,$.css)({maxWidth:"200px"})}},Rl=(e,t)=>(0,$.css)({display:"flex",gap:e.spacing(.5),zIndex:e.zIndex.tooltip-1,paddingInline:J.CELL_PADDING,paddingBlockEnd:J.CELL_PADDING,justifyContent:t,"&:last-child":{borderInlineEnd:"none"}}),Fn=(e,{textAlign:t,shouldOverflow:o,maxHeight:n})=>(0,$.css)({display:"flex",alignItems:"center",textAlign:t,justifyContent:n?"flex-start":Wt(t),...n&&{overflowY:"hidden"},...o&&{minHeight:"100%"},[Je()]:{".table-cell-actions":{display:"flex"},...o&&{zIndex:e.zIndex.tooltip-2,height:"fit-content",minWidth:"fit-content"}}}),bl=(e,{textAlign:t,maxHeight:o})=>(0,$.css)({display:"flex",alignItems:"center",textAlign:t,justifyContent:Wt(t),maxHeight:o,width:"100%",overflowY:"hidden",[Je(!0)]:{maxHeight:"none",minHeight:"100%"}}),Il=(e,t)=>(0,$.css)({display:"none",position:"absolute",top:0,margin:"auto",height:"100%",color:e.colors.text.primary,background:e.isDark?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.7)",padding:e.spacing.x0_5,paddingInlineStart:e.spacing.x1,[t==="right"?"left":"right"]:0}),zo=(e,t)=>(0,$.css)({a:{cursor:"pointer",...t?{color:"inherit",textDecoration:"underline"}:{color:e.colors.text.link,textDecoration:"none","&:hover":{textDecoration:"underline"}}}}),Go=(e,t)=>`linear-gradient(to top ${e}, transparent 62.5%, ${t} 50%)`,El=(e,t)=>({tooltipContent:(0,$.css)({height:"100%",width:"100%",display:"flex",alignItems:"center"}),tooltipWrapper:(0,$.css)({background:e.colors.background.primary,border:`1px solid ${e.colors.border.weak}`,borderRadius:e.shape.radius.default,boxShadow:e.shadows.z3,overflow:"hidden",padding:e.spacing(1),width:"inherit"}),tooltipCaret:(0,$.css)({cursor:"pointer",position:"absolute",top:e.spacing(.25),[t==="right"?"right":"left"]:e.spacing(.25),width:e.spacing(1.75),height:e.spacing(1.75),background:Go(t==="right"?"right":"left",e.colors.border.medium),"&:hover, &[aria-pressed=true]":{background:Go(t==="right"?"right":"left",e.colors.border.strong)}})}),Je=e=>e?".rdg-cell:hover &, [aria-selected=true] &":"&:hover, &[aria-selected=true]";function Dl({rowIdx:e,field:t,theme:o,getTextColorForBackground:n}){const s=t.values[e],r=(0,u.useMemo)(()=>{const i=$o(s);return i.length>0?i.map((l,a)=>{const d=kl(l,t,o),f=n(d);return{value:String(l),key:`${l}-${a}`,bgColor:d,color:f}}):[]},[s,t,o,n]);return r.length===0?null:r.map(i=>(0,c.jsx)("span",{style:{backgroundColor:i.bgColor,color:i.color,border:i.bgColor===Tl?`1px solid ${o.colors.border.strong}`:void 0},children:i.value},i.key))}const Wo=/\s*,\s*/,Tl="rgba(0,0,0,0)";function $o(e){if(e===""||e==null)return[];const t=String(e);if(t[0]==="[")try{return JSON.parse(t)}catch{return t.trim().split(Wo)}return t.trim().split(Wo)}function kl(e,t,o){const n=t.config;if(n.mappings?.length??!1)return t.display(e).color??jn.F;if(n.color?.mode===Mo.Yb.Fixed)return o.visualization.getColorByName(n.color?.fixedColor??jn.F);let s=yl.t;const r=n.color;if(r){const i=Oo.uf.get(r.mode);typeof i?.getColors=="function"&&(s=i.getColors(o))}return(0,Oo.O7)(s,String(e))}const Ll=(e,{textWrap:t,shouldOverflow:o,maxHeight:n})=>(0,$.css)({display:"inline-flex",gap:e.spacing(.5),flexWrap:t?"wrap":"nowrap",...o&&{[Je(!!n)]:{flexWrap:"wrap"}},"> span":{display:"flex",padding:e.spacing(.25,.75),borderRadius:e.shape.radius.default,fontSize:e.typography.bodySmall.fontSize,lineHeight:e.typography.bodySmall.lineHeight,whiteSpace:"nowrap"}});function Al(e,t,o){if(t?.some(n=>n.config?.custom?.cellOptions?.dynamicHeight))return"auto";switch(o){case I.qM.Sm:return 36;case I.qM.Md:return 42;case I.qM.Lg:return J.MAX_CELL_HEIGHT}return J.CELL_PADDING*2+e.typography.fontSize*e.typography.body.lineHeight}function Bo(e){return e.config?.custom?.inspect??!1}function cn(e){return!!e.config.custom?.wrapText}function Vo(e,t=1/0){return(o,n,s,r,i)=>{const l=e(o,n,s,r,i);return Math.min(l,t)}}function Uo(e,t,o=.15){const n=`${e}px ${t}`,r=document.createElement("canvas").getContext("2d");r.letterSpacing=`${o}px`,r.font=n;const i="Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s. 1234567890 ALL CAPS TO HELP WITH MEASUREMENT.",a=r.measureText(i).width/i.length+o,{count:d}=xl(r);return{ctx:r,fontFamily:t,letterSpacing:o,avgCharWidth:a,estimateHeight:Hl(a),measureHeight:Pl(d)}}function Pl(e){return(t,o,n,s,r)=>t==null?r:e(String(t),o)*r}function Hl(e){return(t,o,n,s,r)=>{if(!t)return-1;const i=String(t);if(!Ol.test(i))return-1;const l=o/e;return Math.ceil(i.length/l)*r}}function Ml(){const e={};return(t,o,n,s,r)=>{const i=me(n);if(e[i]===void 0){let l=0;for(const a of n.config?.links??[])(a.onClick||a.url)&&(l+=1);e[i]=l}return e[i]*r}}const jl=12,Nl=12,On=4;function Ko(e){const t={};return(o,n,s,r,i)=>{if(o==null)return 0;const l=$o(String(o));if(l.length===0)return 0;let a=0,d=n;for(const f of l){const g=String(f);let h=t[g];h===void 0&&(h=e(g),t[g]=h);const p=h+Nl;d+p+On>n?(a++,d=p):d+=p+On}return a*i+(a-1)*On}}function Fl(e,t){const o=e.reduce((n,s,r)=>(s.config?.custom?.wrapHeaderText&&n.push(r),n),[]);if(o.length!==0)return[{measure:t.measureHeight,fieldIdxs:o}]}const Ol=/[\s-]/;function zl(e,t,o){const n={};let s=0;const r={[I.ob.Auto]:()=>[t.measureHeight,t.estimateHeight],[I.ob.DataLinks]:()=>[Ml(),void 0],[I.ob.Pill]:()=>{const l=Uo(jl,t.fontFamily,t.letterSpacing);return[Ko(a=>l.ctx.measureText(a).width),Ko(a=>a.length*l.avgCharWidth)]}},i=(l,a)=>{if(!n[l]){const[d,f]=r[l]();n[l]={measure:Vo(d,o),estimate:f!=null?Vo(f,o):void 0,fieldIdxs:[]}}n[l].fieldIdxs.push(a)};for(let l=0;l<e.length;l++){const a=e[l];if(cn(a)){s++;const d=Ve(a).type;d===I.ob.DataLinks?i(I.ob.DataLinks,l):d===I.ob.Pill?i(I.ob.Pill,l):a.type===re.PU.string&&Wn(a,Ve(a))===_e?i(I.ob.Auto,l):s--}}if(s!==0)return Object.values(n)}const Gl=18.5;function Yo(e,t,o,n,s,r=J.LINE_HEIGHT,i=J.CELL_PADDING*2){if(!s?.length)return n;let l=-1,a="",d=0,f,g;for(const{estimate:h,measure:p,fieldIdxs:C}of s){const S=h??p,b=h!==void 0;for(const D of C){const R=e[D],v=t===-1?me(R):R.values[t];if(v!=null){const w=o[D],x=S(v,w,R,t,r);x>l&&(l=x,a=v,d=w,f=R,g=b?p:void 0)}}}return f===void 0||l<Gl?n:(g!==void 0&&(l=g(a,d,f,t,r)),Math.max(l+i,n))}function Wl(e){const t=Ve(e);return(e.type===re.PU.string&&t.type!==I.ob.Image||t.type===I.ob.DataLinks)&&!cn(e)&&!Bo(e)}const $l=new Set([I.ob.Auto,I.ob.ColorText,I.ob.ColorBackground]);function Xo(e){const t=e.config.custom?.align;return!t||t==="auto"?$l.has(Ve(e).type)&&e.type===re.PU.number?"right":"left":t}function Wt(e){return e==="center"?"center":e==="right"?"flex-end":"flex-start"}const Bl={type:I.ob.Auto};function Ve(e){return e.config.custom?.displayMode?ti(e.config.custom?.displayMode):e.config.custom?.cellOptions??Bl}function Jo(e,t,o){let n=e.state?.alignmentFactors;if(n)return(0,Be.cN)(n).length<(0,Be.cN)(t).length&&(n={...t},e.state.alignmentFactors=n),n;{n={...t};const s=Math.min(e.values.length,o+1e3);for(let r=o+1;r<s;r++){const i=e.display?.(e.values[r])??e.values[r];(0,Be.cN)(n).length>(0,Be.cN)(i).length&&(n.text=t.text)}return e.state?e.state.alignmentFactors=n:e.state={alignmentFactors:n},n}}const Vl=10,Ul=5;function Kl(e){const t=on()(r=>(0,jo.mZ)(r,e.isDark),{maxSize:1e3}),o=e.isDark?1:-.7,n=on()(r=>(0,Fo.A)(r).darken(Vl*o).spin(Ul).toRgbString(),{maxSize:1e3}),s=on()(r=>r[0]==="#"?r.length===9&&r.endsWith("00"):(0,Fo.A)(r).getAlpha()===0,{maxSize:1e3});return(r,i,l)=>{const a={},d=i.color;if(!d)return a;if(r.type===I.ob.ColorText)a.color=d;else if(r.type===I.ob.ColorBackground){if(l&&s(d))return a;const f=r.mode??I.Wq.Gradient;a.color=t(d),a.background=f===I.Wq.Gradient?`linear-gradient(120deg, ${n(d)}, ${d})`:d}return a}}const Yl=e=>typeof e=="number"?e:parseFloat(e)||0,zn=(e,t)=>{let o;if(e.getLinks&&(o=e.getLinks({valueRowIndex:t})),!!o){for(let n=0;n<o?.length;n++)if(o[n].onClick){const s=o[n].onClick;o[n].onClick=r=>{r.ctrlKey||r.metaKey||r.shiftKey||(r.preventDefault(),s(r,{field:e,rowIndex:t}))}}return o.filter(n=>n.href||n.onClick!=null)}};function Zo(e,t,o,n=Gn(t),s=_o(t)){if(o.length===0)return e;const r=o.map(l=>t.find(a=>a.type===re.PU.time&&me(a)===l.columnKey)?.nanos),i=(l,a)=>{let d=0;for(let f=0;f<o.length;f++){const{columnKey:g,direction:h}=o[f],p=_l(n[g]),C=h==="ASC"?1:-1;if(d=C*p(l[g],a[g]),d===0){const S=r[f];S!==void 0&&(d=C*(S[l.__index]-S[a.__index]))}if(d!==0)break}return d};return s?qo(e,l=>[...l].sort(i)):[...e].sort(i)}const Qo=e=>{const t=`
    const rows = Array(frame.length);
    const values = frame.fields.map(f => f.values);
    let rowCount = 0;
    for (let i = 0; i < frame.length; i++) {
      rows[rowCount] = {
        __depth: 0,
        __index: i,
        ${e.fields.map((n,s)=>`${JSON.stringify(me(n))}: values[${s}][i]`).join(",")}
      };
      rowCount += 1;
      if (rows[rowCount-1]['__nestedFrames']){
        const childFrame = rows[rowCount-1]['__nestedFrames'];
        rows[rowCount] = {__depth: 1, __index: i, data: childFrame[0]}
        rowCount += 1;
      }
    }
    return rows;
  `;return new Function("frame",t)(e)},Xl=new Intl.Collator("en",{sensitivity:"base",numeric:!0}).compare,Jl=(e,t)=>Xl(String(e??""),String(t??"")),Zl=(e,t)=>e===t?0:e==null?-1:t==null?1:Number(e)-Number(t),Ql=(e,t)=>(e?.value??0)-(t?.value??0);function _l(e){switch(e){case re.PU.frame:return Ql;case re.PU.time:case re.PU.number:case re.PU.boolean:return Zl;case re.PU.string:case re.PU.enum:default:return Jl}}const ql={[I.ob.BasicGauge]:I.eX.Basic,[I.ob.GradientGauge]:I.eX.Gradient,[I.ob.LcdGauge]:I.eX.Lcd},ei={[I.ob.ColorBackground]:I.Wq.Gradient,[I.ob.ColorBackgroundSolid]:I.Wq.Basic};function ti(e){switch(e){case I.ob.BasicGauge:case I.ob.GradientGauge:case I.ob.LcdGauge:return{type:I.ob.Gauge,mode:ql[e]};case I.ob.ColorBackground:case I.ob.ColorBackgroundSolid:return{type:I.ob.ColorBackground,mode:ei[e]};case I.ob.Custom:return{type:I.ob.Auto};default:return{type:e}}}const _o=e=>e.some(({type:t})=>t===re.PU.nestedFrames),qo=(e,t)=>{const o=[],n=new Map;for(const i of e)i.__depth===0?o.push(i):n.set(i.__index,i);const s=t(o),r=[];return s.forEach(i=>{r.push(i);const l=n.get(i.__index);l&&r.push(l)}),r},ni=e=>{let t=0;for(const o of e)t=Math.max(t,o.config.custom?.footer?.reducers?.length??0);return t>0?t*J.LINE_HEIGHT+J.CELL_PADDING*2:0},me=e=>e.state?.displayName??e.name,oi=e=>t=>t.name===e||me(t)===e;function ri(e){return e.filter(t=>t.type!==re.PU.nestedFrames&&t.config.custom?.hideFrom?.viz!==!0)}function Gn(e){return e.reduce((t,o)=>{switch(o.type){case re.PU.nestedFrames:return{...t,...Gn(o.values[0]?.[0]?.fields??[])};default:return{...t,[me(o)]:o.type}}},{})}function er(e,t){let o=0,n=0;return e.map(s=>{const r=s.config.custom?.width??0;return r===0?o++:n+=r,r}).map((s,r)=>s||Math.max(e[r].config.custom?.minWidth??It.DEFAULT_WIDTH,(t-n)/o))}function si(e,t){for(const o of e){const n=Ve(o),s=o.display;if(s!==void 0&&n.type===I.ob.ColorBackground&&n.applyToRow===!0)return r=>t(n,s(o.values[r]),!0)}}function li(e,t){return t!==I.ob.DataLinks&&t!==I.ob.Actions&&(e.config.links?.length??0)+(e.config.actions?.length??0)>1}function tr(e,t){return e===I.ob.ColorBackground||e===I.ob.ColorText||!!t}const ii=e=>{let t;if(typeof e=="string")try{const o=JSON.parse(e);t=JSON.stringify(o,null," ")}catch{t=e}else try{t=JSON.stringify(e,null," ")}catch{t=String(e)}return{text:t,numeric:Number.NaN}};function ai(e,t){return t===I.ob.Gauge?{left:"right",right:"left",center:"center"}[e]:e}var ci=G(31210);const di=({field:e,rowIdx:t,getActions:o})=>{const n=o(e,t);return n.length===0?null:n.map((s,r)=>(0,c.jsx)(ci.r,{action:s,variant:"secondary"},r))},ui=e=>(0,$.css)({gap:e.spacing(.75)}),$t=(0,u.memo)(({field:e,rowIdx:t,children:o})=>{const n=e.config.links?.length??0,s=e.config.actions?.length??0;if(n===1&&s===0){let r=(zn(e,t)??[])[0];return r!=null?(0,No.h)(r,o):o}else if(n+s>0)return(0,c.jsx)("a",{title:(0,Se.t)("table.link-wrapper.menu","view data links and actions"),"aria-haspopup":"menu",children:o});return o});$t.displayName="MaybeWrapWithLink";function fi({value:e,field:t,rowIdx:o}){const n=t.display(e),s=(0,Be.cN)(n);return(0,c.jsx)($t,{field:t,rowIdx:o,children:s})}const Bt=(e,{textWrap:t,shouldOverflow:o,maxHeight:n})=>(0,$.css)({...t&&{whiteSpace:"pre-line"},...o&&{[Je(!!n)]:{whiteSpace:"pre-line"}},...n!=null&&t&&{height:"auto",overflowY:"hidden",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:Math.floor(n/J.LINE_HEIGHT),[Je(!0)]:{display:"flex",WebkitLineClamp:"none",WebkitBoxOrient:"unset",overflowY:"auto",height:"fit-content"}}}),gi=(e,{textWrap:t,shouldOverflow:o,maxHeight:n})=>(0,$.css)({fontFamily:"monospace",...t&&{whiteSpace:"pre"},...o&&{[Je(!!n)]:{whiteSpace:"pre"}}});var hi=G(33553),nr=G(79118),pi=G(38919),mi=G(98005);const Ci={mode:hi.O.Absolute,steps:[{color:"blue",value:-1/0},{color:"green",value:20}]},wi=({value:e,field:t,theme:o,height:n,width:s,rowIdx:r})=>{const i=t.display(e),l=Ve(t),a=J.CELL_PADDING*2;let d=(0,nr.xg)(t,!1);d.thresholds||(d={...d,thresholds:Ci});let f=I.eX.Gradient,g;l.type===I.ob.Gauge&&(f=l.mode??I.eX.Gradient,g=l.valueDisplayMode!==void 0?l.valueDisplayMode:I.$l.Text);const h=Jo(t,i,r),p=Math.min(n-a,J.MAX_CELL_HEIGHT);return(0,c.jsx)($t,{field:t,rowIdx:r,children:(0,c.jsx)(mi.xE,{width:s,height:p,field:d,display:t.display,text:{valueSize:14},value:i,orientation:pi.wV.Horizontal,theme:o,alignmentFactors:h,itemSpacing:1,lcdCellWidth:8,displayMode:f,valueDisplayMode:g})})},xi=({field:e,rowIdx:t})=>{const o=zn(e,t);return o?.length?o.map((n,s)=>(0,c.jsx)("a",{onClick:n.onClick,href:n.href,target:n.target,children:n.title},s)):null},yi=(e,{textWrap:t,textAlign:o})=>(0,$.css)({...t&&{flexDirection:"column",justifyContent:"center",alignItems:`${Wt(o)} !important`},"> a":{flexWrap:"nowrap",...!t&&{paddingInline:e.spacing(.5),borderRight:`2px solid ${e.colors.border.medium}`,"&:first-child":{paddingInlineStart:0},"&:last-child":{paddingInlineEnd:0,borderRight:"none"}}}});var or=G(64136),rr=G(27430);function Si({value:e}){let t=null;return e instanceof rr.A?t=new or.A().writeGeometry(e,{featureProjection:"EPSG:3857",dataProjection:"EPSG:4326"}):e!=null&&(t=`${e}`),t}const vi=()=>(0,$.css)({fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}),Ri=({cellOptions:e,field:t,value:o,rowIdx:n})=>{const{text:s}=t.display(o),{alt:r,title:i}=e.type===I.ob.Image?e:{alt:void 0,title:void 0};return(0,c.jsx)($t,{field:t,rowIdx:n,children:(0,c.jsx)("img",{alt:r,src:s,title:i})})},bi=()=>(0,$.css)({"&, a, img":{width:"100%",height:"100%"},img:{objectFit:"contain"}});var Ii=G(67458);function Ei({field:e,rowIdx:t,disableSanitizeHtml:o}){const n=e.values[t];if(n==null)return null;const s=e.display(n);return(0,c.jsx)($t,{field:e,rowIdx:t,children:(0,c.jsx)("div",{className:"markdown-container",dangerouslySetInnerHTML:{__html:(0,Ii.G)(s.text,{noSanitize:o}).trim()}})})}const Di=(e,{maxHeight:t})=>(0,$.css)({[`&, ${Je(!!t)}`]:{whiteSpace:"normal"},".markdown-container":{width:"100%","> *:last-child":{marginBottom:0}},"ol, ul":{paddingLeft:e.spacing(2.5)},p:{whiteSpace:"pre-line"}});var Ti=G(53568),ki=G(21539),Li=G(53431);const Ai={type:I.ob.Sparkline,drawStyle:I.GR.Line,lineInterpolation:I.dx.Smooth,lineWidth:1,fillOpacity:17,gradientMode:I.on.Hue,pointSize:2,barAlignment:I.Nj.Center,showPoints:I.yL.Never,hideValue:!1},Pi=e=>{const{field:t,value:o,theme:n,timeRange:s,rowIdx:r,width:i}=e,l=Hi(o,t);if(!l)return(0,c.jsx)(c.Fragment,{children:t.config.noValue||(0,Se.t)("grafana-ui.table.sparkline.no-data","no data")});l.x&&!l.x.config.interval&&l.x.values.length>1&&(l.x.config.interval=l.x.values[1]-l.x.values[0]),l.y.values=l.y.values.map(C=>Number.isFinite(C)?C:null);const a=(0,nr.AP)(l.y);l.y.config.min=a.min,l.y.config.max=a.max,l.y.state={range:a},l.timeRange=s;const d=Mi(t),f={color:t.config.color,custom:{...Ai,...d}},g=d.hideValue;let h=0,p=null;if(!g){const C=(0,Nn.LI)(o)?o.value:null,S=t.display(C),b=Jo(t,S,r);h=(0,Ti.kD)(`${b.prefix??""}${b.text}${b.suffix??""}`,16).width+n.spacing.gridSize,p=(0,c.jsx)(ki.i,{style:{width:h},value:S})}return(0,c.jsxs)(c.Fragment,{children:[p,(0,c.jsx)(Li.O,{width:i-h,height:25,sparkline:l,config:f,theme:n})]})};function Hi(e,t){if(Array.isArray(e))return{y:{name:`${t.name}-sparkline`,type:re.PU.number,values:e,config:{}}};if((0,Nn.ci)(e)){const o=e.fields.find(s=>s.type===re.PU.time),n=e.fields.find(s=>s.type===re.PU.number);if(o&&n)return{x:o,y:n}}}function Mi(e){let t=Ve(e);if(t.type===I.ob.Auto&&(t={...t,type:I.ob.Sparkline}),t.type===I.ob.Sparkline)return t;throw new Error(`Expected options type ${I.ob.Sparkline} but got ${t.type}`)}const ji=(e,{textAlign:t})=>(0,$.css)({width:"100%",gap:e.spacing(1),justifyContent:"space-between",...t==="right"&&{flexDirection:"row-reverse"}}),_e=(0,u.memo)(e=>(0,c.jsx)(fi,{value:e.value,field:e.field,rowIdx:e.rowIdx}));_e.displayName="AutoCellRenderer";function Ni(e){return e.type===I.ob.Custom}function Fi(e){return(t,o)=>{const n=e(t,o);return(0,he.$)(n,Bt(t,o))}}const Et={[I.ob.Auto]:{renderer:_e,getStyles:Bt},[I.ob.ColorBackground]:{renderer:_e,getStyles:Bt},[I.ob.ColorText]:{renderer:_e,getStyles:Bt},[I.ob.JSONView]:{renderer:_e,getStyles:Fi(gi)},[I.ob.Actions]:{renderer:(0,u.memo)(e=>(0,c.jsx)(di,{field:e.field,rowIdx:e.rowIdx,getActions:e.getActions??(()=>[])})),getStyles:ui},[I.ob.DataLinks]:{renderer:(0,u.memo)(e=>(0,c.jsx)(xi,{field:e.field,rowIdx:e.rowIdx})),getStyles:yi},[I.ob.Gauge]:{renderer:(0,u.memo)(e=>(0,c.jsx)(wi,{field:e.field,value:e.value,theme:e.theme,height:e.height,width:e.width,rowIdx:e.rowIdx}))},[I.ob.Sparkline]:{renderer:(0,u.memo)(e=>(0,c.jsx)(Pi,{value:e.value,field:e.field,timeRange:e.timeRange,rowIdx:e.rowIdx,theme:e.theme,width:e.width})),getStyles:ji},[I.ob.Geo]:{renderer:(0,u.memo)(e=>(0,c.jsx)(Si,{value:e.value,height:e.height})),getStyles:vi},[I.ob.Image]:{renderer:(0,u.memo)(e=>(0,c.jsx)(Ri,{cellOptions:e.cellOptions,field:e.field,value:e.value,rowIdx:e.rowIdx})),getStyles:bi},[I.ob.Pill]:{renderer:(0,u.memo)(e=>(0,c.jsx)(Dl,{rowIdx:e.rowIdx,field:e.field,theme:e.theme,getTextColorForBackground:e.getTextColorForBackground})),getStyles:Ll,testField:e=>e.type===re.PU.string},[I.ob.Markdown]:{renderer:(0,u.memo)(e=>(0,c.jsx)(Ei,{field:e.field,rowIdx:e.rowIdx,disableSanitizeHtml:e.disableSanitizeHtml})),getStyles:Di,testField:e=>e.type===re.PU.string},[I.ob.Custom]:{renderer:(0,u.memo)(e=>{if(!Ni(e.cellOptions)||!e.cellOptions.cellComponent)return null;const t=e.cellOptions.cellComponent;return(0,c.jsx)(t,{field:e.field,rowIndex:e.rowIdx,frame:e.frame,value:e.value})})}};function Wn(e,t=Ve(e)){const o=t?.type??I.ob.Auto;return o===I.ob.Auto?Et[lr(e)].renderer:Et[o]?.testField&&Et[o].testField(e)!==!0?_e:Et[o]?.renderer??_e}function sr(e,t,o,n){return e===I.ob.Auto?Oi(o,n,t):Et[e]?.getStyles?.(o,n)}function Oi(e,t,o){const n=lr(o);return n!==I.ob.Auto?Et[n]?.getStyles?.(e,t):Bt(e,t)}function lr(e){if(e.type===re.PU.geo)return I.ob.Geo;if(e.type===re.PU.frame){const t=e.values[0];if((0,Nn.ci)(t)&&(0,gl.aH)(t))return I.ob.Sparkline}return I.ob.Auto}var zi=G(97958),dn=G(30703),ft=G(51898),ir=G(2381),Gi=G(91793),ar=G(32635),cr=G(72636),gt=G(41654),un=G(45861),Wi=G(8135),$i=G(15356),Bi=G(12737);function Vi(e,t){if(!t||e.length===0)return{};const o={};for(let n=0;n<e.length;n++){const r=e[n][me(t)],i=t.display?t.display(r):r,l=t.display?(0,Be.cN)(i):i;o[l||"(Blanks)"]=l}return o}function Ui(e,t){return t?e.filter(o=>t.some(n=>n.value===o.value)):[]}function Ki(e){return Object.keys(e).map(t=>({value:e[t],label:t})).sort(Yi)}function Yi(e,t){return e.label===void 0&&t.label===void 0?0:e.label===void 0&&t.label!==void 0?-1:e.label!==void 0&&t.label===void 0?1:e.label<t.label?-1:e.label>t.label?1:0}const $n={Contains:{label:"Contains",value:"Contains",description:"Contains"},"=":{label:"=",value:"=",description:"Equals"},"!=":{label:"!=",value:"!=",description:"Not equals"},">":{label:">",value:">",description:"Greater"},">=":{label:">=",value:">=",description:"Greater or Equal"},"<":{label:"<",value:"<",description:"Less"},"<=":{label:"<=",value:"<=",description:"Less or Equal"},Expression:{label:"Expression",value:"Expression",description:'Bool Expression (Char $ represents the column value in the expression, e.g. "$ >= 10 && $ <= 12")'}},Xi=Object.values($n),Ji=({name:e,rows:t,filterValue:o,setFilter:n,onClose:s,field:r,searchFilter:i,setSearchFilter:l,operator:a,setOperator:d})=>{const f=(0,Fe.$j)(),g=(0,u.useMemo)(()=>Vi(t,r),[t,r]),h=(0,u.useMemo)(()=>Ki(g),[g]),p=(0,u.useMemo)(()=>Ui(h,o),[h,o]),[C,S]=(0,u.useState)(p),[b,D]=(0,u.useState)(!1),R=(0,u.useCallback)(k=>s(),[s]),v=(0,u.useCallback)(k=>{if(C.length!==0){const A=new Set(C.map(L=>L.value));n(L=>({...L,[e]:{filtered:C,filteredSet:A,searchFilter:i,operator:a}}))}else n(A=>{const L={...A};return delete L[e],L});s()},[n,C,s]),w=(0,u.useCallback)(k=>{n(A=>{const L={...A};return delete L[e],L}),s()},[n,s]),x=(0,Se.t)("grafana-ui.table.filter-popup-input-placeholder","Filter values"),E=(0,u.useMemo)(()=>o!==void 0,[o]),T=(0,Fe.of)(Zi);return(0,c.jsx)(Wi.N,{onClick:R,useCapture:!0,children:(0,c.jsx)("div",{className:T.filterContainer,onClick:Qi,"data-testid":ft.Tp.components.Panels.Visualization.TableNG.Filters.Container,children:(0,c.jsxs)(gt.B,{direction:"column",children:[(0,c.jsxs)(gt.B,{alignItems:"center",children:[r&&(0,c.jsx)(cr.J,{className:T.label,children:me(r)}),(0,c.jsx)($i.f,{variant:"canvas",options:Xi,onChange:d,value:a,tooltip:a.description})]}),(0,c.jsx)("div",{className:T.listDivider}),(0,c.jsxs)(gt.B,{gap:1,children:[(0,c.jsx)(Bi.Z,{placeholder:x,title:x,onChange:l,value:i}),(0,c.jsx)(un.$n,{tooltip:(0,Se.t)("grafana-ui.table.filter-popup-aria-label-match-case","Match case"),variant:"secondary",style:{color:b?f.colors.text.link:f.colors.text.disabled},onClick:()=>{D(k=>!k)},icon:"text-fields"})]}),(0,c.jsx)(ea,{onChange:S,values:C,options:h,caseSensitive:b,searchFilter:i,operator:a}),(0,c.jsxs)(gt.B,{gap:3,children:[(0,c.jsxs)(gt.B,{children:[(0,c.jsx)(un.$n,{size:"sm",onClick:v,children:(0,c.jsx)(Se.x6,{i18nKey:"grafana-ui.table.filter-popup-apply",children:"Ok"})}),(0,c.jsx)(un.$n,{size:"sm",variant:"secondary",onClick:R,children:(0,c.jsx)(Se.x6,{i18nKey:"grafana-ui.table.filter-popup-cancel",children:"Cancel"})})]}),E&&(0,c.jsx)(gt.B,{children:(0,c.jsx)(un.$n,{fill:"text",size:"sm",onClick:w,children:(0,c.jsx)(Se.x6,{i18nKey:"grafana-ui.table.filter-popup-clear",children:"Clear filter"})})})]})]})})})},Zi=e=>({filterContainer:(0,$.css)({label:"filterContainer",width:"100%",minWidth:"250px",height:"100%",backgroundColor:e.colors.background.primary,border:`1px solid ${e.colors.border.weak}`,padding:e.spacing(2),boxShadow:e.shadows.z3,borderRadius:e.shape.radius.default}),listDivider:(0,$.css)({label:"listDivider",width:"100%",borderTop:`1px solid ${e.colors.border.medium}`}),label:(0,$.css)({marginBottom:0})}),Qi=e=>{e.stopPropagation()},Bn=28,_i=Bn*5,dr=$n.Contains,qi=$n.Expression,Vn=e=>{if(e=e.trim().replace(/\\/g,""),/^(\d{4}-\d{2}-\d{2}|\d{4}\/\d{2}\/\d{2})/.test(e)){const n=new Date(e);if(!isNaN(n.getTime())){const s=(0,Be.j_)("dateTimeAsIso");return(0,Be.cN)(s(n.getTime()))}}const t=parseFloat(e);if(!isNaN(t))return t;const o=e.toLowerCase();return o==="true"||o==="false"?o==="true":e},ea=({options:e,values:t,caseSensitive:o,onChange:n,searchFilter:s,operator:r})=>{const i=(0,u.useMemo)(()=>new RegExp(s,o?void 0:"i"),[s,o]),l=(0,u.useMemo)(()=>e.filter(v=>{if(!s||r.value===dr.value)return v.label===void 0?!1:i.test(v.label);if(r.value===qi.value){if(v.value===void 0)return!1;try{const w=s.replace(/\\/g,""),x=new Function("$",`'use strict'; return ${w};`),E=Vn(v.value);return x(E)}catch{}return!1}else{if(v.value===void 0)return!1;const w=Vn(v.value),x=Vn(s);switch(r.value){case"=":return w===x;case"!=":return w!==x;case">":return w>x;case">=":return w>=x;case"<":return w<x;case"<=":return w<=x}return!1}}),[e,i,r,s]),a=(0,u.useMemo)(()=>l.filter(v=>t.includes(v)),[l,t]),d=(0,u.useMemo)(()=>l.length===a.length,[l,a]),f=(0,u.useMemo)(()=>a.length>0&&l.length>a.length,[l,a]),g=(0,u.useMemo)(()=>a.length?`${a.length} selected`:"Select all",[a]),h=(0,u.useMemo)(()=>l.length!==a.length?"Add all displayed values to the filter":"Remove all displayed values from the filter",[l,a]),p=(0,Fe.of)(na),S=(0,Fe.$j)().spacing.gridSize,b=(0,u.useMemo)(()=>Math.min(l.length*Bn,_i)+S,[S,l.length]),D=(0,u.useCallback)(v=>w=>{const x=w.currentTarget.checked?t.concat(v):t.filter(E=>E.value!==v.value);n(x)},[n,t]),R=(0,u.useCallback)(()=>{if(l.length===a.length){const v=t.filter(w=>!l.includes(w));n(v)}else{const v=[...new Set([...t,...l])];n(v)}},[n,t,l,a]);return(0,c.jsx)(gt.B,{direction:"column",children:l.length>0?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(Gi.Y1,{height:b,itemCount:l.length,itemSize:Bn,itemData:{items:l,values:a,onCheckedChanged:D,className:p.filterListRow},width:"100%",className:p.filterList,children:ta}),(0,c.jsx)("div",{className:p.filterListRow,"data-testid":ft.Tp.components.Panels.Visualization.TableNG.Filters.SelectAll,children:(0,c.jsx)(ar.S,{value:d,indeterminate:f,label:g,description:h,onChange:R})})]}):(0,c.jsx)(cr.J,{className:p.noValuesLabel,children:(0,c.jsx)(Se.x6,{i18nKey:"grafana-ui.table.no-values-label",children:"No values"})})})};function ta({index:e,style:t,data:{onCheckedChanged:o,items:n,values:s,className:r}}){const i=n[e],{value:l,label:a}=i,d=s.find(f=>f.value===l)!==void 0;return(0,c.jsx)("div",{className:r,style:t,title:a,children:(0,c.jsx)(ar.S,{value:d,label:a,onChange:o(i)})})}const na=e=>({filterList:(0,$.css)({label:"filterList",backgroundColor:e.components.input.background,border:`1px solid ${e.colors.border.medium}`,borderRadius:e.shape.radius.default}),filterListRow:(0,$.css)({label:"filterListRow",cursor:"pointer",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",padding:e.spacing(.5),":hover":{backgroundColor:e.colors.action.hover}}),selectDivider:(0,$.css)({label:"selectDivider",width:"100%",borderTop:`1px solid ${e.colors.border.medium}`,padding:e.spacing(.5,2)}),noValuesLabel:(0,$.css)({paddingTop:e.spacing(1)})}),oa=({name:e,rows:t,filter:o,setFilter:n,field:s,crossFilterOrder:r,crossFilterRows:i,iconClassName:l})=>{const a=o[e]?.filtered,d=r.indexOf(e);let f;if(d>0){const w=r[d-1];f=i[w]}else if(d===-1&&r.length>0){const w=r[r.length-1];f=i[w]}else f=t;const g=(0,u.useRef)(null),[h,p]=(0,u.useState)(!1),C=(0,Fe.of)(ra),S=!!a,[b,D]=(0,u.useState)(o[e]?.searchFilter||""),[R,v]=(0,u.useState)(o[e]?.operator||dr);return(0,c.jsxs)("button",{className:C.headerFilter,ref:g,type:"button","data-testid":ft.Tp.components.Panels.Visualization.TableNG.Filters.HeaderButton,onClick:w=>{p(!0),w.stopPropagation()},children:[(0,c.jsx)(dn.I,{name:"filter",className:(0,$.cx)(l,{[C.filterIconEnabled]:S})}),h&&g.current&&(0,c.jsx)(ir.A,{content:(0,c.jsx)(Ji,{name:e,rows:f,filterValue:a,setFilter:n,field:s,onClose:()=>p(!1),searchFilter:b,setSearchFilter:D,operator:R,setOperator:v}),onKeyDown:w=>{w.key===" "&&w.stopPropagation()},placement:"bottom-start",referenceElement:g.current,show:!0})]})},ra=e=>({headerFilter:(0,$.css)({background:"transparent",border:"none",label:"headerFilter",padding:0,alignSelf:"flex-end"}),filterIconEnabled:(0,$.css)({label:"filterIconEnabled",color:e.colors.primary.text})}),sa=({column:e,rows:t,field:o,direction:n,filter:s,setFilter:r,crossFilterOrder:i,crossFilterRows:l,showTypeIcons:a})=>{const d=o.config.custom?.wrapHeaderText??!1,f=(0,Fe.of)(la,d),g=me(o),h=o.config.custom?.filterable??!1;return(0,u.useEffect)(()=>{!h&&s[g]&&r(p=>{const C={...p};return delete C[g],C})},[h,g,s,r]),(0,c.jsxs)(c.Fragment,{children:[a&&(0,c.jsx)(dn.I,{className:f.headerCellIcon,name:(0,zi.SS)(o),title:o?.type,size:"sm"}),(0,c.jsx)("span",{className:f.headerCellLabel,children:me(o)}),n&&(0,c.jsx)(dn.I,{className:(0,$.cx)(f.headerCellIcon,f.headerSortIcon),size:"lg",name:n==="ASC"?"arrow-up":"arrow-down"}),h&&(0,c.jsx)(oa,{name:e.key,rows:t,filter:s,setFilter:r,field:o,crossFilterOrder:i,crossFilterRows:l,iconClassName:f.headerCellIcon})]})},la=(e,t)=>({headerCellLabel:(0,$.css)({cursor:"pointer",fontWeight:e.typography.fontWeightMedium,color:e.colors.text.secondary,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:t?"pre-line":"nowrap","&:hover":{textDecoration:"underline"},"&::selection":{backgroundColor:"var(--rdg-background-color)",color:e.colors.text.secondary}}),headerCellIcon:(0,$.css)({marginBottom:e.spacing(.5),alignSelf:"flex-end",color:e.colors.text.secondary}),headerSortIcon:(0,$.css)({marginBottom:e.spacing(.25)})});function ia({onCellExpand:e,isExpanded:t}){const o=(0,Fe.of)(aa);function n(s){(s.key===" "||s.key==="Enter")&&(s.preventDefault(),e(s))}return(0,c.jsx)("div",{role:"button",tabIndex:0,className:o.expanderCell,onClick:e,onKeyDown:n,children:(0,c.jsx)(dn.I,{"aria-label":t?(0,Se.t)("grafana-ui.row-expander-ng.aria-label-collapse","Collapse row"):(0,Se.t)("grafana-ui.row-expander.aria-label-expand","Expand row"),name:t?"angle-down":"angle-right",size:"lg"})})}const aa=e=>({expanderCell:(0,$.css)({display:"flex",flexDirection:"column",justifyContent:"center",cursor:"pointer"})});var Ce=G(46644),ca=G(76732);const da=(e,t,o)=>{const n=o.find(r=>me(r)===t);return!n||!n.display?"":(0,Be.cN)(n.display(e[t]))};function ua(e,t,{hasNestedFrames:o}){const[n,s]=(0,u.useState)({}),r=(0,u.useMemo)(()=>Object.entries(n),[n]),i=(0,u.useMemo)(()=>Array.from(new Set(r.map(([d])=>d))),[r]),[l,a]=(0,u.useMemo)(()=>{const d={},f=h=>{for(const[p,C]of r){const S=da(h,p,t);if(!C.filteredSet.has(S))return!1;d[p]=d[p]??[],d[p].push(h)}return!0};return[o?qo(e,h=>h.filter(f)):e.filter(f),d]},[r,e,t,o]);return{rows:l,filter:n,setFilter:s,crossFilterOrder:i,crossFilterRows:a}}function fa(e,t,{initialSortBy:o,hasNestedFrames:n}){const s=(0,u.useMemo)(()=>o?.flatMap(({displayName:d,desc:f})=>t.some(g=>me(g)===d)?[{columnKey:d,direction:f?"DESC":"ASC"}]:[])??[],[]),[r,i]=(0,u.useState)(s),l=(0,u.useMemo)(()=>Gn(t),[t]);return{rows:(0,u.useMemo)(()=>Zo(e,t,r,l,n),[e,t,r,n,l]),sortColumns:r,setSortColumns:i}}const ga=38;function ha(e,{height:t,width:o,headerHeight:n,footerHeight:s,rowHeight:r,enabled:i}){const[l,a]=(0,u.useState)(0),d=e.length,f=(0,u.useMemo)(()=>i?typeof r=="number"?r:typeof r=="string"?J.MAX_CELL_HEIGHT:e.slice(0,100).reduce((D,R,v,{length:w})=>D+r(R)/w,0):0,[e,r,i]),g=(0,u.useMemo)(()=>i&&o<J.PAGINATION_LIMIT,[i,o]),{numPages:h,rowsPerPage:p,pageRangeStart:C,pageRangeEnd:S}=(0,u.useMemo)(()=>{if(!i)return{numPages:0,rowsPerPage:0,pageRangeStart:1,pageRangeEnd:d};const D=t-n-s-ga,R=Math.floor(D/(f||1));let v=R>1?R:1;const w=l*v+1;let x=w+v-1;return x>d&&(x=d),{numPages:Math.ceil(d/v),rowsPerPage:v,pageRangeStart:w,pageRangeEnd:x}},[t,n,s,f,i,d,l]);return(0,u.useLayoutEffect)(()=>{i&&l>h&&a(h-1)},[h,i,l,a]),{rows:(0,u.useMemo)(()=>{if(!i)return e;const D=l*p;return e.slice(D,D+p)},[l,p,e,i]),page:i?l:-1,setPage:a,numPages:h,rowsPerPage:p,pageRangeStart:C,pageRangeEnd:S,smallPagination:g}}const pa=16,ma=4;function Ca({fields:e,enabled:t,columnWidths:o,sortColumns:n,typographyCtx:s,showTypeIcons:r=!1}){const i=pa+ma,l=(0,u.useMemo)(()=>Fl(e,s),[e,s]),a=(0,u.useMemo)(()=>o.map((f,g)=>{if(g>=e.length)return 0;let h=f-2*J.CELL_PADDING-J.BORDER_RIGHT;const p=e[g];return p.config?.custom?.filterable&&(h-=i),n.some(C=>C.columnKey===me(p))&&(h-=i),r&&(h-=i),Math.floor(h)-1}),[e,o,n,r,i]);return(0,u.useMemo)(()=>t?Yo(e,-1,a,J.HEADER_HEIGHT,l,J.LINE_HEIGHT,J.CELL_PADDING):0,[e,t,a,l])}function wa({columnWidths:e,fields:t,hasNestedFrames:o,defaultHeight:n,expandedRows:s,typographyCtx:r,maxHeight:i}){const l=(0,u.useMemo)(()=>zl(t,r,i),[t,r,i]),a=(0,u.useMemo)(()=>l?.length??!1,[l]),d=(0,u.useMemo)(()=>{const g=2*J.CELL_PADDING+J.BORDER_RIGHT;return e.map(h=>h-g)},[e]);return(0,u.useMemo)(()=>{if(!o&&!a||typeof n=="string")return n;const g=Array(t[0].values.length);return h=>{if(h.__depth>0){if(!s.has(h.__index))return 0;const C=h.data?.length??0;if(C===0)return J.NESTED_NO_DATA_HEIGHT+J.CELL_PADDING*2;const S=h.data?.meta?.custom?.noHeader?0:n;return n*C+S+J.CELL_PADDING*2}let p=g[h.__index];return p||(p=g[h.__index]=Yo(t,h.__index,d,n,l)),p}},[o,a,n,t,d,l,s])}const ur=Object.freeze({columnKey:void 0,width:0});function xa(e=()=>{}){const t=(0,u.useRef)({...ur}),o=(0,u.useRef)(!1);(0,u.useLayoutEffect)(()=>{function r(l){o.current=!0}function i(l){o.current=!1}return window.addEventListener("pointerdown",r),window.addEventListener("pointerup",i),()=>{window.removeEventListener("pointerdown",r),window.removeEventListener("pointerup",i)}});const n=(0,u.useCallback)(()=>{t.current.columnKey&&(e(t.current.columnKey,Math.floor(t.current.width)),t.current={...ur}),window.removeEventListener("click",n,{capture:!0})},[e]);return(0,u.useCallback)((r,i)=>{t.current.columnKey||window.addEventListener("click",n,{capture:!0}),t.current.columnKey=r.key,t.current.width=i,o.current||n()},[n])}function ya(e,t){const[o,n]=(0,u.useState)(0);return(0,u.useLayoutEffect)(()=>{const s=e.current?.element;if(!s)return;const r=()=>{n(s.offsetWidth-s.clientWidth)};r();const i=new ResizeObserver(r);return i.observe(s),()=>{i.disconnect()}},[e,t]),o}const Sa=(e,t)=>e===t;function fr(e,t,o){const[n,s]=(0,u.useState)(er(e,t));(0,u.useEffect)(()=>{const i=er(e,t);(0,ca.J3)(n,i,Sa)||s(i)},[t,n,e]);const r=(0,u.useMemo)(()=>{if(!o||o<=0)return-1;const i=n.reduce(([l,a],d)=>a-d>=0?[l+1,a-d]:[l,0],[0,t])[0];return Math.min(i,o)},[n,t,o]);return[n,r]}const gr=e=>e in Ce.gy,va=new Set([Ce.gy.allValues,Ce.gy.changeCount,Ce.gy.count,Ce.gy.countAll,Ce.gy.distinctCount,Ce.gy.first,Ce.gy.firstNotNull,Ce.gy.last,Ce.gy.lastNotNull,Ce.gy.uniqueValues]),hr=e=>gr(e)&&va.has(e),Ra=new Set([Ce.gy.count,Ce.gy.countAll]),ba=e=>gr(e)&&Ra.has(e),Ia=(e,t,o,n)=>(0,u.useMemo)(()=>{const s=e.config.custom?.footer?.reducers??[];if(s.length===0||e.type!==re.PU.number&&s.every(d=>!hr(d)))return[];const r={lastProcessedRowCount:0,...e.state||{}};e.state=r;const i=t.length;r.lastProcessedRowCount!==i&&(r.calcs&&delete r.calcs,r.lastProcessedRowCount=i);const a=(0,Ce.Nw)({field:{...e,values:t.map(d=>d[o])},reducers:s});return s.map(d=>{if(a[d]===void 0||e.type!==re.PU.number&&!hr(d)||d===Ce.gy.countAll&&n!==0)return[d,null];const f=a[d];let g=null;return!ba(d)&&e.display?g=(0,Be.cN)(e.display(f)):f!=null&&(g=String(f)),[d,g]})},[e,t,o,n]),Un=e=>e===Ce.gy.countAll?(0,Se.t)("grafana-ui.table.footer.reducer.count","Count"):Ce.AS.get(e)?.name||e,Ea=({rows:e,footers:t,field:o,colIdx:n,hideLabel:s=!1,rowLabel:r=!1,textAlign:i})=>{const l=(0,Fe.of)(Da,i,s),a=(0,Fe.$j)(),d=Fn(a,{textAlign:"left",shouldOverflow:!0,textWrap:!1}),f=me(o),g=Ia(o,e,f,n),h=(0,he.A)(l.footerCell,d),p=(0,u.useMemo)(()=>{for(const R of t)if(R?.reducers?.length??!1)return R.reducers},[t]),C=r&&g.length===0&&!!p,S=({children:R})=>(0,c.jsx)("div",{className:l.footerItem,children:R}),b=({children:R})=>(0,c.jsx)("div",{"data-testid":ft.Tp.components.Panels.Visualization.TableNG.Footer.ReducerLabel,className:l.footerItemLabel,children:R}),D=({children:R})=>(0,c.jsx)("div",{"data-testid":ft.Tp.components.Panels.Visualization.TableNG.Footer.Value,className:l.footerItemValue,children:R});return(0,c.jsxs)("div",{className:h,"data-testid":g.length===0&&!C?"summary-cell-empty":void 0,children:[g.map(([R,v])=>v===null?(0,c.jsx)(S,{children:r?(0,c.jsx)(b,{children:Un(R)}):(0,c.jsx)(c.Fragment,{children:"\xA0"})},R):(0,c.jsxs)(S,{children:[!s&&(0,c.jsx)(b,{children:Un(R)}),(0,c.jsx)(D,{children:v})]},R)),C&&p.map(R=>(0,c.jsx)(S,{children:(0,c.jsx)(b,{children:Un(R)})},R))]})},Da=(e,t,o)=>({footerCell:(0,$.css)({flexDirection:"column",minHeight:"100%",width:"100%"}),footerItem:(0,$.css)({display:"flex",flexDirection:"row",justifyContent:o?Wt(t):"space-between",alignItems:"flex-start",width:"100%",gap:e.spacing(.5)}),footerItemLabel:(0,$.css)({flexShrink:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:e.colors.text.secondary,fontSize:e.typography.bodySmall.fontSize,fontWeight:e.typography.fontWeightLight,textTransform:"uppercase",lineHeight:"22px"}),footerItemValue:(0,$.css)({overflow:"hidden",textOverflow:"ellipsis",fontWeight:e.typography.fontWeightMedium})});var Kn=G(76319);const Ta="=",ka="!=",pr=(0,u.memo)(({field:e,value:t,cellOptions:o,displayName:n,setInspectCell:s,onCellFilterAdded:r,className:i,cellInspect:l,showFilters:a})=>(0,c.jsxs)("div",{className:i,onClick:d=>d.stopPropagation(),children:[l&&(0,c.jsx)(Kn.K,{name:"eye","aria-label":(0,Se.t)("grafana-ui.table.cell-inspect-tooltip","Inspect value"),onClick:()=>{let d=t,f=Gt.B.text;e.type===re.PU.geo&&t instanceof rr.A&&(d=new or.A().writeGeometry(t,{featureProjection:"EPSG:3857",dataProjection:"EPSG:4326"}),f=Gt.B.code),o.type===I.ob.JSONView&&(f=Gt.B.code),s({value:String(d??""),mode:f})}}),a&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(Kn.K,{name:"filter-plus","aria-label":(0,Se.t)("grafana-ui.table.cell-filter-on","Filter for value"),onClick:()=>{r?.({key:n,operator:Ta,value:String(t??"")})}}),(0,c.jsx)(Kn.K,{name:"filter-minus","aria-label":(0,Se.t)("grafana-ui.table.cell-filter-out","Filter out value"),onClick:()=>{r?.({key:n,operator:ka,value:String(t??"")})}})]})]}));pr.displayName="TableCellActions";const mr=(0,u.memo)(({cellOptions:e,children:t,classes:o,className:n,data:s,disableSanitizeHtml:r,field:i,getActions:l,getTextColorForBackground:a,gridRef:d,height:f,placement:g,renderer:h,rowIdx:p,style:C,theme:S,tooltipField:b,width:D=300})=>{const R=i.values[p],v=(0,u.useRef)(null),[w,x]=(0,u.useState)(!1),[E,T]=(0,u.useState)(!1),k=w||E,A=b.config.custom?.cellOptions?.dynamicHeight;(0,u.useEffect)(()=>{if(E){const X=d.current?.element,oe=ie=>{ie.target!==v.current&&(T(!1),window.removeEventListener("click",oe))};window.addEventListener("click",oe);const j=()=>{T(!1)};return X?.addEventListener("scroll",j,{once:!0}),()=>{window.removeEventListener("click",oe),X?.removeEventListener("scroll",j)}}},[E,d]);const L=(0,u.useMemo)(()=>({cellInspect:!1,cellOptions:e,disableSanitizeHtml:r,field:i,frame:s,getActions:l,getTextColorForBackground:a,height:f,rowIdx:p,showFilters:!1,theme:S,value:R,width:D}),[e,s,r,i,l,a,f,R,p,S,D]),_=v.current?.closest(".rdg-cell");if(R==null)return t;const B=()=>x(!1),N=()=>x(!0);return(0,c.jsxs)(c.Fragment,{children:[_&&(0,c.jsx)(ir.A,{content:(0,c.jsx)(h,{...L}),show:k,placement:g,wrapperClassName:o.tooltipWrapper,className:n,style:{...C,width:D,...!A&&{height:f}},referenceElement:_,onMouseLeave:B,onMouseEnter:N,onClick:X=>X.stopPropagation(),"data-testid":ft.Tp.components.Panels.Visualization.TableNG.Tooltip.Wrapper}),(0,c.jsx)("div",{className:o.tooltipCaret,ref:v,"data-testid":ft.Tp.components.Panels.Visualization.TableNG.Tooltip.Caret,"aria-pressed":E,onClick:()=>T(X=>!X),onMouseLeave:B,onMouseEnter:N,onBlur:B,onFocus:N}),t]})});mr.displayName="TableCellTooltip";const Cr="expanded";function La(e){const{cellHeight:t,data:o,disableSanitizeHtml:n,enablePagination:s=!1,enableSharedCrosshair:r=!1,enableVirtualization:i,frozenColumns:l=0,getActions:a=()=>[],height:d,initialSortBy:f,maxRowHeight:g,noHeader:h,onCellFilterAdded:p,onColumnResize:C,onSortByChange:S,showTypeIcons:b,structureRev:D,timeRange:R,transparent:v,width:w}=e,x=(0,Fe.$j)(),E=(0,Fe.of)(vl,s,v),T=(0,fl.d2)(),k=(0,u.useMemo)(()=>T.canExecuteActions?.()??!1,[T]),A=(0,u.useCallback)((V,le)=>k?a(o,V,le):[],[a,o,k]),L=(0,u.useMemo)(()=>ri(o.fields),[o.fields]),_=!h,B=(0,u.useMemo)(()=>L.some(V=>!!V.config.custom?.footer?.reducers?.length),[L]),N=(0,u.useMemo)(()=>B?ni(L):0,[B,L]),X=xa(C),oe=(0,u.useMemo)(()=>Qo(o),[o]),j=(0,u.useMemo)(()=>_o(o.fields),[o]),ie=(0,u.useMemo)(()=>on()(jo.sg,{maxSize:1e3}),[]),{rows:He,filter:Le,setFilter:qe,crossFilterOrder:et,crossFilterRows:tt}=ua(oe,o.fields,{hasNestedFrames:j}),{rows:Oe,sortColumns:ze,setSortColumns:O}=fa(He,o.fields,{hasNestedFrames:j,initialSortBy:f}),[F,K]=(0,u.useState)(null),[W,ne]=(0,u.useState)(),[P,Z]=(0,u.useState)(()=>new Set),q=(0,u.useMemo)(()=>Al(x,L,t),[x,L,t]),ae=(0,u.useRef)(null),pe=ya(ae,d),ve=(0,u.useMemo)(()=>(j?w-It.EXPANDER_WIDTH:w)-pe,[w,j,pe]),Re=(0,u.useMemo)(()=>Kl(x),[x]),be=(0,u.useMemo)(()=>si(o.fields,Re)??void 0,[o.fields,Re]),Ue=(0,u.useMemo)(()=>Uo(x.typography.fontSize,x.typography.fontFamily,Yl(x.typography.body.letterSpacing)*x.typography.fontSize),[x]),[Ae,Ge]=fr(L,ve,l),ht=Ca({columnWidths:Ae,fields:L,enabled:_,sortColumns:ze,showTypeIcons:b??!1,typographyCtx:Ue}),We=g!=null?Math.max(J.LINE_HEIGHT,g):void 0,De=wa({columnWidths:Ae,fields:L,hasNestedFrames:j,defaultHeight:q,expandedRows:P,typographyCtx:Ue,maxHeight:We}),{rows:Yn,page:Xn,setPage:fn,numPages:Vt,pageRangeStart:gn,pageRangeEnd:hn,smallPagination:Dt}=ha(Oe,{enabled:s,width:ve,height:d,footerHeight:N,headerHeight:_?J.HEADER_ROW_HEIGHT:0,rowHeight:De}),[Ut,Me]=(0,u.useMemo)(()=>{const V=[];let le=!0,ee;for(const se of L){const ge=se.config?.custom?.footer;if(V.push(ge),ee===void 0&&(ge?.reducers?.length??0)>0)ee=ge?.reducers;else if(ee!==void 0){const U=ge?.reducers;if((U?.length??!1)&&(U.length!==ee.length||U.some((ue,we)=>ee?.[we]!==ue))){le=!1;break}}}return[V,le]},[L]),pt=(0,u.useMemo)(()=>typeof De=="function"?De:typeof De=="string"?()=>J.MAX_CELL_HEIGHT:()=>De,[De]),Tt=(0,u.useMemo)(()=>wr(o.fields,T,P,r),[o,r,P,T]),kt=(0,u.useMemo)(()=>({enableVirtualization:i!==!1&&De!=="auto",defaultColumnOptions:{minWidth:50,resizable:!0,sortable:!0},onColumnResize:X,onSortColumnsChange:V=>{O(V),S?.(V.map(({columnKey:le,direction:ee})=>({displayName:le,desc:ee==="DESC"})))},sortColumns:ze,rowHeight:De,bottomSummaryRows:B?[{}]:void 0,summaryRowHeight:N,headerRowClass:E.headerRow,headerRowHeight:h?0:J.HEADER_ROW_HEIGHT}),[i,B,X,ze,De,E.headerRow,h,O,S,N]),Kt=(0,u.useCallback)((V,le,ee)=>({key:Cr,name:"",field:{name:"",type:re.PU.other,config:{},values:[]},cellClass(se){if(se.__depth!==0)return E.cellNested},colSpan(se){return se.type==="ROW"&&se.row.__depth===1?o.fields.length:1},renderCell:({row:se})=>{if(se.__depth===0){const ue=se.__index;return(0,c.jsx)(ia,{isExpanded:P.has(ue),onCellExpand:()=>{P.has(ue)?P.delete(ue):P.add(ue),Z(new Set(P))}})}const ge=se.data;if(!ge)return null;const U=Zo(Qo(ge),ge.fields,ze);return U.length?(0,c.jsx)(Mn,{...kt,className:(0,he.$)(E.grid,E.gridNested),headerRowClass:(0,he.$)(E.headerRow,{[E.displayNone]:!le}),headerRowHeight:le?J.HEADER_HEIGHT:0,columns:V,rows:U,renderers:ee}):(0,c.jsx)("div",{className:E.noDataNested,children:(0,c.jsx)(Se.x6,{i18nKey:"grafana-ui.table.nested-table.no-data",children:"No data"})})},width:It.EXPANDER_WIDTH,minWidth:It.EXPANDER_WIDTH}),[kt,o.fields.length,P,ze,E]),mt=(0,u.useCallback)((V,le)=>{const ee={columns:[],cellRootRenderers:{},colsWithTooltip:{}};let se=-1,ge={color:void 0,background:void 0};return V.forEach((U,ue)=>{const we=Ve(U),nt=we.type;nt===I.ob.Pill&&(U.config.mappings?.length??!1)&&(U={...U,config:{...U.config,color:{...U.config.color,mode:Mo.Yb.Fixed,fixedColor:U.config.color?.fixedColor??jn.F}}},U.display=(0,dl.J)({field:U,theme:x})),(nt===I.ob.JSONView||U.type===re.PU.other)&&(U.display=ii);const Ne=Xo(U),ot=Wt(Ne),rt=me(U),Ze=Rl(x,ot),Xt=Wn(U,we),xe=Bo(U),st=!!(U.config.filterable&&p!=null),Ke=xe||st,H=le[ue],lt=Ke?(0,he.$)("table-cell-actions",Il(x,Ne)):void 0,xt=De!=="auto"&&(Wl(U)||!!We),Jt=De==="auto"||cn(U),Lt=li(U,nt),Zt=tr(nt,be),it={textAlign:Ne,textWrap:Jt,shouldOverflow:xt,maxHeight:We};ee.colsWithTooltip[rt]=Lt;const Qt=Fn(x,it),_t=sr(nt,U,x,it),wn=zo(x,Zt),xn=(0,he.$)(Qt,wn),Qn=We?bl(x,it):void 0,_n=(fe,Te)=>{const ke=Te.row.__index;ke!==se&&(se=ke,ge.color=void 0,ge.background=void 0,be!=null&&(ge={...ge,...be(ke)}));let Ye={...ge};if(Zt){const Ie=Te.row[Te.column.key],Xe=U.display(Ie),qt=Re(we,Xe,be!=null);Object.assign(Ye,qt)}return(0,c.jsx)(bo,{...Te,className:(0,he.$)(Te.className,xn,_t!=null&&{[_t]:We==null}),style:Ye},fe)};ee.cellRootRenderers[rt]=_n;const at=fe=>{const Te=fe.row.__index,ke=fe.row[fe.column.key],Ye=pt(fe.row),Ie=o;let Xe=(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(Xt,{cellOptions:we,frame:Ie,field:U,height:Ye,rowIdx:Te,theme:x,value:ke,width:H,timeRange:R,cellInspect:xe,showFilters:st,getActions:A,disableSanitizeHtml:n,getTextColorForBackground:ie}),Ke&&(0,c.jsx)(pr,{field:U,value:ke,cellOptions:we,displayName:rt,cellInspect:xe,showFilters:st,className:lt,setInspectCell:K,onCellFilterAdded:p})]});return We!=null&&(Xe=(0,c.jsx)("div",{className:(0,he.$)(Qn,_t),children:Xe})),Xe};let ct=at;const At=U.config.custom?.tooltip?.field;if(At){const fe=o.fields.find(oi(At));if(fe){const Te=me(fe),ke=Ve(fe),Ye=Wn(fe,ke),Ie={textAlign:Xo(fe),textWrap:cn(fe),shouldOverflow:!1,maxHeight:We},Xe=tr(ke.type,be),qt=Fn(x,Ie),qn=sr(ke.type,fe,x,Ie),dt=zo(x,Xe),en=El(x,Ne),ut=U.config.custom?.tooltip?.placement??I.F4.Auto,eo=ut===I.F4.Left||ut===I.F4.Right?fe.config.custom?.width:H,to={cellOptions:ke,classes:en,className:(0,he.$)(en.tooltipContent,qt,qn,dt),data:o,disableSanitizeHtml:n,field:fe,getActions:A,getTextColorForBackground:ie,gridRef:ae,placement:ut,renderer:Ye,tooltipField:fe,theme:x,width:eo};ct=Pt=>{const no=pt(Pt.row);let yn={...ge};if(Xe){const oo=fe.display(Pt.row[Te]),ro=Re(ke,oo,be!=null);Object.assign(yn,ro)}return(0,c.jsx)(mr,{...to,height:no,rowIdx:Pt.row.__index,style:yn,children:at(Pt)})}}}ee.columns.push({field:U,key:rt,name:rt,width:H,headerCellClass:Ze,frozen:Math.min(l,Ge)>ue,renderCell:ct,renderHeaderCell:({column:fe,sortDirection:Te})=>(0,c.jsx)(sa,{column:fe,rows:oe,field:U,filter:Le,setFilter:qe,crossFilterOrder:et,crossFilterRows:tt,direction:Te,showTypeIcons:b}),renderSummaryCell:()=>(0,c.jsx)(Ea,{rows:Oe,footers:Ut,field:U,colIdx:ue,textAlign:ai(Ne,nt),rowLabel:Me&&ue===0,hideLabel:Me&&ue!==0})})}),ee},[be,et,tt,o,n,Le,Ut,l,A,Re,ie,Me,We,Ge,p,oe,De,pt,qe,Oe,b,x,R]),je=(0,u.useMemo)(()=>j?oe.find(V=>V.data)?.data:void 0,[j,oe]),[pn]=fr(je?.fields??[],ve),{columns:Ct,cellRootRenderers:wt,colsWithTooltip:Jn}=(0,u.useMemo)(()=>{const V=mt(L,Ae);if(!je)return V;const le=je.meta?.custom?.noHeader!==!0,ee=wr(je.fields,T,P,r),{columns:se,cellRootRenderers:ge}=mt(je.fields,pn),U=(ue,we)=>(0,c.jsx)(bo,{...we},ue);return V.cellRootRenderers[Cr]=U,V.columns.unshift(Kt(se,le,{renderRow:ee,renderCell:(ue,we)=>ge[we.column.key](ue,we)})),V},[Kt,r,P,je,mt,pn,T,L,Ae]),mn=(0,u.useMemo)(()=>Ct,[Ct,D]),$e=(0,u.useCallback)((V,le)=>wt[le.column.key](V,le),[wt]),Cn=gn,Yt=hn,Zn=Oe.length;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(Mn,{...kt,ref:ae,className:E.grid,columns:mn,rows:Yn,headerRowClass:(0,he.$)(E.headerRow,{[E.displayNone]:h}),headerRowHeight:ht,onCellClick:({column:V,row:le},{clientX:ee,clientY:se,preventGridDefault:ge,target:U})=>{const ue=Ct[V.idx].field;if(Jn[me(ue)]&&U instanceof HTMLElement&&U.closest("a[aria-haspopup], .rdg-cell")?.matches("a")){const we=le.__index;ne({coords:{clientX:ee,clientY:se},links:zn(ue,we),actions:A(ue,we)}),ge()}},onCellKeyDown:j?(V,le)=>{le.isDefaultPrevented()&&le.preventGridDefault()}:null,renderers:{renderRow:Tt,renderCell:$e}}),s&&(0,c.jsxs)("div",{className:E.paginationContainer,children:[(0,c.jsx)(ul.d,{className:"table-ng-pagination",currentPage:Xn+1,numberOfPages:Vt,showSmallVersion:Dt,onNavigate:V=>{fn(V-1)}}),!Dt&&(0,c.jsx)("div",{className:E.paginationSummary,children:(0,c.jsxs)(Se.x6,{i18nKey:"grafana-ui.table.pagination-summary",children:[{itemsRangeStart:Cn}," - ",{displayedEnd:Yt}," of ",{numRows:Zn}," rows"]})})]}),W&&(0,c.jsx)(No.e,{links:W.links??[],actions:W.actions,coords:W.coords,onTooltipClose:()=>ne(void 0)}),F&&(0,c.jsx)(Gt.s,{mode:F.mode??Gt.B.text,value:F.value,onDismiss:()=>K(null)})]})}const wr=(e,t,o,n)=>(s,r)=>{const{row:i}=r,l=i.__index,a=o.has(l);if(i.__depth===1&&!a)return null;if(i.data)return(0,c.jsx)(To,{...r,"aria-expanded":a},s);const d={};if(n){const f=e.find(g=>g.type===re.PU.time);f&&(d.onMouseEnter=()=>{t.eventBus.publish(new Ho.b_({point:{time:f?.values[l]}}))},d.onMouseLeave=()=>{t.eventBus.publish(new Ho.ql)})}return(0,c.jsx)(To,{...r,...d},s)}}}]);

//# sourceMappingURL=1142.afe8e44eb6f00633cdd8.js.map