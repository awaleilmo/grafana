"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[3324],{1299:(ne,V,s)=>{s.d(V,{D:()=>n});var e=s(74848),o=s(11594),l=s(92745),h=s(99887);function n({error:m}){const j=A(m);return(0,e.jsx)(h.E,{icon:"exclamation-triangle",text:(0,l.t)("plugins.plugin-disabled-badge.text-disabled","Disabled"),color:"red",tooltip:j})}function A(m){switch(m){case o.ZK.modifiedSignature:return"Plugin disabled due to modified content";case o.ZK.invalidSignature:return"Plugin disabled due to invalid plugin signature";case o.ZK.missingSignature:return"Plugin disabled due to missing plugin signature";case null:case void 0:return"Plugin disabled";default:return`Plugin disabled due to unknown error${m?`: ${m}`:""}`}}},8354:(ne,V,s)=>{s.d(V,{du:()=>et,Qq:()=>nt,PK:()=>Ce,G2:()=>tt,bn:()=>_e,Ge:()=>Xe,jB:()=>at});var e=s(57852),o=s(92138),l=s(92745),h=s(36580),n=s(68143),A=s(43173),m=s(36490),j=s(6890),U=s(73427),S=s(83873),u=s(54115),b=s(26437),w=s(28998),X=s(22914),g=s(95027),E=s(11257),_=s(75505),p=s(81871);const B=async()=>await(0,S.AI)().get("/api/datasources"),Z=async d=>{const v=await(0,_.s)((0,S.AI)().fetch({method:"GET",url:`/api/datasources/${d}`,params:(0,p.F)(),showErrorAlert:!1}));if(v.ok)return v.data;throw Error(`Could not find data source by ID: "${d}"`)},ie=async d=>{const v=await(0,_.s)((0,S.AI)().fetch({method:"GET",url:`/api/datasources/uid/${d}`,params:(0,p.F)(),showErrorAlert:!1}));if(v.ok)return v.data;throw Error(`Could not find data source by UID: "${d}"`)},Q=async d=>{try{return await ie(d)}catch{console.log(`Failed to lookup data source using UID "${d}"`)}try{return await Z(d)}catch{console.log(`Failed to lookup data source using ID "${d}"`)}throw Error("Could not find data source")},Y=d=>(0,S.AI)().post("/api/datasources",d),J=()=>(0,S.AI)().get("/api/plugins",{enabled:1,type:"datasource"}),K=d=>(0,S.AI)().put(`/api/datasources/uid/${d.uid}`,d,{showErrorAlert:!1,showSuccessAlert:!1,validatePath:!0}),ae=d=>(0,S.AI)().delete(`/api/datasources/uid/${d}`);var C=s(37946),L=s(30918),re=s(11594),le=s(62061),ge=s(42581),ye=s(14552),Ae=s(42965),F=s(63340),xe=s(19810),ve=s(36654),Ee=s(15912),De=s(91735),ee=s(95552),a=s(74484),D=s(51147),z=s(7672),q=s(36404),de=s(70535),oe=s(23735),Ie=s(26871),$e=s(57454),we=s(10128),Ge=s(78485),Ve=s(59161),Me=s(69443),Ze=s(94443),be=s(12680),ze=s(99444),Pe=s(57925),Oe=s(15584),Fe=s(22810),He=s(42166),pe=s(6758),Le=s(40250),ke=s(16926);function Qe(d){const v=[{id:"tsdb",title:(0,l.t)("datasources.build-categories.categories.title.time-series-databases","Time series databases"),plugins:[]},{id:"logging",title:(0,l.t)("datasources.build-categories.categories.title.logging-document-databases","Logging & document databases"),plugins:[]},{id:"tracing",title:(0,l.t)("datasources.build-categories.categories.title.distributed-tracing","Distributed tracing"),plugins:[]},{id:"profiling",title:(0,l.t)("datasources.build-categories.categories.title.profiling","Profiling"),plugins:[]},{id:"sql",title:(0,l.t)("datasources.build-categories.categories.title.sql","SQL"),plugins:[]},{id:"cloud",title:(0,l.t)("datasources.build-categories.categories.title.cloud","Cloud"),plugins:[]},{id:"enterprise",title:(0,l.t)("datasources.build-categories.categories.title.enterprise-plugins","Enterprise plugins"),plugins:[]},{id:"iot",title:(0,l.t)("datasources.build-categories.categories.title.industrial-io-t","Industrial & IoT"),plugins:[]},{id:"other",title:(0,l.t)("datasources.build-categories.categories.title.others","Others"),plugins:[]}].filter(I=>I),T={},G={},H=ut();for(const I of v)T[I.id]=I;for(const I of d){const ce=H.find(ue=>ue.id===I.id);if((I.enterprise||ce)&&(I.category="enterprise",I.unlicensed=!(0,le.a)("enterprise.plugins"),I.info.links=ce?.info?.links||I.info.links),I.info.links)for(const ue of I.info.links)ue.name="Learn more";(v.find(ue=>ue.id===I.category)||T.other).plugins.push(I),G[I.id]=I}for(const I of v){if(I.id==="cloud"&&I.plugins.push(Ye()),I.id==="enterprise")for(const ce of H)G[ce.id]||I.plugins.push(ce);ct(I.plugins)}return v.filter(I=>I.plugins.length>0)}function ct(d){const v={prometheus:100,graphite:95,loki:90,mysql:80,jaeger:100,postgres:79,gcloud:-1};d.sort((T,G)=>{const H=v[T.id]||0,I=v[G.id]||0;return H>I?-1:H<I||T.name>G.name?1:-1})}function ut(){return[W({id:"grafana-splunk-datasource",name:"Splunk",description:(0,l.t)("datasources.get-enterprise-phantom-plugins.description.visualize-and-explore-splunk-logs","Visualize and explore Splunk logs"),imgUrl:He}),W({id:"grafana-oracle-datasource",name:"Oracle",description:(0,l.t)("datasources.get-enterprise-phantom-plugins.description.visualize-and-explore-oracle-sql","Visualize and explore Oracle SQL"),imgUrl:Me}),W({id:"grafana-dynatrace-datasource",name:"Dynatrace",description:(0,l.t)("datasources.get-enterprise-phantom-plugins.description.visualize-and-explore-dynatrace-data","Visualize and explore Dynatrace data"),imgUrl:q}),W({id:"grafana-servicenow-datasource",description:(0,l.t)("datasources.get-enterprise-phantom-plugins.description.service-now-integration-and-data-source","ServiceNow integration and data source"),name:"ServiceNow",imgUrl:Pe}),W({id:"grafana-datadog-datasource",description:(0,l.t)("datasources.get-enterprise-phantom-plugins.description.data-dog-integration-and-data-source","DataDog integration and data source"),name:"DataDog",imgUrl:D}),W({id:"grafana-newrelic-datasource",description:(0,l.t)("datasources.get-enterprise-phantom-plugins.description.new-relic-integration-and-data-source","New Relic integration and data source"),name:"New Relic",imgUrl:Ve}),W({id:"grafana-mongodb-datasource",description:(0,l.t)("datasources.get-enterprise-phantom-plugins.description.mongo-db-integration-and-data-source","MongoDB integration and data source"),name:"MongoDB",imgUrl:we}),W({id:"grafana-snowflake-datasource",description:(0,l.t)("datasources.get-enterprise-phantom-plugins.description.snowflake-integration-and-data-source","Snowflake integration and data source"),name:"Snowflake",imgUrl:Fe}),W({id:"grafana-wavefront-datasource",description:(0,l.t)("datasources.get-enterprise-phantom-plugins.description.wavefront-integration-and-data-source","Wavefront integration and data source"),name:"Wavefront",imgUrl:Le}),W({id:"dlopes7-appdynamics-datasource",description:(0,l.t)("datasources.get-enterprise-phantom-plugins.description.app-dynamics-integration-and-data-source","AppDynamics integration and data source"),name:"AppDynamics",imgUrl:Ae}),W({id:"grafana-saphana-datasource",description:(0,l.t)("datasources.get-enterprise-phantom-plugins.description.sap-hana-integration-and-data-source","SAP HANA\xAE integration and data source"),name:"SAP HANA\xAE",imgUrl:ze}),W({id:"grafana-honeycomb-datasource",description:(0,l.t)("datasources.get-enterprise-phantom-plugins.description.honeycomb-integration-and-datasource","Honeycomb integration and datasource"),name:"Honeycomb",imgUrl:oe}),W({id:"grafana-salesforce-datasource",description:(0,l.t)("datasources.get-enterprise-phantom-plugins.description.salesforce-integration-and-datasource","Salesforce integration and datasource"),name:"Salesforce",imgUrl:be}),W({id:"grafana-jira-datasource",description:(0,l.t)("datasources.get-enterprise-phantom-plugins.description.jira-integration-and-datasource","Jira integration and datasource"),name:"Jira",imgUrl:Ie}),W({id:"grafana-gitlab-datasource",description:(0,l.t)("datasources.get-enterprise-phantom-plugins.description.git-lab-integration-and-datasource","GitLab integration and datasource"),name:"GitLab",imgUrl:de}),W({id:"grafana-splunk-monitoring-datasource",description:(0,l.t)("datasources.get-enterprise-phantom-plugins.description.signal-fx-integration-and-datasource","SignalFx integration and datasource"),name:"Splunk Infrastructure Monitoring",imgUrl:Oe}),W({id:"grafana-azuredevops-datasource",description:(0,l.t)("datasources.get-enterprise-phantom-plugins.description.azure-devops-datasource","Azure Devops datasource"),name:"Azure Devops",imgUrl:Ee}),W({id:"grafana-sumologic-datasource",description:(0,l.t)("datasources.get-enterprise-phantom-plugins.description.sumo-logic-integration-and-datasource","SumoLogic integration and datasource"),name:"SumoLogic",imgUrl:pe}),W({id:"grafana-pagerduty-datasource",description:(0,l.t)("datasources.get-enterprise-phantom-plugins.description.pager-duty-datasource","PagerDuty datasource"),name:"PagerDuty",imgUrl:Ze}),W({id:"grafana-catchpoint-datasource",description:(0,l.t)("datasources.get-enterprise-phantom-plugins.description.catchpoint-datasource","Catchpoint datasource"),name:"Catchpoint",imgUrl:De}),W({id:"grafana-azurecosmosdb-datasource",description:(0,l.t)("datasources.get-enterprise-phantom-plugins.description.azure-cosmos-db-datasource","Azure CosmosDB datasource"),name:"Azure CosmosDB",imgUrl:ve}),W({id:"grafana-adobeanalytics-datasource",description:(0,l.t)("datasources.get-enterprise-phantom-plugins.description.adobe-analytics-datasource","Adobe Analytics datasource"),name:"Adobe Analytics",imgUrl:ye}),W({id:"grafana-cloudflare-datasource",description:(0,l.t)("datasources.get-enterprise-phantom-plugins.description.cloudflare-datasource","Cloudflare datasource"),name:"Cloudflare",imgUrl:ee}),W({id:"grafana-cockroachdb-datasource",description:(0,l.t)("datasources.get-enterprise-phantom-plugins.description.cockroach-db-datasource","CockroachDB datasource"),name:"CockroachDB",imgUrl:a}),W({id:"grafana-netlify-datasource",description:(0,l.t)("datasources.get-enterprise-phantom-plugins.description.netlify-datasource","Netlify datasource"),name:"Netlify",imgUrl:Ge}),W({id:"grafana-drone-datasource",description:(0,l.t)("datasources.get-enterprise-phantom-plugins.description.drone-datasource","Drone datasource"),name:"Drone",imgUrl:z}),W({id:"grafana-zendesk-datasource",description:(0,l.t)("datasources.get-enterprise-phantom-plugins.description.zendesk-datasource","Zendesk datasource"),name:"Zendesk",imgUrl:ke}),W({id:"grafana-atlassianstatuspage-datasource",description:(0,l.t)("datasources.get-enterprise-phantom-plugins.description.atlassian-statuspage-datasource","Atlassian Statuspage datasource"),name:"Atlassian Statuspage",imgUrl:F}),W({id:"grafana-aurora-datasource",description:(0,l.t)("datasources.get-enterprise-phantom-plugins.description.aurora-data-source","Aurora data source"),name:"Aurora",imgUrl:xe}),W({id:"grafana-logicmonitor-datasource",description:(0,l.t)("datasources.get-enterprise-phantom-plugins.description.logic-monitor-devices-datasource","LogicMonitor Devices datasource"),name:"LogicMonitor Devices",imgUrl:$e})]}function Ye(){return{id:"gcloud",name:"Grafana Cloud",type:re.QE.datasource,module:"phantom",baseUrl:"",info:{description:(0,l.t)("datasources.get-grafana-cloud-phantom-plugin.description.hosted-graphite-prometheus-and-loki","Hosted Graphite, Prometheus, and Loki"),logos:{small:ge,large:ge},author:{name:"Grafana Labs"},links:[{url:"https://grafana.com/products/cloud/",name:"Learn more"}],screenshots:[],updated:"2019-05-10",version:"1.0.0"}}}function W(d){return{id:d.id,name:d.name,type:re.QE.datasource,module:"phantom",baseUrl:"",info:{description:d.description,logos:{small:d.imgUrl,large:d.imgUrl},author:{name:"Grafana Labs"},links:[{url:"/plugins/"+d.id,name:"Install now",target:"_self"}],screenshots:[],updated:"2019-05-10",version:"1.0.0"}}}var Je=s(99723),se=s(18548),Ne=s(64003);const Te=d=>{let v,T;return d.error&&d.error instanceof h.b1?(v=d.error.message,T=d.error.details):(0,n.NF)(d)?v=d.data.message??`HTTP error ${d.statusText}`:d instanceof Error&&(v=d.message),{message:v,details:T}},je=d=>{const{details:v,message:T,status:G}=d;return{status:G,message:T,details:v}},Ce=(d,v={loadDataSource:Re,loadDataSourceMeta:qe,getDataSource:Ne.U4,getDataSourceMeta:Ne.Fj,importDataSourcePlugin:X.c})=>async(T,G)=>{if(!d){T((0,se.qR)(new Error("Invalid UID")));return}try{const H=await T(v.loadDataSource(d));await T(v.loadDataSourceMeta(H));const I=v.getDataSource(G().dataSources,d),ce=v.getDataSourceMeta(G().dataSources,I.type),he=await v.importDataSourcePlugin(ce);T((0,se.Ks)(he))}catch(H){H instanceof Error&&T((0,se.qR)(H))}},fe=d=>(d?.meta?.module||"").startsWith("core")?A.$?.buildInfo?.version:d?.meta?.info?.version,Xe=(d,v=C.I.Edit,T={getDatasourceSrv:w.tR,getBackendSrv:S.AI})=>async(G,H)=>{const I=await T.getDatasourceSrv().get(d),ce=v.replace(/:uid/gi,d);I.testDatasource&&(G((0,se.QZ)()),T.getBackendSrv().withNoBackendCache(async()=>{try{const he=await I.testDatasource(),ue=je({...he,details:{...he.details}});G((0,se.lg)(ue)),(0,L.Mh)({grafana_version:A.$.buildInfo.version,plugin_id:I.type,plugin_version:fe(I),datasource_uid:I.uid,success:!0,path:ce}),U.lE.publish(new e.NI)}catch(he){const ue=Te(he);G((0,se.UP)({...ue})),(0,L.Mh)({grafana_version:A.$.buildInfo.version,plugin_id:I.type,plugin_version:fe(I),datasource_uid:I.uid,success:!1,path:ce}),U.lE.publish(new e.LL)}}))};function _e(){return async d=>{if(!U.TP.hasPermission(E.w.DataSourcesRead))return;d((0,se.TN)());const v=await B();d((0,se.E1)(v))}}function Re(d){return async v=>{let T=await Q(d);return d!==T.uid&&(window.location.href=o.I.assureBaseUrl(`/datasources/edit/${T.uid}`),T={}),v((0,se.jz)(T)),T}}function qe(d){return async v=>{const T=await(0,g.x)(d.type),G=await(0,X.c)(T),H=G.DataSourceClass.prototype instanceof h.iy,I={...T,isBackend:T.backend||H};v((0,se.gZ)(I)),G.meta=I,v((0,j.Vz)((0,Je.R4)(d,G)))}}function et(d,v=C.I.Edit){return async()=>{const T={type:d.id,access:"proxy"},G=await Y(T),H=v.replace(/:uid/gi,G.datasource.uid);await(0,w.tR)().reload(),await U.TP.fetchUserPermissions(),(0,L.V9)({grafana_version:A.$.buildInfo.version,plugin_id:d.id,datasource_uid:G.datasource.uid,plugin_version:G.meta?.info?.version,path:window.location.pathname}),m.Ny.push(H)}}function tt(){return async d=>{d((0,se.Gc)());const v=await J(),T=Qe(v);d((0,se.f$)({plugins:v,categories:T}))}}const st=new u.H1;function at(d){return async v=>{try{A.$.featureToggles.grafanaAPIServerWithExperimentalAPIs&&(d.apiVersion=await st.get(d.type)),await K(d)}catch(T){const G=Te(T);v((0,se.UP)(G));const H=(0,n.NF)(T)?T.data:{message:(0,l.t)("datasources.update-data-source.error-info.message.an-unexpected-error-occurred","An unexpected error occurred."),traceID:""};return Promise.reject(H)}return await(0,w.tR)().reload(),v(Re(d.uid))}}function nt(){return async(d,v)=>{const{uid:T}=v().dataSources.dataSource;try{await ae(T),await(0,w.tR)().reload();const G=b.b.DataSources;m.Ny.push(G)}catch(G){const H=Te(G);d((0,se.UP)(H))}}}},19192:(ne,V,s)=>{s.d(V,{A:()=>b});var e=s(74848),o=s(22803),l=s(51898),h=s(92745),n=s(30703),A=s(34999),m=s(43951),j=s(45861);const U=(0,o.css)({textAlign:"center"}),S=(0,o.css)({maxWidth:"700px",margin:"0 auto"}),b=({title:w,buttonIcon:X,buttonLink:g,buttonTitle:E,buttonDisabled:_,onClick:p,proTip:B,proTipLink:Z,proTipLinkTitle:ie,proTipTarget:Q,infoBox:Y,infoBoxTitle:J})=>{const K=()=>(0,e.jsxs)(e.Fragment,{children:[B?(0,e.jsxs)("span",{children:[(0,e.jsx)(n.I,{name:"rocket"}),(0,e.jsxs)(h.x6,{i18nKey:"empty-list-cta.pro-tip",children:["ProTip: ",{proTip:B}]}),Z&&(0,e.jsx)("a",{href:Z,target:Q,className:"text-link",children:ie})]},"proTipFooter"):"",Y?(0,e.jsx)(A.F,{severity:"info",title:J??"",className:S,children:(0,e.jsx)("div",{dangerouslySetInnerHTML:Y})}):""]}),ae=K()?"":(0,o.css)({marginBottom:"20px"}),C=g?j.z9:j.$n,L=(0,e.jsx)(C,{size:"lg",onClick:p,href:g,icon:X,className:ae,"data-testid":l.Tp.components.CallToActionCard.buttonV2(E),disabled:_,children:E});return(0,e.jsx)(m.c,{className:U,message:w,footer:K(),callToActionElement:L})}},23691:(ne,V,s)=>{s.d(V,{A5:()=>ee,wr:()=>Ae,m5:()=>ye,PW:()=>Q,F9:()=>ae,ob:()=>J,sM:()=>Y,xX:()=>C,XN:()=>F,pw:()=>le,Gp:()=>re,qG:()=>xe,SQ:()=>L});var e=s(96540),o=s(52763),l=s(4476),h=s(37256),n=s(25508),A=s(2543),m=s(8934),j=s(27489),U=s(13660),S=s(54687);const u=a=>a.plugins,b=(0,n.Mz)(u,({items:a})=>a),{selectAll:w,selectById:X}=S.AI.getSelectors(b),g=(0,A.debounce)(a=>{(0,j.rR)("plugins_search",{resultsCount:a,creator_team:"grafana_plugins_catalog",schema_version:"1.0.0"})},300),E=a=>(0,n.Mz)(w,D=>{const z=a.keyword?(0,m.xb)(a.keyword.toLowerCase()):"",q=z!==""?(0,l.TD)(D,z):null,de=D.filter(oe=>!(z&&q==null||z&&!q?.includes(oe.id)||a.type&&oe.type!==a.type||a.isInstalled!==void 0&&oe.isInstalled!==a.isInstalled||a.isEnterprise!==void 0&&oe.isEnterprise!==a.isEnterprise||a.hasUpdate!==void 0&&(oe.hasUpdate!==a.hasUpdate||!(0,l.wD)(oe))));return z&&g(de.length),de}),_=a=>(0,n.Mz)(w,D=>{const z=[];for(const q of D)q.error&&(!a||q.type===a)&&z.push({pluginId:q.id,errorCode:q.error,pluginType:q.type});return z}),p=a=>(0,n.Mz)(u,({requests:D={}})=>D[a]),B=a=>(0,n.Mz)(p(a),D=>D?.status===U.IZ.Pending),Z=a=>(0,n.Mz)(p(a),D=>D?.status===U.IZ.Rejected?D?.error:null),ie=a=>(0,n.Mz)(p(a),D=>D===void 0),Q=(a,D=l.by.nameAsc)=>{ve();const z=(0,e.useMemo)(()=>E(a),[a]),q=(0,o.d4)(z),{isLoading:de,error:oe}=ge(),Ie=(0,l.Xc)(q,D);return{isLoading:de,error:oe,plugins:Ie}},Y=()=>{const{isLoading:a}=ye(),{plugins:D}=Q({isInstalled:!0}),z=D.filter(l.wD);return{isLoading:a,updatablePlugins:z}},J=a=>(ve(),De(a),(0,o.d4)(D=>X(D,a))),K=a=>(Ee(),useSelector(D=>selectById(D,a))),ae=a=>(ve(),(0,o.d4)(_(a))),C=()=>{const a=(0,o.wA)();return(D,z,q)=>a((0,h.ai)({id:D,version:z,installType:q}))},L=()=>{const a=(0,o.wA)();return()=>a((0,h.nT)())},re=()=>{const a=(0,o.wA)();return D=>a((0,h.JC)(D))},le=()=>(0,o.d4)(Z(h.JJ.typePrefix))===null,ge=()=>{const a=(0,o.d4)(B("plugins/fetchLocal")),D=(0,o.d4)(Z("plugins/fetchLocal"));return{isLoading:a,error:D}},ye=()=>{const a=(0,o.d4)(B(h.mj.typePrefix)),D=(0,o.d4)(B("plugins/fetchLocal")),z=(0,o.d4)(B("plugins/fetchRemote")),q=a||D||z,de=(0,o.d4)(Z(h.mj.typePrefix));return{isLoading:q,error:de}},Ae=()=>{const a=(0,o.d4)(B(h.t5.typePrefix)),D=(0,o.d4)(Z(h.t5.typePrefix));return{isLoading:a,error:D}},F=()=>{const a=(0,o.d4)(B(h.ai.typePrefix)),D=(0,o.d4)(Z(h.ai.typePrefix));return{isInstalling:a,error:D}},xe=()=>{const a=(0,o.d4)(B(h.JC.typePrefix)),D=(0,o.d4)(Z(h.JC.typePrefix));return{isUninstalling:a,error:D}},ve=()=>{const a=(0,o.wA)(),D=(0,o.d4)(ie(h.mj.typePrefix));(0,e.useEffect)(()=>{D&&a((0,h.mj)())},[])},Ee=()=>{const a=useDispatch(),D=useSelector(selectIsRequestNotFetched(fetchAllLocal.typePrefix));useEffect(()=>{D&&a(fetchAllLocal())},[])},De=a=>{const D=(0,o.wA)(),z=(0,o.d4)(oe=>X(oe,a)),de=!(0,o.d4)(B(h.t5.typePrefix))&&z&&!z.details;(0,e.useEffect)(()=>{de&&D((0,h.t5)(a))},[z])},ee=()=>{const a=(0,o.wA)();return D=>a((0,h.t5)(D))}},25096:(ne,V,s)=>{s.d(V,{J:()=>A});var e=s(74848),o=s(22803),l=s(96540),h=s(27489),n=s(63142);const A=({text:j="PRO",className:U,experimentId:S,eventVariant:u="",...b})=>{const w=(0,n.of)(m);return(0,l.useEffect)(()=>{S&&(0,h.Xp)(S,"test",u)},[S,u]),(0,e.jsx)("span",{className:(0,o.cx)(w.badge,U),...b,children:j})},m=j=>({badge:(0,o.css)({marginLeft:j.spacing(1.25),borderRadius:j.shape.borderRadius(5),backgroundColor:j.colors.success.main,padding:j.spacing(.25,.75),color:"white",fontWeight:j.typography.fontWeightMedium,fontSize:j.typography.pxToRem(10)})})},30918:(ne,V,s)=>{s.d(V,{DO:()=>S,M1:()=>h,Mh:()=>l,TR:()=>n,V9:()=>o,_i:()=>m,kg:()=>A,m3:()=>j,ov:()=>U});var e=s(27489);const o=u=>{(0,e.rR)("grafana_ds_add_datasource_clicked",u)},l=u=>{(0,e.rR)("grafana_ds_test_datasource_clicked",u)},h=u=>{(0,e.rR)("grafana_ds_explore_datasource_clicked",u)},n=u=>{(0,e.rR)("grafana_ds_create_dashboard_clicked",u)},A=u=>{(0,e.rR)("grafana_ds_datasources_list_viewed",u)},m=u=>{(0,e.rR)("connections_datasources_settings_clicked",{item:u})},j=u=>{(0,e.rR)("connections_datasources_ds_configured",u)},U=u=>{(0,e.rR)("connections_datasource_list_searched",{...u,creator_team:"grafana_plugins_catalog",schema_version:"1.0.0"})},S=u=>{(0,e.rR)("connections_datasource_list_add_datasource_clicked",{...u,creator_team:"grafana_plugins_catalog",schema_version:"1.0.0"})}},32837:(ne,V,s)=>{s.d(V,{A:()=>A});var e=s(74848),o=s(92745),l=s(30703),h=s(45861);function n({dashboards:m,onImport:j,onRemove:U}){function S(u){return u.revision!==u.importedRevision?"Update":"Re-import"}return(0,e.jsx)("table",{className:"filter-table",children:(0,e.jsx)("tbody",{children:m.map((u,b)=>(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{className:"width-1",children:(0,e.jsx)(l.I,{name:"apps"})}),(0,e.jsx)("td",{children:u.imported?(0,e.jsx)("a",{href:u.importedUrl,children:u.title}):(0,e.jsx)("span",{children:u.title})}),(0,e.jsxs)("td",{style:{textAlign:"right"},children:[u.imported?(0,e.jsx)(h.$n,{variant:"secondary",size:"sm",onClick:()=>j(u,!0),children:S(u)}):(0,e.jsx)(h.$n,{variant:"secondary",size:"sm",onClick:()=>j(u,!1),children:(0,e.jsx)(o.x6,{i18nKey:"datasources.dashboards-table.import",children:"Import"})}),u.imported&&(0,e.jsx)(h.$n,{"aria-label":(0,o.t)("datasources.dashboards-table.aria-label-delete-dashboard","Delete dashboard"),icon:"trash-alt",variant:"destructive",size:"sm",onClick:()=>U(u)})]})]},`${u.dashboardId}-${b}`))})})}const A=n},42939:(ne,V,s)=>{s.d(V,{pL:()=>o,z5:()=>h});var e=s(43173);const o=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function l(){const n=e.$.licenseInfo?.trialExpiry;return!!(n&&n>0)}const h=()=>l()&&e.$.featureToggles.featureHighlights},43324:(ne,V,s)=>{s.d(V,{V:()=>Xt});var e=s(74848),o=s(22803),l=s(54148),h=s(49045),n=s(92745),A=s(63142),m=s(41654),j=s(13941),U=s(31286),S=s(34999),u=s(89640),b=s(13791),w=s(96221),X=s(87049),g=s(96540),E=s(11594),_=s(20877),p=s(43173),B=s(56873),Z=s(27594);const ie=({sanitizedHTML:t})=>{const i=(0,A.of)(Q);return(0,e.jsx)("div",{dangerouslySetInnerHTML:{__html:t??"No changelog was found"},className:(0,o.cx)(i.changelog)})},Q=t=>({changelog:(0,o.css)({"h1:first-of-type":{display:"none"},"h2:first-of-type":{marginTop:0},h2:{marginTop:t.spacing(2),marginBottom:t.spacing(1)},li:{marginLeft:t.spacing(4)},a:{color:t.colors.text.link,"&:hover":{color:t.colors.text.link,textDecoration:"underline"}}})});var Y=s(27489),J=s(66404),K=s(45861),ae=s(74475),C=s(45967),L=s(30703),re=s(22787),le=s(12810);function ge(t){const{pluginExtentionsInfo:i,plugin:r,width:c="250px"}=t,[y,f]=(0,g.useState)(!1),x=O=>O?.replace(/\/$/,""),N=r.details?.links?.filter(O=>![r.details?.repositoryUrl,r.details?.licenseUrl,r.details?.documentationUrl,r.details?.raiseAnIssueUrl,r.details?.sponsorshipUrl].map(x).includes(x(O.url))),M=r.details?.repositoryUrl||r.details?.licenseUrl||r.details?.documentationUrl||r.details?.raiseAnIssueUrl||r.details?.sponsorshipUrl,P=(0,A.of)(ye),k=O=>{f(!0),(0,Y.rR)("plugin_detail_report_concern",{plugin_id:O})};function R(O){return String(O||"").toLowerCase().trim().replace(/[^a-z0-9\s]/g,"").replace(/\s+/g,"-")}return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(m.B,{direction:"column",gap:3,shrink:0,grow:0,width:c,"data-testid":"plugin-details-panel",children:[(0,e.jsx)(U.a,{padding:2,borderColor:"medium",borderStyle:"solid",children:(0,e.jsxs)(m.B,{direction:"column",gap:2,children:[i.map((O,$)=>(0,e.jsxs)(m.B,{wrap:!0,direction:"column",gap:.5,children:[(0,e.jsx)(J.E,{color:"secondary","data-testid":`${R(O.label)}-label`,children:O.label+":"}),(0,e.jsx)("div",{"data-testid":`${R(O.label)}-value`,className:P.pluginVersionDetails,children:O.value})]},$)),r.updatedAt&&(0,e.jsxs)(m.B,{direction:"column",gap:.5,children:[(0,e.jsx)(J.E,{color:"secondary","data-testid":"latest-release-date-label",children:(0,e.jsx)(n.x6,{i18nKey:"plugins.details.labels.latestReleaseDate",children:"Latest release date:"})})," ",(0,e.jsx)(J.E,{"data-testid":"latest-release-date-value",children:(0,le.Y)(new Date(r.updatedAt),{day:"numeric",month:"short",year:"numeric"})})]})]})}),M&&(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(U.a,{padding:2,borderColor:"medium",borderStyle:"solid","data-testid":"plugin-details-regular-links",children:(0,e.jsxs)(m.B,{direction:"column",gap:2,children:[r.details?.repositoryUrl&&(0,e.jsx)(K.z9,{href:r.details?.repositoryUrl,variant:"secondary",fill:"solid",icon:"code-branch",target:"_blank","data-testid":"plugin-details-repository-link",children:(0,e.jsx)(n.x6,{i18nKey:"plugins.details.labels.repository",children:"Repository"})}),r.details?.raiseAnIssueUrl&&(0,e.jsx)(K.z9,{href:r.details?.raiseAnIssueUrl,variant:"secondary",fill:"solid",icon:"bug",target:"_blank","data-testid":"plugin-details-raise-issue-link",children:(0,e.jsx)(n.x6,{i18nKey:"plugins.details.labels.raiseAnIssue",children:"Raise an issue"})}),r.details?.licenseUrl&&(0,e.jsx)(K.z9,{href:r.details?.licenseUrl,variant:"secondary",fill:"solid",icon:"document-info",target:"_blank","data-testid":"plugin-details-license-link",children:(0,e.jsx)(n.x6,{i18nKey:"plugins.details.labels.license",children:"License"})}),r.details?.documentationUrl&&(0,e.jsx)(K.z9,{href:r.details?.documentationUrl,variant:"secondary",fill:"solid",icon:"list-ui-alt",target:"_blank","data-testid":"plugin-details-documentation-link",children:(0,e.jsx)(n.x6,{i18nKey:"plugins.details.labels.documentation",children:"Documentation"})}),r.details?.sponsorshipUrl&&(0,e.jsx)(K.z9,{href:r.details?.sponsorshipUrl,variant:"secondary",fill:"solid",icon:"heart",target:"_blank","data-testid":"plugin-details-sponsorship-link",children:(0,e.jsx)(n.x6,{i18nKey:"plugins.details.labels.sponsorDeveloper",children:"Sponsor this developer"})})]})})}),N&&N?.length>0&&(0,e.jsx)(U.a,{padding:2,borderColor:"medium",borderStyle:"solid","data-testid":"plugin-details-custom-links",children:(0,e.jsx)(ae.M,{isOpen:!0,label:(0,e.jsxs)(m.B,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,e.jsx)(J.E,{color:"secondary",variant:"body",children:(0,e.jsx)(n.x6,{i18nKey:"plugins.details.labels.customLinks",children:"Custom links "})}),(0,e.jsx)(C.m,{content:(0,e.jsx)(n.x6,{i18nKey:"plugins.details.labels.customLinksTooltip",children:"These links are provided by the plugin developer to offer additional, developer-specific resources and information"}),placement:"right-end",children:(0,e.jsx)(L.I,{name:"info-circle",size:"xs"})})]}),children:(0,e.jsx)(m.B,{direction:"column",gap:2,children:N.map((O,$)=>(0,e.jsx)(u.Y,{href:O.url,external:!0,children:O.name},$))})})}),!r?.isCore&&(0,e.jsx)(U.a,{padding:2,borderColor:"medium",borderStyle:"solid",children:(0,e.jsx)(ae.M,{headerDataTestId:"reportConcern",isOpen:!1,label:(0,e.jsxs)(m.B,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,e.jsx)(J.E,{color:"secondary",variant:"body",children:(0,e.jsx)(n.x6,{i18nKey:"plugins.details.labels.reportAbuse",children:"Report a concern "})}),(0,e.jsx)(C.m,{content:(0,e.jsx)(n.x6,{i18nKey:"plugins.details.labels.reportAbuseTooltip",children:"Report issues related to malicious or harmful plugins directly to Grafana Labs."}),placement:"right-end",children:(0,e.jsx)(L.I,{name:"info-circle",size:"xs"})})]}),children:(0,e.jsx)(m.B,{direction:"column",children:(0,e.jsx)(K.$n,{variant:"secondary",fill:"solid",icon:"bell",onClick:()=>k(r.id),children:(0,e.jsx)(n.x6,{i18nKey:"plugins.details.labels.contactGrafanaLabs",children:"Contact Grafana Labs"})})})})})]}),y&&(0,e.jsxs)(re.a,{title:(0,e.jsx)(n.x6,{i18nKey:"plugins.details.modal.title",children:"Report a plugin concern"}),isOpen:!0,onDismiss:()=>f(!1),children:[(0,e.jsxs)(m.B,{direction:"column",gap:2,children:[(0,e.jsxs)(J.E,{children:[(0,e.jsxs)(n.x6,{i18nKey:"plugins.details.modal.description",children:["This feature is for reporting malicious or harmful behaviour within plugins. For plugin concerns, email us at:"," "]}),(0,e.jsx)(u.Y,{href:"mailto:integrations+report-plugin@grafana.com",children:"integrations@grafana.com"})]}),(0,e.jsx)(J.E,{children:(0,e.jsxs)(n.x6,{i18nKey:"plugins.details.modal.node",children:["Note: For general plugin issues like bugs or feature requests, please contact the plugin author using the provided links."," "]})})]}),(0,e.jsxs)(re.a.ButtonRow,{children:[(0,e.jsx)(K.$n,{variant:"secondary",fill:"outline",onClick:()=>f(!1),children:(0,e.jsx)(n.x6,{i18nKey:"plugins.details.modal.cancel",children:"Cancel"})}),(0,e.jsx)(K.$n,{icon:"copy",onClick:()=>navigator.clipboard.writeText("integrations@grafana.com"),children:(0,e.jsx)(n.x6,{i18nKey:"plugins.details.modal.copyEmail",children:"Copy email address"})})]})]})]})}const ye=t=>({pluginVersionDetails:(0,o.css)({wordBreak:"break-word"})});var Ae=s(80011),F=s(4476),xe=s(99589),ve=s(99887),Ee=s(68079),De=s(71599),ee=s(23691),a=s(13660);const D="plugins_upgrade_clicked",z="plugins_downgrade_clicked",q=({pluginId:t,version:i,latestCompatibleVersion:r,installedVersion:c,disabled:y,tooltip:f,onConfirmInstallation:x})=>{const N=(0,ee.xX)(),[M,P]=(0,g.useState)(!1),[k,R]=(0,g.useState)(!1),O=(0,A.of)(we),$=Ie(c,i.version);if((0,g.useEffect)(()=>{c===i.version&&(P(!1),R(!1))},[c,i.version]),i.version===c)return(0,e.jsx)(ve.E,{className:O.badge,text:(0,n.t)("plugins.version-install-button.text-installed","Installed"),icon:"check",color:"green"});const te=()=>{const We={path:window.location.pathname,plugin_id:t,version:i.version,is_latest:r===i.version,creator_team:"grafana_plugins_catalog",schema_version:"1.0.0"};$===a.u8.UPDATE?(0,Y.rR)(D,We):(0,Y.rR)(z,{...We,previous_version:c}),N(t,i.version,$),P(!0),x()},Ue=()=>{$===a.u8.DOWNGRADE?R(!0):te()},me=()=>{te()},Be=()=>{R(!1)},ot=(0,F.bM)(t),Ke=$e($,ot);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(K.$n,{fill:"solid",disabled:y||M,fullWidth:!0,size:"sm",variant:r===i.version?"primary":"secondary",onClick:Ue,className:O.button,hidden:Ke,tooltip:f,tooltipPlacement:"bottom-start",children:[de($)," ",M?(0,e.jsx)(Ee.y,{className:O.spinner,inline:!0,size:"sm"}):oe($)]}),(0,e.jsx)(De.u,{isOpen:k,title:(0,n.t)("plugins.catalog.versions.downgrade-title","Downgrade plugin version"),body:(0,n.t)("plugins.catalog.versions.confirmation-text","Are you really sure you want to downgrade to version {{version}}? You should normally not be doing this",{version:i.version}),confirmText:(0,n.t)("plugins.catalog.versions.downgrade-confirm","Downgrade"),onConfirm:me,onDismiss:Be,disabled:M,confirmButtonVariant:"primary"})]})};function de(t){switch(t){case a.u8.INSTALL:return"Install";case a.u8.UPDATE:return"Upgrade";case a.u8.DOWNGRADE:return"Downgrade";default:return""}}function oe(t){return t===a.u8.DOWNGRADE?(0,e.jsx)(L.I,{name:"arrow-down"}):t===a.u8.UPDATE?(0,e.jsx)(L.I,{name:"arrow-up"}):""}function Ie(t,i){return!t||!i||!(0,xe.valid)(t)||!(0,xe.valid)(i)?a.u8.INSTALL:(0,xe.gt)(t,i)?a.u8.DOWNGRADE:a.u8.UPDATE}function $e(t,i){return t===a.u8.INSTALL?!1:t===a.u8.DOWNGRADE?i.found&&!!p.$.featureToggles.preinstallAutoUpdate:i.withVersion}const we=t=>({spinner:(0,o.css)({marginLeft:t.spacing(1)}),successIcon:(0,o.css)({color:t.colors.success.main}),button:(0,o.css)({width:t.spacing(13)}),badge:(0,o.css)({width:t.spacing(13),justifyContent:"center"})}),Ge=({pluginId:t,versions:i=[],installedVersion:r,disableInstallation:c})=>{const y=(0,A.of)(Ve),f=(0,F.Gl)(i),[x,N]=(0,g.useState)(!1);if((0,g.useEffect)(()=>{N(!1)},[r]),i.length===0)return(0,e.jsx)("p",{children:(0,e.jsx)(n.x6,{i18nKey:"plugins.version-list.no-version-history-was-found",children:"No version history was found."})});const M=()=>{N(!0)};return(0,e.jsxs)("table",{className:y.table,children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{children:(0,e.jsx)(n.x6,{i18nKey:"plugins.version-list.version",children:"Version"})}),(0,e.jsx)("th",{}),(0,e.jsx)("th",{children:(0,e.jsx)(n.x6,{i18nKey:"plugins.version-list.latest-release-date",children:"Latest release date"})}),(0,e.jsx)("th",{children:(0,e.jsx)(n.x6,{i18nKey:"plugins.version-list.grafana-dependency",children:"Grafana dependency"})})]})}),(0,e.jsx)("tbody",{children:i.map(P=>{let k;const R=r===P.version;return P.angularDetected&&(k="This plugin version is AngularJS type which is not supported"),P.isCompatible||(k="This plugin version is not compatible with the current Grafana version"),c&&(k="This plugin can't be managed through the Plugin Catalog"),(0,e.jsxs)("tr",{children:[R?(0,e.jsx)("td",{className:y.currentVersion,children:(0,e.jsxs)(n.x6,{i18nKey:"plugins.version-list.installed-version",values:{versionNumber:P.version},children:["{{versionNumber}}"," (installed version)"]})}):P.version===f?.version?(0,e.jsx)("td",{children:(0,e.jsxs)(n.x6,{i18nKey:"plugins.version-list.latest-compatible-version",values:{versionNumber:P.version},children:["{{versionNumber}}"," (latest compatible version)"]})}):(0,e.jsx)("td",{children:P.version}),(0,e.jsx)("td",{children:(0,e.jsx)(q,{pluginId:t,version:P,latestCompatibleVersion:f?.version,installedVersion:r,onConfirmInstallation:M,disabled:R||x||P.angularDetected||!P.isCompatible||c,tooltip:k})}),(0,e.jsx)("td",{className:R?y.currentVersion:"",children:(0,Ae.fq)(P.updatedAt||P.createdAt)}),(0,e.jsx)("td",{className:R?y.currentVersion:"",children:P.grafanaDependency||"N/A"})]},P.version)})})]})},Ve=t=>({container:(0,o.css)({padding:t.spacing(2,4,3)}),currentVersion:(0,o.css)({fontWeight:t.typography.fontWeightBold}),spinner:(0,o.css)({marginLeft:t.spacing(1)}),table:(0,o.css)({tableLayout:"fixed",width:"100%","td, th":{padding:`${t.spacing()} 0`},th:{fontSize:t.typography.h5.fontSize},td:{wordBreak:"break-word"},"tbody tr:nth-child(odd)":{background:t.colors.emphasize(t.colors.background.primary,.02)},[t.breakpoints.down("md")]:{tableLayout:"auto",thead:{display:"none"},tbody:{display:"block"},"tbody tr":{display:"block",marginBottom:t.spacing(2),padding:t.spacing(2),background:t.colors.background.primary,border:`1px solid ${t.colors.border.weak}`,borderRadius:t.shape.radius.default,boxShadow:t.shadows.z1},"tbody td":{display:"block",padding:`${t.spacing(.5)} 0`,borderBottom:`1px solid ${t.colors.border.weak}`,textAlign:"left","&:last-child":{borderBottom:"none"},"&:before":{content:"attr(data-label)",display:"inline-block",fontWeight:t.typography.fontWeightMedium,color:t.colors.text.secondary,fontSize:t.typography.size.sm,marginRight:t.spacing(1),minWidth:"120px"}},"tbody td:nth-child(1)":{"&:before":{content:'"Version:"'}},"tbody td:nth-child(2)":{"&:before":{content:'"Action:"'}},"tbody td:nth-child(3)":{"&:before":{content:'"Release date:"'}},"tbody td:nth-child(4)":{"&:before":{content:'"Dependency:"'}}}})});var Me=s(16817),Ze=s(37640);const be=t=>(0,Me.A)(async()=>t&&(p.$.pluginAdminExternalManageEnabled?t.isFullyInstalled:t.isInstalled)&&!t.isDisabled?(0,Ze.W3)(t.id):null,[t?.id,t?.isInstalled,t?.isDisabled]);var ze=s(50201),Pe=s(15130),Oe=s(64048),Fe=s(52045),He=s(64003),pe=s(11257),Le=s(52763),ke=s(26437),Qe=s(8354);function ct(){return contextSrv.user.isGrafanaAdmin}function ut(){return contextSrv.hasRole("Admin")}function Ye(){return Pe.TP.hasPermission(pe.w.DataSourcesCreate)&&Pe.TP.hasPermission(pe.w.DataSourcesWrite)}function W({plugin:t}){const i=(0,Le.wA)(),r=(0,g.useCallback)(()=>{const y={name:t.name,id:t.id};i((0,Qe.du)(y,ke.b.DataSourcesEdit))},[i,t]);if(!Ye())return null;const c=p.$.pluginAdminExternalManageEnabled&&!t.isFullyInstalled;return(0,e.jsx)(K.$n,{variant:"primary",onClick:r,disabled:c,title:c?(0,n.t)("plugins.get-started-with-data-source.title-button-disabled","The plugin isn't usable yet, it may take some time to complete the installation."):void 0,children:(0,e.jsx)(n.x6,{i18nKey:"plugins.get-started-with-data-source.add-new-data-source",children:"Add new data source"})})}function Je({plugin:t}){const{isLoading:i}=(0,Fe.US)(),c=(0,Le.d4)(x=>(0,He.zC)(x.dataSources)).filter(x=>x.type===t.id),y=Pe.TP.hasPermission(pe.w.DataSourcesWrite),f=Pe.TP.hasAccessToExplore();return(0,e.jsx)(se,{dataSources:c,dataSourcesCount:c.length,isLoading:i,plugin:t,hasWriteRights:y,hasExploreRights:f})}function se({dataSources:t,dataSourcesCount:i,isLoading:r,hasWriteRights:c,hasExploreRights:y,plugin:f}){const x=(0,A.of)(Ne);if(!r&&i===0)return(0,e.jsx)(ze.p,{variant:"call-to-action",button:(0,e.jsx)(W,{plugin:f}),message:(0,n.t)("data-source-list.empty-state.title","No data sources defined")});const N=()=>r?new Array(5).fill(null).map((M,P)=>(0,e.jsx)(Oe.N.Skeleton,{hasExploreRights:y},P)):t.map(M=>(0,e.jsx)("li",{children:(0,e.jsx)(Oe.N,{dataSource:M,hasWriteRights:c,hasExploreRights:y})},M.uid));return(0,e.jsxs)(m.B,{direction:"column",gap:2,children:[(0,e.jsx)("span",{children:(0,e.jsxs)(n.x6,{i18nKey:"plugins.details.connections-tab.description",values:{pluginName:f.name},children:["You currently have the following data sources configured for ","{{pluginName}}",", click a tile to view the configuration details. You can find all of your data source connections in"," ",(0,e.jsxs)(u.Y,{href:"/connections/datasources",children:[(0,e.jsx)(n.x6,{i18nKey:"nav.connections.title",children:"Connections"})," -"," ",(0,e.jsx)(n.x6,{i18nKey:"nav.data-sources.title",children:"Data sources"}),"."]})]})}),(0,e.jsx)("ul",{className:x.list,children:N()})]})}const Ne=t=>({list:(0,o.css)({listStyle:"none",display:"grid"})});var Te=s(2543),je=s(32899),Ce=s(68143),fe=s(73427),Xe=s(32837);class _e extends g.PureComponent{constructor(i){super(i),this.importAll=()=>{this.importNext(0)},this.importNext=r=>{const{dashboards:c}=this.state;return this.import(c[r],!0).then(()=>r+1<c.length?new Promise(y=>{setTimeout(()=>{this.importNext(r+1).then(()=>{y()})},500)}):Promise.resolve())},this.import=(r,c)=>{const{plugin:y,datasource:f}=this.props,x={pluginId:y.id,path:r.path,overwrite:c,inputs:f?[{name:"*",type:"datasource",pluginId:f.meta.id,value:f.name}]:[]};return(0,Ce.AI)().post("/api/dashboards/import",x).then(N=>{fe.lE.emit(je.r1.alertSuccess,["Dashboard Imported",r.title]),(0,Te.extend)(r,N),this.setState({dashboards:[...this.state.dashboards]})})},this.remove=r=>{(0,Ce.AI)().delete("/api/dashboards/uid/"+r.uid).then(()=>{r.imported=!1,this.setState({dashboards:[...this.state.dashboards]})})},this.state={loading:!0,dashboards:[]}}async componentDidMount(){const i=this.props.plugin.id;(0,Ce.AI)().get(`/api/plugins/${i}/dashboards`).then(r=>{this.setState({dashboards:r,loading:!1})})}render(){const{loading:i,dashboards:r}=this.state;return i?(0,e.jsx)("div",{children:(0,e.jsx)(n.x6,{i18nKey:"plugins.plugin-dashboards.loading",children:"Loading..."})}):!r||!r.length?(0,e.jsx)("div",{children:(0,e.jsx)(n.x6,{i18nKey:"plugins.plugin-dashboards.dashboards-included-plugin",children:"No dashboards are included with this plugin"})}):(0,e.jsx)(Xe.A,{dashboards:r,onImport:this.import,onRemove:this.remove})}}var Re=s(70713),qe=s(62467),et=s(19192),tt=s(86436),st=s(55860);function at({plugin:t}){const i=(0,A.of)(nt),r=(0,g.useMemo)(()=>t.type===E.QE.datasource?{query:"*",ds_type:t.id,kind:["dashboard"]}:{query:"*",panel_type:t.id,kind:["panel"]},[t]),c=(0,Me.A)(()=>(0,st.S)().search(r),[r]),y=c.value;return y?.totalRows?(0,e.jsxs)("div",{className:i.wrap,children:[(0,e.jsx)("div",{className:i.info,children:(0,e.jsxs)(n.x6,{i18nKey:"plugins.plugin-usage.num-usages",values:{pluginName:t.name,numUsages:y.totalRows},children:["{{pluginName}}"," is used ",(0,e.jsx)("b",{children:"{{numUsages}}"})," times."]})}),(0,e.jsx)(Re.Ay,{children:({width:f,height:x})=>(0,e.jsx)(tt.P,{response:y,width:f,height:x,clearSelection:()=>{},keyboardEvents:(0,qe.of)(),onTagSelected:()=>{}})})]}):c.loading?(0,e.jsx)(Ee.y,{}):p.$.featureToggles.panelTitleSearch?(0,e.jsx)(et.A,{title:(0,n.t)("plugins.plugin-usage.title-not-used-yet","{{pluginName}} is not used in any dashboards yet",{pluginName:t.name}),buttonIcon:"plus",buttonTitle:"Create Dashboard",buttonLink:`dashboard/new?panelType=${t.id}&editPanel=1`}):(0,e.jsx)(S.F,{title:(0,n.t)("plugins.plugin-usage.title-missing-feature-toggle-panel-title-search","Missing feature toggle: {{toggle}}",{toggle:"panelTitleSearch"}),severity:"warning",children:(0,e.jsx)(n.x6,{i18nKey:"plugins.plugin-usage.body-missing-feature-toggle-panel-title-search",children:"Plugin usage requires the new search index to find usage across dashboards. Please enable the feature toggle"})})}const nt=t=>({wrap:(0,o.css)({width:"100%",height:"90%"}),info:(0,o.css)({paddingBottom:"30px"})});function d({plugin:t,queryParams:i,pageId:r,info:c,showDetails:y}){const f=(0,A.of)(v),{value:x}=be(t),N=(0,g.useMemo)(()=>[{id:"action",header:"Action",cell:({cell:{value:R}})=>R},{id:"scope",header:"Scope",cell:({cell:{value:R}})=>R}],[]),M=(R,O)=>`${p.$.appSubUrl}/api/gnet/plugins/${R.id}/versions/${R.latestVersion}/images/${O}`;if(r===a.LZ.OVERVIEW)return(0,e.jsx)("div",{className:f.readme,dangerouslySetInnerHTML:{__html:t.details?.readme??"No plugin help or readme markdown file was found"}});if(r===a.LZ.VERSIONS)return(0,e.jsx)("div",{children:(0,e.jsx)(Ge,{pluginId:t.id,versions:t.details?.versions,installedVersion:t.installedVersion,disableInstallation:(0,F.sP)(t)})});if(r===a.LZ.CHANGELOG&&t?.details?.changelog)return(0,e.jsx)(ie,{sanitizedHTML:t?.details?.changelog});if(r===a.LZ.SCREENSHOTS&&t?.details?.screenshots?.length){const R=t?.details?.screenshots.map(O=>({path:M(t,O.path),name:O.name}));return(0,e.jsx)(B.F,{images:R})}if(r===a.LZ.PLUGINDETAILS&&y)return(0,e.jsx)("div",{children:(0,e.jsx)(ge,{pluginExtentionsInfo:c,plugin:t,width:"auto"})});if(p.$.featureToggles.datasourceConnectionsTab&&r===a.LZ.DATASOURCE_CONNECTIONS&&t.type===E.QE.datasource)return(0,e.jsx)("div",{children:(0,e.jsx)(Je,{plugin:t})});const P=t.iam?.permissions||t.details?.iam?.permissions;if(p.$.featureToggles.externalServiceAccounts&&r===a.LZ.IAM&&P&&P.length>0)return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(m.B,{direction:"row",children:(0,e.jsxs)(n.x6,{i18nKey:"plugins.plugin-details-body.needs-service-account",values:{pluginName:t.name},children:["The ","{{pluginName}}"," plugin needs a service account to be able to query Grafana. The following list contains the permissions available to the service account:"]})}),(0,e.jsx)(Z.j,{columns:N,data:P,getRowId:R=>String(R.action)})]});if(x?.configPages){for(const R of x.configPages)if(r===R.id)return(0,e.jsx)("div",{children:(0,e.jsx)(_.a,{meta:x.meta,children:(0,e.jsx)(R.body,{plugin:x,query:i})})})}return r===a.LZ.USAGE&&x?(0,e.jsx)("div",{className:f.wrap,children:(0,e.jsx)(at,{plugin:x?.meta})}):r===a.LZ.DASHBOARDS&&x?(0,e.jsx)("div",{children:(0,e.jsx)(_e,{plugin:x?.meta})}):(0,e.jsx)("div",{children:(0,e.jsx)("p",{children:(0,e.jsx)(n.x6,{i18nKey:"plugins.plugin-details-body.page-not-found",children:"Page not found."})})})}const v=t=>({wrap:(0,o.css)({width:"100%",height:"50vh"}),readme:(0,o.css)({"& img":{maxWidth:"100%"},"h1, h2, h3":{marginTop:t.spacing(3),marginBottom:t.spacing(2)},"*:first-child":{marginTop:0},li:{marginLeft:t.spacing(2),"& > p":{margin:t.spacing(1,0)},code:{whiteSpace:"pre-wrap"}},a:{color:t.colors.text.link,"&:hover":{color:t.colors.text.link,textDecoration:"underline"}},table:{tableLayout:"fixed",width:"100%","td, th":{overflowX:"auto",padding:t.spacing(.5,1)},"table, th, td":{border:`1px solid ${t.colors.border.medium}`,borderCollapse:"collapse"}}})});var T=s(51898);function G({className:t,plugin:i}){if(!i.isDisabled)return null;const r=(0,n.t)("plugins.details.disabled-error.title","Plugin disabled"),c=(0,F.UI)((0,F.Gl)(i?.details?.versions));return(0,e.jsxs)(S.F,{severity:"error",title:r,className:t,"data-testid":T.Tp.pages.PluginPage.disabledInfo,children:[H(i.error,i.id,c),!(0,F.Qi)(i)&&(0,e.jsx)("p",{children:(0,e.jsx)(n.x6,{i18nKey:"plugins.details.disabled-error.contact-server-admin",children:"Please contact your server administrator to get this resolved."})}),(0,e.jsxs)(m.B,{direction:"column",gap:1,children:[(0,e.jsx)("a",{href:"https://grafana.com/docs/grafana/latest/administration/cli/#plugins-commands",className:"external-link",target:"_blank",rel:"noreferrer",children:(0,e.jsx)(n.x6,{i18nKey:"plugins.details.disabled-error.manage-plugins-link",children:"Read more about managing plugins"})}),i.error===E.ZK.angular&&(0,e.jsx)("a",{href:"https://grafana.com/docs/grafana/latest/developers/angular_deprecation/",className:"external-link",target:"_blank",rel:"noreferrer",children:(0,e.jsx)(n.x6,{i18nKey:"plugins.details.disabled-error.angular-deprecation-link",children:"Read more about angular deprecation"})})]})]})}function H(t,i,r){switch(t){case E.ZK.modifiedSignature:return(0,e.jsx)("p",{children:(0,e.jsx)(n.x6,{i18nKey:"plugins.details.disabled-error.modified-signature-text",children:"Grafana Labs checks each plugin to verify that it has a valid digital signature. While doing this, we discovered that the content of this plugin does not match its signature. We can not guarantee the trustworthy of this plugin and have therefore disabled it. We recommend you to reinstall the plugin to make sure you are running a verified version of this plugin."})});case E.ZK.invalidSignature:return(0,e.jsx)("p",{children:(0,e.jsx)(n.x6,{i18nKey:"plugins.details.disabled-error.invalid-signature-text",children:"Grafana Labs checks each plugin to verify that it has a valid digital signature. While doing this, we discovered that it was invalid. We can not guarantee the trustworthy of this plugin and have therefore disabled it. We recommend you to reinstall the plugin to make sure you are running a verified version of this plugin."})});case E.ZK.missingSignature:return(0,e.jsx)("p",{children:(0,e.jsx)(n.x6,{i18nKey:"plugins.details.disabled-error.missing-signature-text",children:"Grafana Labs checks each plugin to verify that it has a valid digital signature. While doing this, we discovered that there is no signature for this plugin. We can not guarantee the trustworthy of this plugin and have therefore disabled it. We recommend you to reinstall the plugin to make sure you are running a verified version of this plugin."})});case E.ZK.failedBackendStart:return(0,e.jsx)("p",{children:(0,e.jsx)(n.x6,{i18nKey:"plugins.details.disabled-error.failed-backend-start-text",children:"This plugin failed to start. Server logs can provide more information."})});case E.ZK.angular:return r?(0,e.jsx)("p",{children:(0,e.jsx)(n.x6,{i18nKey:"plugins.details.disabled-error.angular-error-text",children:"This plugin has been disabled as Grafana no longer supports Angular based plugins. You can try updating the plugin to the latest version to resolve this issue. You should then test to confirm it works as expected."})}):(0,e.jsx)("p",{children:(0,e.jsx)(n.x6,{i18nKey:"plugins.details.disabled-error.angular-error-text-no-non-angular-version",children:"This plugin has been disabled as Grafana no longer supports Angular based plugins. Unfortunately, the latest version of this plugin still uses Angular so you need to wait for the plugin author to migrate to continue using this plugin."})});default:return(0,e.jsx)("p",{children:(0,e.jsx)(n.x6,{i18nKey:"plugins.details.disabled-error.unknown-error-text",children:"We failed to run this plugin due to an unkown reason and have therefore disabled it. We recommend you to reinstall the plugin to make sure you are running a working version of this plugin."})})}}function I({className:t,plugin:i}){const r=i.signature===E.Ac.valid,c=i.signature===E.Ac.internal,y=i.isDisabled&&ce(i.error);return r||c||y?null:(0,e.jsxs)(S.F,{severity:"warning",title:(0,n.t)("plugins.plugin-details-signature.title-invalid-plugin-signature","Invalid plugin signature"),"data-testid":T.Tp.pages.PluginPage.signatureInfo,className:t,children:[(0,e.jsx)("p",{children:(0,e.jsx)(n.x6,{i18nKey:"plugins.plugin-details-signature.body-invalid-plugin-signature",children:"Grafana Labs checks each plugin to verify that it has a valid digital signature. Plugin signature verification is part of our security measures to ensure plugins are safe and trustworthy. Grafana Labs can\u2019t guarantee the integrity of this unsigned plugin. Ask the plugin author to request it to be signed."})}),(0,e.jsx)(u.Y,{href:"https://grafana.com/docs/grafana/latest/plugins/plugin-signatures/",external:!0,children:(0,e.jsx)(n.x6,{i18nKey:"plugins.plugin-details-signature.read-more-about-plugins-signing",children:"Read more about plugins signing."})})]})}function ce(t){switch(t){case E.ZK.invalidSignature:case E.ZK.missingSignature:case E.ZK.modifiedSignature:return!0;default:return!1}}function he(t,i,r){return!i&&t===a.LZ.PLUGINDETAILS?r:t||r}const ue=(t,i,r)=>{const{loading:c,error:y,value:f}=be(t),{pathname:x}=(0,l.zy)(),N=vt(t,f),M=!!t?.isPublished,P=he(i,r,N),k=(0,g.useMemo)(()=>{const O=t&&fe.TP.hasPermissionInMetadata(pe.w.PluginsWrite,t),$=[];if(M&&!t?.isCore&&$.push({text:a.og.VERSIONS,id:a.LZ.VERSIONS,icon:"history",url:`${x}?page=${a.LZ.VERSIONS}`,active:a.LZ.VERSIONS===P}),M&&t?.details?.changelog&&!t.isCore&&$.push({text:a.og.CHANGELOG,id:a.LZ.CHANGELOG,icon:"rocket",url:`${x}?page=${a.LZ.CHANGELOG}`,active:a.LZ.CHANGELOG===P}),M&&t?.details?.screenshots?.length&&$.push({text:a.og.SCREENSHOTS,id:a.LZ.SCREENSHOTS,icon:"camera",url:`${x}?page=${a.LZ.SCREENSHOTS}`,active:a.LZ.SCREENSHOTS===P}),M&&r&&$.push({text:a.og.PLUGINDETAILS,id:a.LZ.PLUGINDETAILS,icon:"info-circle",url:`${x}?page=${a.LZ.PLUGINDETAILS}`,active:a.LZ.PLUGINDETAILS===P}),!f||(p.$.featureToggles.externalServiceAccounts&&(t?.iam||t?.details?.iam)&&$.push({text:a.og.IAM,icon:"shield",id:a.LZ.IAM,url:`${x}?page=${a.LZ.IAM}`,active:a.LZ.IAM===P}),p.$.featureToggles.panelTitleSearch&&(f.meta.type===E.QE.panel||f.meta.type===E.QE.datasource)&&$.push({text:a.og.USAGE,icon:"list-ul",id:a.LZ.USAGE,url:`${x}?page=${a.LZ.USAGE}`,active:a.LZ.USAGE===P}),p.$.featureToggles.datasourceConnectionsTab&&t?.type===E.QE.datasource&&$.push({text:a.og.DATASOURCE_CONNECTIONS,icon:"database",id:a.LZ.DATASOURCE_CONNECTIONS,url:`${x}?page=${a.LZ.DATASOURCE_CONNECTIONS}`,active:a.LZ.DATASOURCE_CONNECTIONS===P}),!O))return $;if(f.meta.type===E.QE.app){if(f.configPages)for(const te of f.configPages)$.push({text:te.title,icon:te.icon,id:te.id,url:`${x}?page=${te.id}`,active:te.id===P});f.meta.includes?.find(te=>te.type===E.ib.dashboard)&&$.push({text:(0,n.t)("plugins.use-plugin-details-tabs.nav-model-children.text.dashboards","Dashboards"),icon:"apps",id:a.LZ.DASHBOARDS,url:`${x}?page=${a.LZ.DASHBOARDS}`,active:a.LZ.DASHBOARDS===P})}return $},[t,f,x,M,P,r]),R={text:t?.name??"",img:t?.info.logos.small,url:x,children:[{text:a.og.OVERVIEW,icon:"file-alt",id:a.LZ.OVERVIEW,url:`${x}?page=${a.LZ.OVERVIEW}`,active:a.LZ.OVERVIEW===P},...k]};return{error:y,loading:c,navModel:R,activePageId:P}};function vt(t,i){return!t||!i||!fe.TP.hasPermissionInMetadata(pe.w.PluginsWrite,t)||i.meta.type!==E.QE.app?a.LZ.OVERVIEW:i.configPages?.length?i.configPages[0].id:a.LZ.OVERVIEW}var yt=s(59253);function Et({plugin:t}){const{value:i}=be(t);if(!i||!fe.TP.hasPermission(pe.w.PluginsWrite))return null;const{enabled:r,autoEnabled:c,jsonData:y}=i?.meta,f=()=>{(0,Y.rR)("plugins_detail_enable_clicked",{path:window.location.pathname,plugin_id:t.id,creator_team:"grafana_plugins_catalog",schema_version:"1.0.0"}),gt(t.id,{enabled:!0,pinned:!0,jsonData:y})},x=()=>{(0,Y.rR)("plugins_detail_disable_clicked",{path:window.location.pathname,plugin_id:t.id,creator_team:"grafana_plugins_catalog",schema_version:"1.0.0"}),gt(t.id,{enabled:!1,pinned:!1,jsonData:y})};return(0,e.jsxs)(e.Fragment,{children:[!r&&(0,e.jsx)(K.$n,{variant:"primary",onClick:f,children:(0,e.jsx)(n.x6,{i18nKey:"plugins.get-started-with-app.enable",children:"Enable"})}),r&&!c&&(0,e.jsx)(K.$n,{variant:"destructive",onClick:x,children:(0,e.jsx)(n.x6,{i18nKey:"plugins.get-started-with-app.disable",children:"Disable"})})]})}const gt=async(t,i)=>{try{await(0,yt.ij)(t,i),window.location.reload()}catch(r){console.error("Error while updating the plugin",r)}};function Dt({plugin:t}){if(!(p.$.pluginAdminExternalManageEnabled?t.isFullyInstalled:t.isInstalled)||t.isDisabled)return null;switch(t.type){case E.QE.datasource:return(0,e.jsx)(W,{plugin:t});case E.QE.app:return(0,e.jsx)(Et,{plugin:t});default:return null}}var it=s(41607),Pt=s(36490),rt=s(45229),jt=s(70958),St=s(38206);const At=t=>{(0,Y.rR)("grafana_plugin_install_clicked",t)},It=t=>{(0,Y.rR)("grafana_plugin_uninstall_clicked",t)},bt="plugin_update_clicked";function Lt({plugin:t,pluginStatus:i,latestCompatibleVersion:r,hasInstallWarning:c,setNeedReload:y}){const f=(0,Le.wA)(),[x]=(0,jt.s)(),N=(0,l.zy)(),{isInstalling:M,error:P}=(0,ee.XN)(),{isUninstalling:k,error:R}=(0,ee.qG)(),O=(0,ee.xX)(),$=(0,ee.Gp)(),te=(0,ee.SQ)(),Ue=(0,ee.A5)(),[me,Be]=(0,g.useState)(!1),ot=()=>Be(!0),Ke=()=>Be(!1),We=k?"Uninstalling":"Uninstall",lt={plugin_id:t.id,plugin_type:t.type,path:N.pathname,creator_team:"grafana_plugins_catalog",schema_version:"1.0.0"};(0,g.useEffect)(()=>()=>{te()},[]);const es=async()=>{At(lt);const Se=await O(t.id,r?.version);if(!P&&!("error"in Se)){let dt=`Installed ${t.name}`;p.$.pluginAdminExternalManageEnabled&&(dt="Install requested, this may take a few minutes."),rt.A.emit(je.r1.alertSuccess,[dt]),t.type==="app"&&y?.(!0),await Ue(t.id)}},ts=async()=>{if(Ke(),It(lt),await $(t.id),!R){const Se=x.page;Se!==a.LZ.OVERVIEW&&Se!==a.LZ.VERSIONS&&Pt.Ny.replace(`${N.pathname}?page=${a.LZ.OVERVIEW}`);let xt=`Uninstalled ${t.name}`;p.$.pluginAdminExternalManageEnabled&&(xt="Uninstall requested, this may take a few minutes."),rt.A.emit(je.r1.alertSuccess,[xt]),t.type==="app"&&(f((0,St.fc)({pluginID:t.id})),y?.(!1))}},ss=async()=>{(0,Y.rR)(bt,lt),await O(t.id,r?.version,a.u8.UPDATE),P||rt.A.emit(je.r1.alertSuccess,[`Updated ${t.name}`])};let ht=Tt(k,t)??!1;const as=(0,F.Qi)(t)?"To uninstall this plugin, upgrade to a compatible version first, then uninstall it.":"";let ft="";t.isPreinstalled.found&&(ht=!0,ft="Preinstalled plugin. Remove from Grafana config before uninstalling.");const mt=(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(De.u,{isOpen:me,title:(0,n.t)("plugins.install-controls-button.title-uninstall-modal","Uninstall {{plugin}}",{plugin:t.name}),body:(0,n.t)("plugins.install-controls-button.uninstall-controls.body-uninstall-plugin","Are you sure you want to uninstall this plugin?"),confirmText:(0,n.t)("plugins.install-controls-button.uninstall-controls.confirmText-confirm","Confirm"),icon:"exclamation-triangle",onConfirm:ts,onDismiss:Ke}),(0,e.jsx)(K.$n,{variant:"destructive",disabled:ht,onClick:ot,title:ft,tooltip:as,children:We})]});if(i===a.u8.UNINSTALL)return(0,e.jsx)(m.B,{alignItems:"flex-start",width:"auto",height:"auto",children:mt});const ns=p.$.buildInfo.edition===it.r.OpenSource;if(t.isEnterprise&&ns)return(0,e.jsx)(K.z9,{href:`${(0,F.H2)(t.id)}?utm_source=grafana_catalog_learn_more`,target:"_blank",rel:"noopener noreferrer",icon:"external-link-alt",children:(0,e.jsx)(n.x6,{i18nKey:"plugins.install-controls-warning.learn-more",children:"Learn more"})});if(!t.isPublished||c)return null;if(i===a.u8.UPDATE){const Se=p.$.pluginAdminExternalManageEnabled?t.isUpdatingFromInstance:M;return(0,e.jsxs)(m.B,{alignItems:"flex-start",width:"auto",height:"auto",children:[!t.isManaged&&!t.isPreinstalled.withVersion&&(0,e.jsx)(K.$n,{disabled:Se,onClick:ss,children:M?(0,n.t)("plugins.install-controls.updating","Updating"):(0,n.t)("plugins.install-controls.update","Update")}),mt]})}const is=M||P||t.angularDetected;return(0,e.jsx)(K.$n,{disabled:is,onClick:es,children:M?(0,n.t)("plugins.install-controls.installing","Installing"):(0,n.t)("plugins.install-controls.install","Install")})}function Tt(t,i){return(0,F.Qi)(i)?!0:p.$.pluginAdminExternalManageEnabled?i.isUninstallingFromInstance||!i.isFullyInstalled||i.isUpdatingFromInstance:t}const Ct=({plugin:t})=>{const i=(0,A.of)(Ut),r=(0,ee.pw)(),c=(0,F.Gl)(t?.details?.versions),[y,f]=(0,g.useState)(!1);if(!t||t.angularDetected)return null;const x=(0,F.N6)(t,r,c),N=Ot(t,c),M=Nt(t,c);return(0,e.jsxs)(m.B,{direction:"column",children:[(0,e.jsxs)(m.B,{alignItems:"center",children:[!M&&(0,e.jsx)(Lt,{plugin:t,latestCompatibleVersion:c,pluginStatus:N,setNeedReload:f,hasInstallWarning:x}),(0,e.jsx)(Dt,{plugin:t})]}),y&&(0,e.jsxs)(m.B,{alignItems:"center",children:[(0,e.jsx)(L.I,{name:"exclamation-triangle"}),(0,e.jsx)("span",{className:i.message,children:(0,e.jsx)(n.x6,{i18nKey:"plugins.plugin-actions.refresh-changes",children:"Refresh the page to see the changes"})})]})]})},Ut=t=>({message:(0,o.css)({color:t.colors.text.secondary})});function Mt(t,i){return t.isInstalled?(0,F.UI)(i)?a.u8.UPDATE:a.u8.UNINSTALL:a.u8.INSTALL}function Ot(t,i){return t.error===E.ZK.angular?Mt(t,i):t.isInstalled?t.hasUpdate?a.u8.UPDATE:a.u8.UNINSTALL:a.u8.INSTALL}function Nt(t,i){return(0,F.Qi)(t)&&(0,F.UI)(i)?!1:t.isCore||t.isDisabled||t.isProvisioned||!(0,F.j_)()}var Rt=s(62061);const Bt=({plugin:t,pluginStatus:i,latestCompatibleVersion:r})=>{const c=(0,A.of)(Kt),y=p.$.pluginAdminExternalManageEnabled,f=fe.TP.hasPermission(pe.w.PluginsInstall),x=(0,ee.pw)(),N=!!r;if(t.type===E.QE.renderer)return(0,e.jsx)(S.F,{severity:"warning",title:(0,n.t)("plugins.install-controls-warning.title-renderer-plugins-cannot-managed-plugin-catalog","Renderer plugins cannot be managed by the Plugin Catalog."),className:c.alert});const M=p.$.buildInfo.edition===it.r.OpenSource,P=p.$.buildInfo.edition===it.r.Enterprise;if(t.isEnterprise&&!(0,Rt.a)("enterprise.plugins")){const k=M?"info":"warning";return(0,e.jsx)(S.F,{severity:k,title:"",className:c.alert,children:(0,e.jsxs)(m.B,{direction:"row",alignItems:"center",children:[(0,e.jsxs)("span",{children:[M&&(0,e.jsx)(n.x6,{i18nKey:"plugins.install-controls-warning.enterprise-plugin-info",children:"This plugin is only available in Grafana Cloud and Grafana Enterprise."}),P&&(0,e.jsx)(n.x6,{i18nKey:"plugins.install-controls-warning.no-valid-grafana-enterprise-license-detected",children:"No valid Grafana Enterprise license detected."})]}),(0,e.jsx)(K.z9,{href:`${(0,F.H2)(t.id)}?utm_source=grafana_catalog_learn_more`,target:"_blank",rel:"noopener noreferrer",size:"sm",fill:"text",icon:"external-link-alt",children:(0,e.jsx)(n.x6,{i18nKey:"plugins.install-controls-warning.learn-more",children:"Learn more"})})]})})}return t.isDev?(0,e.jsx)(S.F,{severity:"warning",title:(0,n.t)("plugins.install-controls-warning.title-dev-alert","This is a development build of the plugin and can't be uninstalled."),className:c.alert}):!f&&!y?(0,e.jsx)(S.F,{severity:"warning",title:Wt(i),className:c.alert}):t.isPublished?N?x?null:(0,e.jsx)(S.F,{severity:"warning",title:(0,n.t)("plugins.install-controls-warning.title-remote-plugins-unavailable","The install controls have been disabled because the Grafana server cannot access grafana.com."),className:c.alert}):(0,e.jsx)(S.F,{severity:"warning",title:(0,n.t)("plugins.install-controls-warning.title-plugin-doesnt-support-version-grafana","This plugin doesn't support your version of Grafana."),className:c.alert}):(0,e.jsx)(S.F,{severity:"warning",title:"",className:c.alert,children:(0,e.jsx)("div",{children:(0,e.jsxs)(n.x6,{i18nKey:"plugins.install-controls-warning.body-not-published",children:["This plugin is not published to"," ",(0,e.jsx)(u.Y,{href:"https://www.grafana.com/plugins",external:!0,children:"grafana.com/plugins"})," ","and can't be managed via the catalog."]})})})},Kt=t=>({alert:(0,o.css)({marginTop:`${t.spacing(2)}`})});function Wt(t){switch(t){case a.u8.INSTALL:case a.u8.REINSTALL:return"You do not have permission to install this plugin.";case a.u8.UNINSTALL:return"You do not have permission to uninstall this plugin.";case a.u8.UPDATE:return"You do not have permission to update this plugin.";default:return"You do not have permission to manage this plugin."}}const pt=[],rs=t=>{pt.push(t)},$t=({plugin:t})=>{const i=(0,ee.pw)(),r=(0,A.of)(wt),{error:c}=(0,ee.XN)();if(!t)return null;const y=(0,F.Gl)(t.details?.versions),f=t.isInstalled?t.hasUpdate?a.u8.UPDATE:a.u8.UNINSTALL:a.u8.INSTALL;return(0,e.jsxs)("div",{className:r.subtitle,children:[c&&(0,e.jsx)(S.F,{title:"message"in c?c.message:"",children:typeof c=="string"?c:c.error}),(0,e.jsxs)(m.B,{direction:"row",justifyContent:"space-between",children:[(0,e.jsxs)("div",{children:[t?.description&&(0,e.jsx)("div",{children:t?.description}),(0,F.N6)(t,i,y)&&(0,e.jsx)(Bt,{plugin:t,pluginStatus:f,latestCompatibleVersion:y})]}),pt.map(x=>(0,e.jsx)(g.Fragment,{children:x({plugin:t})},x.name))]})]})},wt=t=>({subtitle:(0,o.css)({display:"flex",flexDirection:"column",gap:t.spacing(1)})});var Gt=s(1299);function Vt({plugin:t,grafanaDependency:i}){const r=(0,A.of)(Zt),c=t.details?.pluginDependencies;return!i&&(!c||!c.length)?null:(0,e.jsxs)(m.B,{gap:1,children:[!!i&&(0,e.jsxs)("div",{className:r.depBadge,children:[(0,e.jsx)(L.I,{name:"grafana",className:r.icon}),(0,e.jsxs)(n.x6,{i18nKey:"plugins.plugin-details-header-dependencies.grafana-dependency",children:["Grafana ",{grafanaDependency:i}]})]}),c&&c.length>0&&(0,e.jsx)("div",{children:c.map(f=>(0,e.jsxs)("span",{className:r.depBadge,children:[(0,e.jsx)(L.I,{name:a.Ip[f.type],className:r.icon}),f.name," ",f.version]},f.name))})]})}const Zt=t=>({dependencyTitle:(0,o.css)({marginRight:t.spacing(.5),"&::after":{content:"''",padding:0}}),depBadge:(0,o.css)({display:"flex",alignItems:"flex-start"}),icon:(0,o.css)({color:t.colors.text.secondary,marginRight:t.spacing(.5)})});var zt=s(63509);function Ft({plugin:t}){const i=(0,A.of)(Ht);return(0,e.jsx)("div",{className:i.container,children:(0,e.jsx)("a",{href:"https://grafana.com/docs/grafana/latest/plugins/plugin-signatures/",target:"_blank",rel:"noreferrer",className:i.link,children:(0,e.jsx)(zt.B,{status:t.signature,signatureType:t.signatureType,signatureOrg:t.signatureOrg})})})}const Ht=t=>({container:(0,o.css)({display:"flex",flexWrap:"wrap",gap:t.spacing(.5)}),link:(0,o.css)({display:"inline-flex",alignItems:"center"})}),kt=t=>{const i=[];if(!t)return i;const r=(0,F.Gl)(t.details?.versions),c=!t.isInstalled,y=t.installedVersion,f=t.latestVersion;if(y||f){const k="Managed by Grafana",R=($,te)=>{te&&i.push({label:$==="installedVersion"?(0,n.t)("plugins.details.labels.installedVersion","Installed Version"):(0,n.t)("plugins.details.labels.latestVersion","Latest Version"),value:te})};if(t.isInstalled){const $=t.isManaged?k:y;R("installedVersion",$)}let O;t.isManaged?O=k:t.isPreinstalled?.withVersion?O=`${f} (preinstalled)`:O=f,t.isCore||R("latestVersion",O)}t.orgName&&i.push({label:(0,n.t)("plugins.details.labels.from","From"),value:t.orgName}),(!t.signatureType||t.signatureType===E.kv.community||t.signatureType===E.kv.commercial)&&t.downloads>0&&i.push({label:(0,n.t)("plugins.details.labels.downloads","Downloads"),value:new Intl.NumberFormat().format(t.downloads)});const N=t.details?.pluginDependencies;let M=t.details?.grafanaDependency;return c&&r?.grafanaDependency&&(M=r?.grafanaDependency),!M&&(!N||!N.length)||i.push({label:(0,n.t)("plugins.details.labels.dependencies","Dependencies"),value:(0,e.jsx)(Vt,{plugin:t,grafanaDependency:M})}),t.isDisabled&&i.push({label:(0,n.t)("plugins.details.labels.status","Status"),value:(0,e.jsx)(Gt.D,{error:t.error})}),i.push({label:(0,n.t)("plugins.details.labels.signature","Signature"),value:(0,e.jsx)(Ft,{plugin:t})}),i},os=t=>({subtitle:css({display:"flex",flexDirection:"column",gap:t.spacing(1)})}),Qt=t=>{const i=kt(t);return{actions:(0,e.jsx)(Ct,{plugin:t}),info:i,subtitle:(0,e.jsx)($t,{plugin:t})}};var Yt=s(67458);function Jt(t){const{className:i,plugin:r}=t,[c,y]=(0,g.useState)(!1);return r.isDeprecated&&!c?(0,e.jsxs)(S.F,{severity:"warning",title:(0,n.t)("plugins.plugin-details-deprecated-warning.title-deprecated","Deprecated"),className:i,onRemove:()=>y(!0),children:[(0,e.jsx)("p",{children:(0,e.jsxs)(n.x6,{i18nKey:"plugin.plugin-details-deprecated-warning.body-deprecated",values:{pluginType:r.type},children:["This ","{{pluginType}}"," plugin is"," ",(0,e.jsx)(u.Y,{href:"https://grafana.com/legal/plugin-deprecation/",external:!0,children:"deprecated"})," ","and has been removed from the catalog."]})}),r.details?.statusContext&&(0,e.jsx)("div",{className:"markdown-html",dangerouslySetInnerHTML:{__html:(0,Yt.G)(r.details.statusContext)}})]}):null}function Xt({pluginId:t,navId:i="plugins",notFoundComponent:r=(0,e.jsx)(qt,{}),notFoundNavModel:c}){const y=(0,l.zy)(),f=c??{text:(0,n.t)("plugins.plugin-details-page.not-found-model.text.unknown-plugin","Unknown plugin"),subTitle:(0,n.t)("plugins.plugin-details-page.not-found-model.subTitle.requested-belong-plugin","The requested ID does not belong to any plugin"),active:!0},x=new URLSearchParams(y.search),N=(0,ee.ob)(t),M=(0,h.A)("(max-width: 600px)"),{navModel:P,activePageId:k}=ue(N,x.get("page"),M),{actions:R,info:O,subtitle:$}=Qt(N),{isLoading:te}=(0,ee.m5)(),{isLoading:Ue}=(0,ee.wr)(),me=(0,A.of)(_t);return te||Ue?(0,e.jsx)(b.Y,{navId:i,pageNav:{text:"",active:!0},children:(0,e.jsx)(X.a,{})}):N?(0,e.jsx)(b.Y,{navId:i,pageNav:P,actions:R,subTitle:$,children:(0,e.jsxs)(m.B,{gap:4,justifyContent:"space-between",direction:{xs:"column-reverse",sm:"row"},children:[(0,e.jsx)(b.Y.Contents,{children:(0,e.jsxs)(j.J,{className:me.tabContent,children:[(0,e.jsx)(I,{plugin:N,className:me.alert}),(0,e.jsx)(G,{plugin:N,className:me.alert}),(0,e.jsx)(Jt,{plugin:N,className:me.alert}),(0,e.jsx)(d,{queryParams:Object.fromEntries(x),plugin:N,pageId:k,info:O,showDetails:M})]})}),!M&&(0,e.jsx)(ge,{pluginExtentionsInfo:O,plugin:N})]})}):(0,e.jsx)(b.Y,{navId:i,pageNav:f,children:r})}const _t=t=>({alert:(0,o.css)({marginBottom:t.spacing(2)}),subtitle:(0,o.css)({display:"flex",flexDirection:"column",gap:t.spacing(1)}),tabContent:(0,o.css)({paddingLeft:"5px",width:"100%"})});function qt(){return(0,e.jsx)(m.B,{justifyContent:"center",alignItems:"center",height:"100%",children:(0,e.jsx)(U.a,{children:(0,e.jsx)(S.F,{severity:w.Qd.Warning,title:(0,n.t)("plugins.not-found-plugin.title-plugin-not-found","Plugin not found"),children:(0,e.jsxs)(n.x6,{i18nKey:"plugins.not-found-plugin.body-plugin-not-found",children:["That plugin cannot be found. Please check the url is correct or ",(0,e.jsx)("br",{}),"go to the ",(0,e.jsx)(u.Y,{href:"/plugins",children:"plugin catalog"}),"."]})})})})}},52045:(ne,V,s)=>{s.d(V,{$k:()=>ie,BY:()=>g,S4:()=>J,Tn:()=>Y,US:()=>E,Um:()=>B,_e:()=>K,hx:()=>p,k9:()=>Z,oU:()=>X,u1:()=>ae,xw:()=>Q});var e=s(96540),o=s(92745),l=s(20018),h=s(45229),n=s(73427),A=s(11257),m=s(87745),j=s(52763),U=s(26437),S=s(62054),u=s(8354),b=s(18548),w=s(64003);const X=C=>{const L=(0,j.wA)();(0,e.useEffect)(()=>(L((0,u.PK)(C)),function(){L((0,l.N)({cleanupAction:le=>le.dataSourceSettings=b.IJ}))}),[C,L])},g=C=>{const L=(0,j.wA)();return()=>L((0,u.Ge)(C,U.b.DataSourcesEdit))},E=()=>{const C=(0,j.wA)(),L=(0,j.d4)(le=>le.dataSources.isLoadingDataSources),re=(0,j.d4)(le=>le.dataSources.dataSources);return(0,e.useEffect)(()=>{C((0,u.bn)())},[C]),{isLoading:L,dataSources:re}},_=C=>{const L=useDispatch();useEffect(()=>{L(loadDataSource(C))},[L,C])},p=()=>{const C=(0,j.wA)();(0,e.useEffect)(()=>{C((0,u.G2)())},[C])},B=()=>{const C=(0,j.wA)();return L=>{C((0,u.du)(L,U.b.DataSourcesEdit))}},Z=()=>{const C=(0,j.wA)();return async L=>C((0,u.jB)(L))},ie=()=>{const C=(0,j.wA)(),{name:L}=(0,j.d4)(re=>re.dataSources.dataSource);return()=>{h.A.publish(new m.bY({title:(0,o.t)("datasources.use-delete-loaded-data-source.title.delete","Delete"),text:`Are you sure you want to delete the "${L}" data source?`,yesText:"Delete",icon:"trash-alt",onConfirm:()=>C((0,u.Qq)())}))}},Q=C=>(0,j.d4)(L=>(0,w.U4)(L.dataSources,C)),Y=C=>{const L=Q(C);return(0,S.h)(L)},J=C=>(0,j.d4)(L=>(0,w.Fj)(L.dataSources,C)),K=()=>(0,j.d4)(C=>C.dataSourceSettings),ae=C=>{const L=Q(C),re=L.readOnly===!0,le=n.TP.hasPermissionInMetadata(A.w.DataSourcesWrite,L),ge=n.TP.hasPermissionInMetadata(A.w.DataSourcesDelete,L);return{readOnly:re,hasWriteRights:le,hasDeleteRights:ge}}},62054:(ne,V,s)=>{s.d(V,{h:()=>l});var e=s(92138),o=s(5556);const l=h=>{const n=JSON.stringify({datasource:h.name,context:"explore"});return o.kM.renderUrl(e.I.assureBaseUrl("/explore"),{left:n})}},64003:(ne,V,s)=>{s.d(V,{Fj:()=>m,U4:()=>A,hp:()=>n,lv:()=>u,wC:()=>S,xs:()=>j,zC:()=>h});var e=s(41811);const o={},l={},h=(0,e.default)(b=>{const w=new RegExp(b.searchQuery,"i");return b.dataSources.filter(g=>w.test(g.name)||w.test(g.database)||w.test(g.type)).sort((g,E)=>b.isSortAscending?g.name.localeCompare(E.name):E.name.localeCompare(g.name))}),n=(0,e.default)(b=>{const w=new RegExp(b.dataSourceTypeSearchQuery,"i");return b.plugins.filter(X=>w.test(X.name))}),A=(b,w)=>b.dataSource.uid===w?b.dataSource:o,m=(b,w)=>b.dataSourceMeta.id===w?b.dataSourceMeta:l,j=b=>b.searchQuery,U=b=>b.layoutMode,S=b=>b.dataSourcesCount,u=b=>b.isSortAscending},64048:(ne,V,s)=>{s.d(V,{N:()=>X});var e=s(74848),o=s(22803),l=s(70255),h=s(92745),n=s(43173),A=s(94018),m=s(45861),j=s(41654),U=s(8073),S=s(63142),u=s(26437),b=s(30918),w=s(62054);function X({dataSource:p,hasWriteRights:B,hasExploreRights:Z}){const ie=n.$.appSubUrl+u.b.DataSourcesEdit.replace(/:uid/gi,p.uid),Q=(0,S.of)(_);return(0,e.jsxs)(U.Z,{href:B?ie:void 0,children:[(0,e.jsx)(U.Z.Heading,{children:p.name}),(0,e.jsx)(U.Z.Figure,{children:(0,e.jsx)("img",{src:p.typeLogoUrl,alt:"",height:"40px",width:"40px",className:Q.logo})}),(0,e.jsx)(U.Z.Meta,{children:[p.typeName,p.url,p.isDefault&&(0,e.jsx)(A.v,{name:"default",colorIndex:1},"default-tag")]}),(0,e.jsxs)(U.Z.Tags,{children:[(0,e.jsx)(m.z9,{icon:"apps",fill:"outline",variant:"secondary",href:`dashboard/new-with-ds/${p.uid}`,onClick:()=>{(0,b.TR)({grafana_version:n.$.buildInfo.version,datasource_uid:p.uid,plugin_name:p.typeName,path:window.location.pathname})},children:(0,e.jsx)(h.x6,{i18nKey:"datasources.data-sources-list-card.build-a-dashboard",children:"Build a dashboard"})}),Z&&(0,e.jsx)(m.z9,{icon:"compass",fill:"outline",variant:"secondary",className:Q.button,href:(0,w.h)(p),onClick:()=>{(0,b.M1)({grafana_version:n.$.buildInfo.version,datasource_uid:p.uid,plugin_name:p.typeName,path:window.location.pathname})},children:(0,e.jsx)(h.x6,{i18nKey:"datasources.data-sources-list-card.explore",children:"Explore"})})]})]})}function g({hasExploreRights:p}){const B=(0,S.of)(E);return(0,e.jsxs)(U.Z,{children:[(0,e.jsx)(U.Z.Heading,{children:(0,e.jsx)(l.A,{width:140})}),(0,e.jsx)(U.Z.Figure,{children:(0,e.jsx)(l.A,{width:40,height:40,containerClassName:B.figure})}),(0,e.jsx)(U.Z.Meta,{children:(0,e.jsx)(l.A,{width:120})}),(0,e.jsx)(U.Z.Tags,{children:(0,e.jsxs)(j.B,{direction:"row",gap:2,children:[(0,e.jsx)(l.A,{height:32,width:179,containerClassName:B.button}),p&&(0,e.jsx)(l.A,{height:32,width:107,containerClassName:B.button})]})})]})}X.Skeleton=g;const E=()=>({button:(0,o.css)({lineHeight:1}),figure:(0,o.css)({lineHeight:1})}),_=p=>({logo:(0,o.css)({objectFit:"contain"}),button:(0,o.css)({marginLeft:p.spacing(2)})})},87049:(ne,V,s)=>{s.d(V,{a:()=>h});var e=s(74848),o=s(6975),l=s(31286);const h=({text:n="Loading..."})=>(0,e.jsx)(l.a,{display:"flex",alignItems:"center",direction:"column",justifyContent:"center",paddingTop:10,children:(0,e.jsx)(o._,{text:n})})},99723:(ne,V,s)=>{s.d(V,{$m:()=>w,R4:()=>u,Vh:()=>b});var e=s(11594),o=s(92745),l=s(62061),h=s(25096),n=s(65642),A=s(73427),m=s(42939),j=s(11257),U=s(19729);const S="Loading";function u(g,E){const _=E.meta,p=n.Ay.featureToggles.featureHighlights,B={img:_.info.logos.large,id:"datasource-"+g.uid,url:"",text:g.name,children:[{active:!1,icon:"sliders-v-alt",id:`datasource-settings-${g.uid}`,text:(0,o.t)("datasources.build-nav-model.nav-model.text.settings","Settings"),url:`datasources/edit/${g.uid}/`}]};if(E.configPages)for(const K of E.configPages)B.children.push({active:!1,text:K.title,icon:K.icon,url:`datasources/edit/${g.uid}/?page=${K.id}`,id:`datasource-page-${K.id}`});_.includes&&X(_.includes)&&A.TP.hasRole("Admin")&&B.children.push({active:!1,icon:"apps",id:`datasource-dashboards-${g.uid}`,text:(0,o.t)("datasources.build-nav-model.text.dashboards","Dashboards"),url:`datasources/edit/${g.uid}/dashboards`});const Z=g.type===S,ie="feature-highlights-data-source-permissions-badge",Q={active:!1,icon:"lock",id:`datasource-permissions-${g.uid}`,text:(0,o.t)("datasources.build-nav-model.ds-permissions.text.permissions","Permissions"),url:`datasources/edit/${g.uid}/permissions`};if((0,m.z5)()&&!Z&&(Q.tabSuffix=()=>(0,h.J)({experimentId:ie,eventVariant:"trial"})),(0,l.a)("dspermissions.enforcement")?A.TP.hasPermissionInMetadata(j.w.DataSourcesPermissionsRead,g)&&B.children.push(Q):p&&!Z&&B.children.push({...Q,url:Q.url+"/upgrade",tabSuffix:()=>(0,h.J)({experimentId:ie})}),n.Ay.analytics?.enabled){const K="feature-highlights-data-source-insights-badge",ae={active:!1,icon:"info-circle",id:`datasource-insights-${g.uid}`,text:(0,o.t)("datasources.build-nav-model.analytics.text.insights","Insights"),url:`datasources/edit/${g.uid}/insights`};(0,m.z5)()&&!Z&&(ae.tabSuffix=()=>(0,h.J)({experimentId:K,eventVariant:"trial"})),(0,l.a)("analytics")?A.TP.hasPermission(j.w.DataSourcesInsightsRead)&&B.children.push(ae):p&&!Z&&B.children.push({...ae,url:ae.url+"/upgrade",tabSuffix:()=>(0,h.J)({experimentId:K})})}const Y="feature-highlights-query-caching-badge",J={active:!1,icon:"database",id:`datasource-cache-${g.uid}`,text:(0,o.t)("datasources.build-nav-model.caching.text.cache","Cache"),url:`datasources/edit/${g.uid}/cache`,hideFromTabs:!_.isBackend||!n.Ay.caching.enabled};return(0,m.z5)()&&!Z&&(J.tabSuffix=()=>(0,h.J)({experimentId:Y,eventVariant:"trial"})),(0,l.a)("caching")?A.TP.hasPermissionInMetadata(j.w.DataSourcesCachingRead,g)&&B.children.push(J):p&&!Z&&B.children.push({...J,url:J.url+"/upgrade",tabSuffix:()=>(0,h.J)({experimentId:Y})}),B}function b(g,E){let _={text:""};for(const p of g.children)if(p.id.indexOf(E)>0){p.active=!0,_=p;break}return{main:g,node:_}}function w(g){const E=u({access:"",basicAuth:!1,basicAuthUser:"",withCredentials:!1,database:"",id:1,uid:"x",isDefault:!1,jsonData:{authType:"credentials",defaultRegion:"eu-west-2"},name:"Loading",orgId:1,readOnly:!1,type:S,typeName:S,typeLogoUrl:U,url:"",user:"",secureJsonFields:{}},{meta:{id:"1",type:e.QE.datasource,name:"",info:{author:{name:"",url:""},description:"",links:[{name:"",url:""}],logos:{large:"",small:""},screenshots:[],updated:"",version:""},includes:[],module:"",baseUrl:""}});return b(E,g)}function X(g){return g.find(E=>E.type==="dashboard")!==void 0}}}]);

//# sourceMappingURL=3324.030d839e93b8ff510421.js.map