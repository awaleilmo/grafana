{"version":3,"file":"RecentlyDeletedPage.15df72ac803f8ffc1d2c.js","mappings":"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","sources":["webpack://grafana/./public/app/features/browse-dashboards/api/useRecentlyDeletedStateManager.ts","webpack://grafana/./public/app/features/browse-dashboards/components/RestoreModal.tsx","webpack://grafana/./public/app/features/browse-dashboards/components/RecentlyDeletedActions.tsx","webpack://grafana/./public/app/features/browse-dashboards/components/RecentlyDeletedEmptyState.tsx","webpack://grafana/./public/app/features/browse-dashboards/RecentlyDeletedPage.tsx","webpack://grafana/./public/app/features/search/page/components/ActionRow.tsx","webpack://grafana/./public/app/features/search/state/SearchStateManager.ts","webpack://grafana/./public/app/features/browse-dashboards/permissions.ts","webpack://grafana/./public/app/features/browse-dashboards/components/SearchView.tsx"],"sourcesContent":["import { SelectableValue, store } from '@grafana/data';\nimport { t } from '@grafana/i18n';\nimport { TermCount } from 'app/core/components/TagFilter/TagFilter';\nimport { SEARCH_SELECTED_SORT } from 'app/features/search/constants';\nimport { SearchState } from 'app/features/search/types';\n\nimport { deletedDashboardsCache } from '../../search/service/deletedDashboardsCache';\nimport { initialState, SearchStateManager } from '../../search/state/SearchStateManager';\n\n// Subclass SearchStateManager to customize the setStateAndDoSearch behavior.\n// We want to clear the search results when the user clears any search input\n// to trigger the skeleton state.\nexport class TrashStateManager extends SearchStateManager {\n  setStateAndDoSearch(state: Partial<SearchState>) {\n    const sort = state.sort || this.state.sort || store.get(SEARCH_SELECTED_SORT) || undefined;\n\n    const query = state.query ?? this.state.query;\n    const tags = state.tag ?? this.state.tag;\n\n    // When the user clears the search, and we revert back to list listing all\n    const clearResults = query.length === 0 && tags.length === 0;\n\n    // Set internal state\n    this.setState({\n      sort,\n      result: clearResults ? undefined : this.state.result,\n      ...state,\n    });\n\n    // Update url state\n    this.updateLocation({\n      query: this.state.query.length === 0 ? null : this.state.query,\n      tag: this.state.tag,\n      datasource: this.state.datasource,\n      panel_type: this.state.panel_type,\n      starred: this.state.starred ? this.state.starred : null,\n      sort: this.state.sort,\n    });\n\n    // Prevent searching when user is only clearing the input.\n    // We don't show these results anyway\n    if (this.hasSearchFilters()) {\n      this.doSearchWithDebounce();\n    }\n  }\n\n  // Get tags from deleted dashboards cache\n  getTagOptions = async (): Promise<TermCount[]> => {\n    try {\n      const deletedHits = await deletedDashboardsCache.get();\n      const tagCounts = new Map<string, number>();\n\n      deletedHits.forEach((hit) => {\n        hit.tags.forEach((tag) => {\n          if (tag) {\n            tagCounts.set(tag, (tagCounts.get(tag) || 0) + 1);\n          }\n        });\n      });\n\n      const termCounts: TermCount[] = Array.from(tagCounts.entries()).map(([term, count]) => ({\n        term,\n        count,\n      }));\n\n      return termCounts.sort((a, b) => b.count - a.count);\n    } catch (error) {\n      console.error('Failed to get tags from deleted dashboards:', error);\n      return [];\n    }\n  };\n\n  // Only alphabetical sorting is supported for deleted dashboards\n  getSortOptions = async (): Promise<SelectableValue[]> => {\n    return Promise.resolve([\n      {\n        label: t('browse-dashboards.trash-state-manager.label.alphabetically-az', 'Alphabetically (A–Z)'),\n        value: 'alpha-asc',\n      },\n      {\n        label: t('browse-dashboards.trash-state-manager.label.alphabetically-za', 'Alphabetically (Z–A)'),\n        value: 'alpha-desc',\n      },\n    ]);\n  };\n}\n\nlet recentlyDeletedStateManager: TrashStateManager;\nfunction getRecentlyDeletedStateManager() {\n  if (!recentlyDeletedStateManager) {\n    recentlyDeletedStateManager = new TrashStateManager({ ...initialState, includePanels: false, deleted: true });\n  }\n\n  return recentlyDeletedStateManager;\n}\n\nexport function useRecentlyDeletedStateManager() {\n  const stateManager = getRecentlyDeletedStateManager();\n  const state = stateManager.useState();\n\n  return [state, stateManager] as const;\n}\n","import { useState } from 'react';\n\nimport { Trans, t } from '@grafana/i18n';\nimport { reportInteraction } from '@grafana/runtime';\nimport { ConfirmModal, Space, Text } from '@grafana/ui';\n\nimport { FolderPicker } from '../../../core/components/Select/FolderPicker';\n\nexport interface RestoreModalProps {\n  isOpen: boolean;\n  onConfirm: (restoreTarget: string) => Promise<void>;\n  onDismiss: () => void;\n  selectedDashboards: string[];\n  dashboardOrigin: string[];\n  isLoading: boolean;\n}\n\nexport const RestoreModal = ({\n  onConfirm,\n  onDismiss,\n  selectedDashboards,\n  dashboardOrigin,\n  isLoading,\n  ...props\n}: RestoreModalProps) => {\n  const [restoreTarget, setRestoreTarget] = useState<string | undefined>(() => {\n    // Preselect the restore target and therefore enable the confirm button if all selected dashboards come from the same folder\n    return dashboardOrigin.length > 0 &&\n      dashboardOrigin.every((originalLocation) => originalLocation === dashboardOrigin[0])\n      ? dashboardOrigin[0]\n      : undefined;\n  });\n\n  const numberOfDashboards = selectedDashboards.length;\n\n  const onRestore = async () => {\n    reportInteraction('grafana_restore_confirm_clicked', {\n      item_counts: {\n        dashboard: numberOfDashboards,\n      },\n    });\n    if (restoreTarget !== undefined) {\n      await onConfirm(restoreTarget);\n      onDismiss();\n    }\n  };\n\n  return (\n    <ConfirmModal\n      body={\n        <>\n          <Text element=\"p\">\n            <Trans i18nKey=\"recently-deleted.restore-modal.text\" count={numberOfDashboards}>\n              This action will restore {{ numberOfDashboards }} dashboards.\n            </Trans>\n          </Text>\n          <Space v={3} />\n          <Text element=\"p\">\n            <Trans i18nKey=\"recently-deleted.restore-modal.folder-picker-text\" count={numberOfDashboards}>\n              Please choose a folder where your dashboards will be restored.\n            </Trans>\n          </Text>\n          <Space v={1} />\n          <FolderPicker onChange={setRestoreTarget} value={restoreTarget} />\n        </>\n        // TODO: replace by list of dashboards (list up to 5 dashboards) or number (from 6 dashboards)?\n      }\n      confirmText={\n        isLoading\n          ? t('recently-deleted.restore-modal.restore-loading', 'Restoring...')\n          : t('recently-deleted.restore-modal.restore-button', 'Restore')\n      }\n      confirmButtonVariant=\"primary\"\n      onDismiss={onDismiss}\n      onConfirm={onRestore}\n      title={t('recently-deleted.restore-modal.title', 'Restore Dashboards')}\n      disabled={restoreTarget === undefined}\n      {...props}\n    />\n  );\n};\n","import { useMemo } from 'react';\n\nimport { Trans } from '@grafana/i18n';\nimport { reportInteraction } from '@grafana/runtime';\nimport { Button, Stack } from '@grafana/ui';\nimport appEvents from 'app/core/app_events';\nimport { AnnoKeyFolder } from 'app/features/apiserver/types';\nimport { GENERAL_FOLDER_UID } from 'app/features/search/constants';\nimport { ShowModalReactEvent } from 'app/types/events';\nimport { useDispatch } from 'app/types/store';\n\nimport { deletedDashboardsCache } from '../../search/service/deletedDashboardsCache';\nimport { useListDeletedDashboardsQuery, useRestoreDashboardMutation } from '../api/browseDashboardsAPI';\nimport { useRecentlyDeletedStateManager } from '../api/useRecentlyDeletedStateManager';\nimport { useActionSelectionState } from '../state/hooks';\nimport { clearFolders, setAllSelection } from '../state/slice';\n\nimport { RestoreModal } from './RestoreModal';\n\nexport function RecentlyDeletedActions() {\n  const dispatch = useDispatch();\n  const selectedItemsState = useActionSelectionState();\n  const [searchState, stateManager] = useRecentlyDeletedStateManager();\n  const deletedDashboards = useListDeletedDashboardsQuery();\n  const [restoreDashboard, { isLoading: isRestoreLoading }] = useRestoreDashboardMutation();\n\n  const selectedDashboards = useMemo(() => {\n    return Object.entries(selectedItemsState.dashboard)\n      .filter(([_, selected]) => selected)\n      .map(([uid]) => uid);\n  }, [selectedItemsState.dashboard]);\n\n  const selectedDashboardOrigin: string[] = [];\n  if (searchState.result) {\n    for (const selectedDashboard of selectedDashboards) {\n      const index = searchState.result.view.fields.uid.values.findIndex((e) => e === selectedDashboard);\n\n      // SQLSearcher changes the location from empty string to 'general' for items with no parent,\n      // but the restore API doesn't work with 'general' folder UID, so we need to convert it back\n      // to an empty string\n      const location = searchState.result.view.fields.location.values[index];\n      const fixedLocation = location === GENERAL_FOLDER_UID ? '' : location;\n      selectedDashboardOrigin.push(fixedLocation);\n    }\n  }\n\n  const onActionComplete = () => {\n    dispatch(setAllSelection({ isSelected: false, folderUID: undefined }));\n\n    deletedDashboardsCache.clear();\n    stateManager.doSearchWithDebounce();\n  };\n\n  const onRestore = async (restoreTarget: string) => {\n    const resultsView = stateManager.state.result?.view.toArray();\n    if (!resultsView) {\n      return;\n    }\n\n    const promises = selectedDashboards.map((uid) => {\n      const dashboard = deletedDashboards.data?.items.find((d) => d.metadata.name === uid);\n      if (!dashboard) {\n        return Promise.resolve();\n      }\n      // Clone the dashboard to be able to edit the immutable data from the store\n      const copy = structuredClone(dashboard);\n      copy.metadata = {\n        ...copy.metadata,\n        annotations: { ...copy.metadata?.annotations, [AnnoKeyFolder]: restoreTarget },\n      };\n\n      return restoreDashboard({ dashboard: copy });\n    });\n\n    await Promise.all(promises);\n\n    const parentUIDs = new Set<string | undefined>();\n    for (const uid of selectedDashboards) {\n      const foundItem = resultsView.find((v) => v.uid === uid);\n      if (!foundItem) {\n        continue;\n      }\n\n      // Search API returns items with no parent with a location of 'general', so we\n      // need to convert that back to undefined\n      const folderUID = foundItem.location === GENERAL_FOLDER_UID ? undefined : foundItem.location;\n      parentUIDs.add(folderUID);\n    }\n    dispatch(clearFolders(Array.from(parentUIDs)));\n\n    onActionComplete();\n  };\n\n  const showRestoreModal = () => {\n    reportInteraction('grafana_restore_clicked', {\n      item_counts: {\n        dashboard: selectedDashboards.length,\n      },\n    });\n    appEvents.publish(\n      new ShowModalReactEvent({\n        component: RestoreModal,\n        props: {\n          selectedDashboards,\n          dashboardOrigin: selectedDashboardOrigin,\n          onConfirm: onRestore,\n          isLoading: isRestoreLoading,\n        },\n      })\n    );\n  };\n\n  return (\n    <Stack gap={1}>\n      <Button onClick={showRestoreModal} variant=\"secondary\">\n        <Trans i18nKey=\"recently-deleted.buttons.restore\">Restore</Trans>\n      </Button>\n    </Stack>\n  );\n}\n","import { Trans, t } from '@grafana/i18n';\nimport { EmptyState } from '@grafana/ui';\nimport { SearchState } from 'app/features/search/types';\n\ninterface RecentlyDeletedEmptyStateProps {\n  searchState: SearchState;\n}\n\nexport const RecentlyDeletedEmptyState = ({ searchState }: RecentlyDeletedEmptyStateProps) => {\n  const userIsSearching = Boolean(searchState.query || searchState.tag.length);\n  return (\n    <EmptyState\n      message={\n        userIsSearching\n          ? t('recently-deleted.page.no-search-result', 'No results found for your query')\n          : t('recently-deleted.page.no-deleted-dashboards', \"You haven't deleted any dashboards recently.\")\n      }\n      variant={userIsSearching ? 'not-found' : 'completed'}\n      role=\"alert\"\n    >\n      <Trans i18nKey={'recently-deleted.page.no-deleted-dashboards-text'}>\n        When you delete a dashboard, it will appear here for 30 days before being permanently deleted. Your organization\n        administrator can restore recently-deleted dashboards.\n      </Trans>\n    </EmptyState>\n  );\n};\n","import { css } from '@emotion/css';\nimport { memo, useEffect } from 'react';\nimport AutoSizer from 'react-virtualized-auto-sizer';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { t } from '@grafana/i18n';\nimport { FilterInput, useStyles2 } from '@grafana/ui';\nimport { Page } from 'app/core/components/Page/Page';\nimport { ActionRow } from 'app/features/search/page/components/ActionRow';\nimport { getGrafanaSearcher } from 'app/features/search/service/searcher';\nimport { useDispatch } from 'app/types/store';\n\nimport { useRecentlyDeletedStateManager } from './api/useRecentlyDeletedStateManager';\nimport { RecentlyDeletedActions } from './components/RecentlyDeletedActions';\nimport { RecentlyDeletedEmptyState } from './components/RecentlyDeletedEmptyState';\nimport { SearchView } from './components/SearchView';\nimport { getFolderPermissions } from './permissions';\nimport { useHasSelection } from './state/hooks';\nimport { setAllSelection } from './state/slice';\n\nconst RecentlyDeletedPage = memo(() => {\n  const dispatch = useDispatch();\n  const styles = useStyles2(getStyles);\n\n  const [searchState, stateManager] = useRecentlyDeletedStateManager();\n  const hasSelection = useHasSelection();\n\n  const { canEditFolders, canEditDashboards, canDeleteFolders, canDeleteDashboards } = getFolderPermissions();\n  const permissions = { canEditFolders, canEditDashboards, canDeleteFolders, canDeleteDashboards };\n\n  useEffect(() => {\n    stateManager.initStateFromUrl(undefined);\n\n    // Clear selected state when folderUID changes\n    dispatch(\n      setAllSelection({\n        isSelected: false,\n        folderUID: undefined,\n      })\n    );\n  }, [dispatch, stateManager]);\n\n  return (\n    <Page navId=\"dashboards/recently-deleted\">\n      <Page.Contents className={styles.pageContents}>\n        <div>\n          <FilterInput\n            placeholder={t('recentlyDeleted.filter.placeholder', 'Search for dashboards')}\n            value={searchState.query}\n            escapeRegex={false}\n            onChange={stateManager.onQueryChange}\n          />\n        </div>\n\n        {hasSelection ? (\n          <RecentlyDeletedActions />\n        ) : (\n          <div className={styles.filters}>\n            <ActionRow\n              state={searchState}\n              getTagOptions={stateManager.getTagOptions}\n              getSortOptions={stateManager.getSortOptions}\n              sortPlaceholder={getGrafanaSearcher().sortPlaceholder}\n              onLayoutChange={stateManager.onLayoutChange}\n              onSortChange={stateManager.onSortChange}\n              onTagFilterChange={stateManager.onTagFilterChange}\n              onDatasourceChange={stateManager.onDatasourceChange}\n              onPanelTypeChange={stateManager.onPanelTypeChange}\n              onSetIncludePanels={stateManager.onSetIncludePanels}\n            />\n          </div>\n        )}\n\n        <div className={styles.subView}>\n          <AutoSizer>\n            {({ width, height }) => (\n              <SearchView\n                permissions={permissions}\n                width={width}\n                height={height}\n                searchStateManager={stateManager}\n                searchState={searchState}\n                emptyState={<RecentlyDeletedEmptyState searchState={searchState} />}\n              />\n            )}\n          </AutoSizer>\n        </div>\n      </Page.Contents>\n    </Page>\n  );\n});\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  pageContents: css({\n    display: 'flex',\n    flexDirection: 'column',\n    gap: theme.spacing(1),\n    height: '100%',\n  }),\n\n  // AutoSizer needs an element to measure the full height available\n  subView: css({\n    height: '100%',\n  }),\n\n  filters: css({\n    display: 'none',\n\n    [theme.breakpoints.up('md')]: {\n      display: 'block',\n    },\n  }),\n});\n\nRecentlyDeletedPage.displayName = 'RecentlyDeletedPage';\nexport default RecentlyDeletedPage;\n","import { css } from '@emotion/css';\nimport { FormEvent } from 'react';\n\nimport { GrafanaTheme2, SelectableValue } from '@grafana/data';\nimport { Trans, t } from '@grafana/i18n';\nimport { config } from '@grafana/runtime';\nimport { Button, Checkbox, Stack, RadioButtonGroup, useStyles2 } from '@grafana/ui';\nimport { SortPicker } from 'app/core/components/Select/SortPicker';\nimport { TagFilter, TermCount } from 'app/core/components/TagFilter/TagFilter';\n\nimport { SearchLayout, SearchState } from '../../types';\n\nfunction getLayoutOptions() {\n  return [\n    {\n      value: SearchLayout.Folders,\n      icon: 'folder',\n      description: t('search.actions.view-as-folders', 'View by folders'),\n    },\n    { value: SearchLayout.List, icon: 'list-ul', description: t('search.actions.view-as-list', 'View as list') },\n  ];\n}\n\ninterface ActionRowProps {\n  state: SearchState;\n  showStarredFilter?: boolean;\n  showLayout?: boolean;\n  sortPlaceholder?: string;\n\n  onLayoutChange: (layout: SearchLayout) => void;\n  onSortChange: (value?: string) => void;\n  onStarredFilterChange?: (event: FormEvent<HTMLInputElement>) => void;\n  onTagFilterChange: (tags: string[]) => void;\n  getTagOptions: () => Promise<TermCount[]>;\n  getSortOptions: () => Promise<SelectableValue[]>;\n  onDatasourceChange: (ds?: string) => void;\n  onPanelTypeChange: (pt?: string) => void;\n  onSetIncludePanels: (v: boolean) => void;\n}\n\nexport function getValidQueryLayout(q: SearchState): SearchLayout {\n  const layout = q.layout ?? SearchLayout.Folders;\n\n  // Folders is not valid when a query exists\n  if (layout === SearchLayout.Folders) {\n    if (q.query || q.sort || q.starred || q.tag.length > 0) {\n      return SearchLayout.List;\n    }\n  }\n\n  return layout;\n}\n\nexport const ActionRow = ({\n  state,\n  showStarredFilter,\n  showLayout,\n  sortPlaceholder,\n  onLayoutChange,\n  onSortChange,\n  onStarredFilterChange = () => {},\n  onTagFilterChange,\n  getTagOptions,\n  getSortOptions,\n  onDatasourceChange,\n  onPanelTypeChange,\n  onSetIncludePanels,\n}: ActionRowProps) => {\n  const styles = useStyles2(getStyles);\n\n  const layout = getValidQueryLayout(state);\n\n  // Disabled folder layout option when query is present\n  const disabledOptions =\n    state.tag.length || state.starred || state.query || state.datasource || state.panel_type\n      ? [SearchLayout.Folders]\n      : [];\n\n  return (\n    <Stack justifyContent=\"space-between\" alignItems=\"center\">\n      <Stack gap={2} alignItems=\"center\">\n        <TagFilter isClearable={false} tags={state.tag} tagOptions={getTagOptions} onChange={onTagFilterChange} />\n        {config.featureToggles.panelTitleSearch && (\n          <Checkbox\n            data-testid=\"include-panels\"\n            disabled={layout === SearchLayout.Folders}\n            value={state.includePanels}\n            onChange={() => onSetIncludePanels(!state.includePanels)}\n            label={t('search.actions.include-panels', 'Include panels')}\n          />\n        )}\n\n        {showStarredFilter && (\n          <div className={styles.checkboxWrapper}>\n            <Checkbox\n              label={t('search.actions.starred', 'Starred')}\n              onChange={onStarredFilterChange}\n              value={state.starred}\n            />\n          </div>\n        )}\n        {state.datasource && (\n          <Button icon=\"times\" variant=\"secondary\" onClick={() => onDatasourceChange(undefined)}>\n            <Trans i18nKey=\"search.actions.remove-datasource-filter\">\n              Datasource: {{ datasource: state.datasource }}\n            </Trans>\n          </Button>\n        )}\n        {state.panel_type && (\n          <Button icon=\"times\" variant=\"secondary\" onClick={() => onPanelTypeChange(undefined)}>\n            <Trans i18nKey=\"search.action-row.panel-type\" values={{ panel: state.panel_type }}>\n              Panel: {'{{panel}}'}\n            </Trans>\n          </Button>\n        )}\n      </Stack>\n\n      <Stack gap={2}>\n        {showLayout && (\n          <RadioButtonGroup\n            options={getLayoutOptions()}\n            disabledOptions={disabledOptions}\n            onChange={onLayoutChange}\n            value={layout}\n          />\n        )}\n        <SortPicker\n          onChange={(change) => onSortChange(change?.value)}\n          value={state.sort}\n          getSortOptions={getSortOptions}\n          placeholder={sortPlaceholder || t('search.actions.sort-placeholder', 'Sort')}\n          isClearable\n        />\n      </Stack>\n    </Stack>\n  );\n};\n\nActionRow.displayName = 'ActionRow';\n\nexport const getStyles = (theme: GrafanaTheme2) => {\n  return {\n    checkboxWrapper: css({\n      label: {\n        lineHeight: '1.2',\n      },\n    }),\n  };\n};\n","import { debounce } from 'lodash';\nimport { FormEvent } from 'react';\n\nimport { locationService } from '@grafana/runtime';\nimport { TermCount } from 'app/core/components/TagFilter/TagFilter';\nimport { StateManagerBase } from 'app/core/services/StateManagerBase';\nimport store from 'app/core/store';\n\nimport { SEARCH_PANELS_LOCAL_STORAGE_KEY, SEARCH_SELECTED_LAYOUT, SEARCH_SELECTED_SORT } from '../constants';\nimport {\n  reportDashboardListViewed,\n  reportSearchFailedQueryInteraction,\n  reportSearchQueryInteraction,\n  reportSearchResultInteraction,\n} from '../page/reporting';\nimport { getGrafanaSearcher } from '../service/searcher';\nimport { SearchQuery } from '../service/types';\nimport { SearchLayout, SearchQueryParams, SearchState } from '../types';\nimport { parseRouteParams } from '../utils';\n\nexport const initialState: SearchState = {\n  query: '',\n  tag: [],\n  starred: false,\n  layout: SearchLayout.Folders,\n  sort: undefined,\n  prevSort: undefined,\n  eventTrackingNamespace: 'dashboard_search',\n  deleted: false,\n};\n\nexport const defaultQueryParams: SearchQueryParams = {\n  sort: null,\n  starred: null,\n  query: null,\n  tag: null,\n  layout: null,\n};\n\nconst getLocalStorageLayout = () => {\n  const selectedLayout = localStorage.getItem(SEARCH_SELECTED_LAYOUT);\n  if (selectedLayout === SearchLayout.List) {\n    return SearchLayout.List;\n  } else {\n    return SearchLayout.Folders;\n  }\n};\nexport class SearchStateManager extends StateManagerBase<SearchState> {\n  updateLocation = debounce((query) => locationService.partial(query, true), 300);\n  doSearchWithDebounce = debounce(() => this.doSearch(), 300);\n  lastQuery?: SearchQuery;\n\n  lastSearchTimestamp = 0;\n\n  initStateFromUrl(folderUid?: string, doInitialSearch = true) {\n    const stateFromUrl = parseRouteParams(locationService.getSearchObject());\n\n    // Force list view when conditions are specified from the URL\n    if (stateFromUrl.query || stateFromUrl.datasource || stateFromUrl.panel_type) {\n      stateFromUrl.layout = SearchLayout.List;\n    }\n\n    const layout = getLocalStorageLayout();\n    const prevSort = localStorage.getItem(SEARCH_SELECTED_SORT) ?? undefined;\n    const sort = layout === SearchLayout.List ? stateFromUrl.sort || prevSort : null;\n\n    this.setState({\n      ...initialState,\n      ...stateFromUrl,\n      layout,\n      sort: sort ?? initialState.sort,\n      prevSort,\n      folderUid: folderUid,\n      eventTrackingNamespace: folderUid ? 'manage_dashboards' : 'dashboard_search',\n      deleted: this.state.deleted,\n    });\n\n    if (doInitialSearch && this.hasSearchFilters()) {\n      this.doSearch();\n    }\n  }\n\n  /**\n   * Updates internal and url state, then triggers a new search\n   */\n  setStateAndDoSearch(state: Partial<SearchState>) {\n    const sort = state.sort || this.state.sort || localStorage.getItem(SEARCH_SELECTED_SORT) || undefined;\n\n    // Set internal state\n    this.setState({ sort, ...state });\n\n    // Update url state\n    this.updateLocation({\n      query: this.state.query.length === 0 ? null : this.state.query,\n      tag: this.state.tag,\n      datasource: this.state.datasource,\n      panel_type: this.state.panel_type,\n      starred: this.state.starred ? this.state.starred : null,\n      sort: this.state.sort,\n    });\n\n    // Prevent searching when user is only clearing the input.\n    // We don't show these results anyway\n    if (this.hasSearchFilters()) {\n      this.doSearchWithDebounce();\n    }\n  }\n\n  onCloseSearch = () => {\n    this.updateLocation({\n      search: null,\n      folder: null,\n      ...defaultQueryParams,\n    });\n  };\n\n  onClearSearchAndFilters = () => {\n    this.setStateAndDoSearch({\n      query: '',\n      datasource: undefined,\n      tag: [],\n      panel_type: undefined,\n      starred: undefined,\n      sort: undefined,\n    });\n  };\n\n  onQueryChange = (query: string) => {\n    this.setStateAndDoSearch({ query });\n  };\n\n  onRemoveTag = (tagToRemove: string) => {\n    this.setStateAndDoSearch({ tag: this.state.tag.filter((tag) => tag !== tagToRemove) });\n  };\n\n  onTagFilterChange = (tags: string[]) => {\n    this.setStateAndDoSearch({ tag: tags });\n  };\n\n  onAddTag = (newTag: string) => {\n    if (this.state.tag && this.state.tag.includes(newTag)) {\n      return;\n    }\n\n    this.setStateAndDoSearch({ tag: [...this.state.tag, newTag] });\n  };\n\n  onDatasourceChange = (datasource: string | undefined) => {\n    this.setStateAndDoSearch({ datasource });\n  };\n\n  onPanelTypeChange = (panel_type?: string) => {\n    this.setStateAndDoSearch({ panel_type });\n  };\n\n  onStarredFilterChange = (e: FormEvent<HTMLInputElement>) => {\n    const starred = e.currentTarget.checked;\n    this.setStateAndDoSearch({ starred });\n  };\n\n  onClearStarred = () => {\n    this.setStateAndDoSearch({ starred: false });\n  };\n\n  onSetStarred = (starred: boolean) => {\n    if (starred !== this.state.starred) {\n      this.setStateAndDoSearch({ starred });\n    }\n  };\n\n  onSortChange = (sort: string | undefined) => {\n    if (sort) {\n      localStorage.setItem(SEARCH_SELECTED_SORT, sort);\n      // Switch to list view if sort is set to preserve sort order when navigating back\n      localStorage.setItem(SEARCH_SELECTED_LAYOUT, SearchLayout.List);\n    } else {\n      localStorage.removeItem(SEARCH_SELECTED_SORT);\n    }\n\n    if (this.state.layout === SearchLayout.Folders) {\n      this.setStateAndDoSearch({ sort, layout: SearchLayout.List });\n    } else {\n      this.setStateAndDoSearch({ sort });\n    }\n  };\n\n  onLayoutChange = (layout: SearchLayout) => {\n    localStorage.setItem(SEARCH_SELECTED_LAYOUT, layout);\n\n    if (this.state.sort && layout === SearchLayout.Folders) {\n      this.setStateAndDoSearch({ layout, prevSort: this.state.sort, sort: undefined });\n    } else {\n      this.setStateAndDoSearch({ layout, sort: this.state.prevSort });\n    }\n  };\n\n  onSetIncludePanels = (includePanels: boolean) => {\n    this.setStateAndDoSearch({ includePanels });\n    store.set(SEARCH_PANELS_LOCAL_STORAGE_KEY, includePanels);\n  };\n\n  hasSearchFilters() {\n    return Boolean(\n      this.state.query ||\n        this.state.tag.length ||\n        this.state.starred ||\n        this.state.panel_type ||\n        this.state.sort ||\n        this.state.deleted ||\n        this.state.layout === SearchLayout.List\n    );\n  }\n\n  getSearchQuery() {\n    const q: SearchQuery = {\n      query: this.state.query,\n      tags: this.state.tag,\n      ds_uid: this.state.datasource,\n      panel_type: this.state.panel_type,\n      location: this.state.folderUid, // This will scope all results to the prefix\n      sort: this.state.sort,\n      explain: this.state.explain,\n      withAllowedActions: this.state.explain, // allowedActions are currently not used for anything on the UI and added only in `explain` mode\n      starred: this.state.starred,\n      deleted: this.state.deleted,\n    };\n\n    // Only dashboards have additional properties\n    if (q.sort?.length && !q.sort.includes('name')) {\n      q.kind = ['dashboard', 'folder']; // skip panels\n    }\n\n    if (!q.query?.length) {\n      q.query = '*';\n      if (!q.location) {\n        q.kind = ['dashboard', 'folder']; // skip panels\n      }\n    }\n\n    if (!this.state.includePanels && !q.kind) {\n      q.kind = ['dashboard', 'folder']; // skip panels\n    }\n\n    if (q.panel_type?.length) {\n      q.kind = ['panel'];\n    }\n\n    return q;\n  }\n\n  private doSearch() {\n    const trackingInfo = {\n      layout: this.state.layout,\n      starred: this.state.starred,\n      sortValue: this.state.sort,\n      query: this.state.query,\n      tagCount: this.state.tag?.length,\n      includePanels: this.state.includePanels,\n      deleted: this.state.deleted,\n    };\n\n    reportSearchQueryInteraction(this.state.eventTrackingNamespace, trackingInfo);\n\n    this.lastQuery = this.getSearchQuery();\n\n    this.setState({ loading: true });\n\n    const searcher = getGrafanaSearcher();\n\n    const searchTimestamp = Date.now();\n    const searchPromise = this.state.starred ? searcher.starred(this.lastQuery) : searcher.search(this.lastQuery);\n\n    searchPromise\n      .then((result) => {\n        // Only keep the results if it's was issued after the most recently resolved search.\n        // This prevents results showing out of order if first request is slower than later ones\n        if (searchTimestamp > this.lastSearchTimestamp) {\n          this.setState({ result, loading: false });\n          this.lastSearchTimestamp = searchTimestamp;\n        }\n      })\n      .catch((error) => {\n        reportSearchFailedQueryInteraction(this.state.eventTrackingNamespace, {\n          ...trackingInfo,\n          error: error?.message,\n        });\n        this.setState({ loading: false });\n      });\n  }\n\n  // This gets the possible tags from within the query results\n  getTagOptions = (): Promise<TermCount[]> => {\n    const query = this.lastQuery ?? {\n      kind: ['dashboard', 'folder'],\n      query: '*',\n    };\n    return getGrafanaSearcher().tags(query);\n  };\n\n  /**\n   * When item is selected clear some filters and report interaction\n   */\n  onSearchItemClicked = (e: React.MouseEvent<HTMLElement>) => {\n    reportSearchResultInteraction(this.state.eventTrackingNamespace, {\n      layout: this.state.layout,\n      starred: this.state.starred,\n      sortValue: this.state.sort,\n      query: this.state.query,\n      tagCount: this.state.tag?.length,\n      includePanels: this.state.includePanels,\n      deleted: this.state.deleted,\n    });\n  };\n\n  /**\n   * Caller should handle debounce\n   */\n  onReportSearchUsage = () => {\n    reportDashboardListViewed(this.state.eventTrackingNamespace, {\n      layout: this.state.layout,\n      starred: this.state.starred,\n      sortValue: this.state.sort,\n      query: this.state.query,\n      tagCount: this.state.tag?.length,\n      includePanels: this.state.includePanels,\n      deleted: this.state.deleted,\n    });\n  };\n}\n\nlet stateManager: SearchStateManager;\n\nexport function getSearchStateManager() {\n  if (!stateManager) {\n    const selectedLayout = localStorage.getItem(SEARCH_SELECTED_LAYOUT) as SearchLayout;\n    const layout = selectedLayout ?? initialState.layout;\n\n    let includePanels = store.getBool(SEARCH_PANELS_LOCAL_STORAGE_KEY, true);\n    if (includePanels) {\n      includePanels = false;\n    }\n\n    stateManager = new SearchStateManager({ ...initialState, layout, includePanels });\n  }\n\n  return stateManager;\n}\n\nexport function useSearchStateManager() {\n  const stateManager = getSearchStateManager();\n  const state = stateManager.useState();\n\n  return [state, stateManager] as const;\n}\n","import { contextSrv } from 'app/core/core';\nimport { AccessControlAction } from 'app/types/accessControl';\nimport { FolderDTO } from 'app/types/folders';\n\nfunction checkFolderPermission(action: AccessControlAction, folderDTO?: FolderDTO) {\n  return folderDTO ? contextSrv.hasPermissionInMetadata(action, folderDTO) : contextSrv.hasPermission(action);\n}\n\nfunction checkCanCreateFolders(folderDTO?: FolderDTO) {\n  return checkFolderPermission(AccessControlAction.FoldersCreate, folderDTO);\n}\n\nexport function getFolderPermissions(folderDTO?: FolderDTO) {\n  const canCreateDashboards = checkFolderPermission(AccessControlAction.DashboardsCreate, folderDTO);\n  const canCreateFolders = checkCanCreateFolders(folderDTO);\n  const canDeleteFolders = checkFolderPermission(AccessControlAction.FoldersDelete, folderDTO);\n  const canDeleteDashboards = checkFolderPermission(AccessControlAction.DashboardsDelete, folderDTO);\n  const canEditDashboards = checkFolderPermission(AccessControlAction.DashboardsWrite, folderDTO);\n  const canEditFolders = checkFolderPermission(AccessControlAction.FoldersWrite, folderDTO);\n  const canSetPermissions = checkFolderPermission(AccessControlAction.FoldersPermissionsWrite, folderDTO);\n  const canViewPermissions = checkFolderPermission(AccessControlAction.FoldersPermissionsRead, folderDTO);\n\n  return {\n    canCreateDashboards,\n    canCreateFolders,\n    canDeleteFolders,\n    canEditDashboards,\n    canEditFolders,\n    canSetPermissions,\n    canViewPermissions,\n    canDeleteDashboards,\n  };\n}\n","import { ReactNode, useCallback } from 'react';\n\nimport { DataFrameView, toDataFrame } from '@grafana/data';\nimport { Trans, t } from '@grafana/i18n';\nimport { Button, EmptyState } from '@grafana/ui';\nimport { useKeyNavigationListener } from 'app/features/search/hooks/useSearchKeyboardSelection';\nimport { SearchResultsProps, SearchResultsTable } from 'app/features/search/page/components/SearchResultsTable';\nimport { SearchStateManager } from 'app/features/search/state/SearchStateManager';\nimport { DashboardViewItemKind, SearchState } from 'app/features/search/types';\nimport { useDispatch, useSelector } from 'app/types/store';\n\nimport { useHasSelection } from '../state/hooks';\nimport { setAllSelection, setItemSelectionState } from '../state/slice';\nimport { BrowseDashboardsPermissions } from '../types';\n\nimport { canEditItemType, canSelectItems } from './utils';\n\ninterface SearchViewProps {\n  height: number;\n  width: number;\n  permissions: BrowseDashboardsPermissions;\n  searchState: SearchState;\n  searchStateManager: SearchStateManager;\n  emptyState?: ReactNode;\n}\n\nconst NUM_PLACEHOLDER_ROWS = 25;\nconst initialLoadingView = {\n  view: new DataFrameView(\n    toDataFrame({\n      fields: [\n        { name: 'uid', display: true, values: Array(NUM_PLACEHOLDER_ROWS).fill(null) },\n        { name: 'kind', display: true, values: Array(NUM_PLACEHOLDER_ROWS).fill('dashboard') },\n        { name: 'name', display: true, values: Array(NUM_PLACEHOLDER_ROWS).fill('') },\n        { name: 'location', display: true, values: Array(NUM_PLACEHOLDER_ROWS).fill('') },\n        { name: 'tags', display: true, values: Array(NUM_PLACEHOLDER_ROWS).fill([]) },\n      ],\n      meta: {\n        custom: {\n          locationInfo: [],\n        },\n      },\n    })\n  ),\n  loadMoreItems: () => Promise.resolve(),\n  // this is key and controls whether to show the skeleton in generateColumns\n  isItemLoaded: () => false,\n  totalRows: NUM_PLACEHOLDER_ROWS,\n};\n\nexport function SearchView({\n  width,\n  height,\n  permissions,\n  searchState,\n  searchStateManager: stateManager,\n  emptyState: emptyStateProp,\n}: SearchViewProps) {\n  const dispatch = useDispatch();\n  const selectedItems = useSelector((wholeState) => wholeState.browseDashboards.selectedItems);\n  const hasSelection = useHasSelection();\n\n  const { keyboardEvents } = useKeyNavigationListener();\n\n  const value = searchState.result ?? initialLoadingView;\n\n  const selectionChecker = useCallback(\n    (kind: string | undefined, uid: string): boolean => {\n      if (!kind) {\n        return false;\n      }\n\n      // Check if user has permission to select this item type\n      if (!canEditItemType(kind, permissions)) {\n        return false;\n      }\n\n      // Currently, this indicates _some_ items are selected, not necessarily all are\n      // selected.\n      if (kind === '*' && uid === '*') {\n        return hasSelection;\n      } else if (kind === '*') {\n        // Unsure how this case can happen\n        return false;\n      }\n\n      return selectedItems[assertDashboardViewItemKind(kind)][uid] ?? false;\n    },\n    [selectedItems, hasSelection, permissions]\n  );\n\n  const clearSelection = useCallback(() => {\n    dispatch(setAllSelection({ isSelected: false, folderUID: undefined }));\n  }, [dispatch]);\n\n  const handleItemSelectionChange = useCallback(\n    (kind: string, uid: string) => {\n      if (!canEditItemType(kind, permissions)) {\n        return; // Cannot select this item\n      }\n\n      const newIsSelected = !selectionChecker(kind, uid);\n\n      dispatch(\n        setItemSelectionState({ item: { kind: assertDashboardViewItemKind(kind), uid }, isSelected: newIsSelected })\n      );\n    },\n    [selectionChecker, dispatch, permissions]\n  );\n\n  if (value.totalRows === 0) {\n    const emptyState = emptyStateProp ?? (\n      <EmptyState\n        button={\n          <Button variant=\"secondary\" onClick={stateManager.onClearSearchAndFilters}>\n            <Trans i18nKey=\"browse-dashboards.no-results.clear\">Clear search and filters</Trans>\n          </Button>\n        }\n        message={t('browse-dashboards.no-results.text', 'No results found for your query')}\n        variant=\"not-found\"\n        role=\"alert\"\n      />\n    );\n\n    return <div style={{ width }}>{emptyState}</div>;\n  }\n\n  const canSelect = canSelectItems(permissions);\n  const props: SearchResultsProps = {\n    response: value,\n    selection: canSelect ? selectionChecker : undefined,\n    selectionToggle: canSelect ? handleItemSelectionChange : undefined,\n    clearSelection,\n    width: width,\n    height: height,\n    onTagSelected: stateManager.onAddTag,\n    keyboardEvents,\n    onDatasourceChange: searchState.datasource ? stateManager.onDatasourceChange : undefined,\n    onClickItem: stateManager.onSearchItemClicked,\n  };\n\n  return <SearchResultsTable {...props} />;\n}\n\nfunction assertDashboardViewItemKind(kind: string): DashboardViewItemKind {\n  switch (kind) {\n    case 'folder':\n      return 'folder';\n    case 'dashboard':\n      return 'dashboard';\n    case 'panel':\n      return 'panel';\n  }\n\n  throw new Error('Unsupported kind' + kind);\n}\n"],"names":["TrashStateManager","SearchStateManager","deletedHits","deletedDashboardsCache","tagCounts","hit","tag","term","count","a","b","error","state","sort","query","tags","clearResults","recentlyDeletedStateManager","getRecentlyDeletedStateManager","useRecentlyDeletedStateManager","stateManager","RestoreModal","onConfirm","onDismiss","selectedDashboards","dashboardOrigin","isLoading","props","restoreTarget","setRestoreTarget","originalLocation","numberOfDashboards","onRestore","ConfirmModal","Text","Space","FolderPicker","RecentlyDeletedActions","dispatch","selectedItemsState","searchState","deletedDashboards","restoreDashboard","isRestoreLoading","_","selected","uid","selectedDashboardOrigin","selectedDashboard","index","e","location","fixedLocation","onActionComplete","resultsView","promises","dashboard","d","copy","parentUIDs","foundItem","v","folderUID","showRestoreModal","Stack","Button","RecentlyDeletedEmptyState","userIsSearching","EmptyState","RecentlyDeletedPage","styles","getStyles","hasSelection","canEditFolders","canEditDashboards","canDeleteFolders","canDeleteDashboards","permissions","Page","FilterInput","ActionRow","width","height","SearchView","theme","getLayoutOptions","getValidQueryLayout","q","layout","showStarredFilter","showLayout","sortPlaceholder","onLayoutChange","onSortChange","onStarredFilterChange","onTagFilterChange","getTagOptions","getSortOptions","onDatasourceChange","onPanelTypeChange","onSetIncludePanels","disabledOptions","change","initialState","defaultQueryParams","getLocalStorageLayout","tagToRemove","newTag","datasource","panel_type","starred","includePanels","folderUid","doInitialSearch","stateFromUrl","prevSort","trackingInfo","searcher","searchTimestamp","result","getSearchStateManager","useSearchStateManager","checkFolderPermission","action","folderDTO","checkCanCreateFolders","getFolderPermissions","canCreateDashboards","canCreateFolders","canSetPermissions","canViewPermissions","NUM_PLACEHOLDER_ROWS","initialLoadingView","emptyStateProp","selectedItems","wholeState","keyboardEvents","value","selectionChecker","kind","assertDashboardViewItemKind","clearSelection","handleItemSelectionChange","newIsSelected","emptyState","canSelect"],"sourceRoot":""}