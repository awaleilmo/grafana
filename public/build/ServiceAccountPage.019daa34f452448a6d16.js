"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[6576],{9390:(ne,I,t)=>{t.d(I,{r:()=>p});var e=t(74848),v=t(90382),h=t(92745),O=t(18857);const o=Object.values(v.X).filter(r=>r!==v.X.None).map(r=>({label:r,value:r}));function p({value:r,onChange:g,"aria-label":D,inputId:d,autoFocus:u,...m}){return(0,e.jsx)(O.l6,{inputId:d,value:r,options:o,onChange:B=>g(B.value??v.X.None),placeholder:(0,h.t)("admin.org-role-picker.placeholder-choose-role","Choose role..."),"aria-label":D,autoFocus:u,...m})}},18079:(ne,I,t)=>{t.d(I,{z:()=>F});var e=t(74848),v=t(22803),h=t(96540),O=t(24726),l=t(92745),o=t(43173),p=t(47931),r=t(43482),g=t(22787),D=t(45861),d=t(37386),u=t(77824),m=t(63527),B=t(63142);const N=[{label:"No expiration",value:!1},{label:"Set expiration date",value:!0}],F=({isOpen:E,token:a,serviceAccountLogin:c,onCreateToken:K,onClose:M})=>{const P=new Date;P.setDate(P.getDate()+1);const R=new Date;o.$.tokenExpirationDayLimit!==void 0&&o.$.tokenExpirationDayLimit>-1?R.setDate(R.getDate()+o.$.tokenExpirationDayLimit+1):R.setDate(864e13);const b=o.$.tokenExpirationDayLimit!==void 0&&o.$.tokenExpirationDayLimit>0,[y,W]=(0,h.useState)(""),[L,w]=(0,h.useState)(""),[S,te]=(0,h.useState)(b),[J,se]=(0,h.useState)(P),[oe,H]=(0,h.useState)(J!==""),_=(0,B.of)(x);(0,h.useEffect)(()=>{E&&W(`${c}-${(0,O.A)()}`)},[c,E]);const de=X=>{H(X!==""),se(X)},ae=()=>{K({name:L||y,secondsToLive:S?V(J):void 0})},q=()=>{w(""),W(""),te(b),se(P),H(J!==""),M()},ue=a?"Service account token created":"Add service account token";return(0,e.jsx)(g.a,{isOpen:E,title:ue,onDismiss:q,className:_.modal,children:a?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(d.D,{label:(0,l.t)("serviceaccounts.create-token-modal.label-token","Token"),description:(0,l.t)("serviceaccounts.create-token-modal.description-token","Copy the token now as you will not be able to see it again. Losing a token requires creating a new one."),children:(0,e.jsxs)("div",{className:_.modalTokenRow,children:[(0,e.jsx)(m.p,{name:"tokenValue",value:a,readOnly:!0}),(0,e.jsx)(p.b,{className:_.modalCopyToClipboardButton,variant:"primary",size:"md",icon:"copy",getText:()=>a,children:(0,e.jsx)(l.x6,{i18nKey:"serviceaccounts.create-token-modal.copy-clipboard",children:"Copy to clipboard"})})]})}),(0,e.jsxs)(g.a.ButtonRow,{children:[(0,e.jsx)(p.b,{variant:"primary",getText:()=>a,onClipboardCopy:q,children:(0,e.jsx)(l.x6,{i18nKey:"serviceaccounts.create-token-modal.copy-to-clipboard-and-close",children:"Copy to clipboard and close"})}),(0,e.jsx)(D.$n,{variant:"secondary",onClick:q,children:(0,e.jsx)(l.x6,{i18nKey:"serviceaccounts.create-token-modal.close",children:"Close"})})]})]}):(0,e.jsxs)("div",{children:[(0,e.jsx)(d.D,{label:(0,l.t)("serviceaccounts.create-token-modal.label-display-name","Display name"),description:(0,l.t)("serviceaccounts.create-token-modal.description-name-to-easily-identify-the-token","Name to easily identify the token"),required:!0,children:(0,e.jsx)(m.p,{name:"tokenName",value:L,placeholder:y,onChange:X=>{w(X.currentTarget.value)}})}),(0,e.jsx)(d.D,{label:(0,l.t)("serviceaccounts.create-token-modal.label-expiration","Expiration"),children:(0,e.jsx)(u.z,{options:N,value:S,onChange:te,size:"md"})}),S&&(0,e.jsx)(d.D,{label:(0,l.t)("serviceaccounts.create-token-modal.label-expiration-date","Expiration date"),children:(0,e.jsx)(r.l,{onChange:de,value:J,placeholder:"",minDate:P,maxDate:R})}),(0,e.jsx)(g.a.ButtonRow,{children:(0,e.jsx)(D.$n,{onClick:ae,disabled:S&&!oe,children:(0,e.jsx)(l.x6,{i18nKey:"serviceaccounts.create-token-modal.generate-token",children:"Generate token"})})})]})})},V=E=>{const a=new Date(E),c=new Date;return Math.ceil((a.getTime()-c.getTime())/1e3)},x=E=>({modal:(0,v.css)({width:"550px"}),modalTokenRow:(0,v.css)({display:"flex"}),modalCopyToClipboardButton:(0,v.css)({marginLeft:E.spacing(.5)})})},76031:(ne,I,t)=>{t.d(I,{W4:()=>B,iJ:()=>d,mV:()=>m,nM:()=>V,pJ:()=>D,qS:()=>x,yC:()=>N,yd:()=>E});var e=t(2543),v=t.n(e),h=t(68143),O=t(34418),l=t(15130),o=t(11257),p=t(92654),r=t(13640);const g="/api/serviceaccounts";function D(){return async a=>{try{if(l.TP.licensedAccessControlEnabled()&&l.TP.hasPermission(o.w.ActionRolesList)){const c=await(0,O.RL)();a((0,r.ew)(c))}}catch(c){console.error(c)}}}function d({withLoadingIndicator:a}={withLoadingIndicator:!1}){return async(c,K)=>{try{if(l.TP.hasPermission(o.w.ServiceAccountsRead)){a&&c((0,r.FW)());const{perPage:M,page:P,query:R,serviceAccountStateFilter:b}=K().serviceAccounts,y=await(0,h.AI)().get(`/api/serviceaccounts/search?perpage=${M}&page=${P}&query=${R}${F(b)}&accesscontrol=true`);if(l.TP.licensedAccessControlEnabled()&&l.TP.hasPermission(o.w.ActionUserRolesList)){c((0,r.dJ)());const W=l.TP.user.orgId,L=y?.serviceAccounts.map(S=>S.id),w=await(0,h.AI)().post("/api/access-control/users/roles/search",{userIds:L,orgId:W});y.serviceAccounts.forEach(S=>{S.roles=w?w[S.id]||[]:[]}),c((0,r.jE)())}c((0,r.zh)(y))}}catch(M){console.error(M)}finally{c((0,r.Yh)())}}}const u=(0,e.debounce)(a=>a(d()),500,{leading:!0});function m(a){return async c=>{await(0,h.AI)().patch(`${g}/${a.uid}?accesscontrol=true`,{...a}),c(d())}}function B(a){return async c=>{await(0,h.AI)().delete(`${g}/${a}`),c(d())}}function N(a,c,K){return async M=>{const P=await(0,h.AI)().post(`${g}/${a}/tokens`,c);K(P.key),M(d())}}const F=a=>{switch(a){case p.i.WithExpiredTokens:return"&expiredTokens=true";case p.i.Disabled:return"&disabled=true";case p.i.External:return"&external=true";default:return""}};function V(a){return async c=>{c((0,r.L5)(a)),u(c)}}function x(a){return async c=>{c((0,r.c3)(a)),c(d())}}function E(a){return async c=>{c((0,r.EC)(a)),c(d())}}},88468:(ne,I,t)=>{t.r(I),t.d(I,{ServiceAccountPageUnconnected:()=>pe,default:()=>be});var e=t(74848),v=t(96540),h=t(71468),O=t(54148),l=t(60188),o=t(92745),p=t(41654),r=t(45861),g=t(76319),D=t(71599),d=t(13791),u=t(73427),m=t(11257),B=t(54384),N=t(15130);const F=n=>{const s=N.TP.hasPermissionInMetadata(m.w.ServiceAccountsPermissionsWrite,n.serviceAccount);return(0,e.jsx)(B.x,{title:(0,o.t)("serviceaccounts.service-account-permissions.title-permissions","Permissions"),addPermissionTitle:"Add permission",buttonLabel:"Add permission",resource:"serviceaccounts",resourceId:n.serviceAccount.uid,canSetPermissions:s})};var V=t(18079),x=t(22803),E=t(80011),a=t(63142),c=t(72636),K=t(89640),M=t(34418),P=t(32581),R=t(63527),b=t(7075);const y=({label:n,value:s,inputType:i,disabled:j,onChange:T})=>{const A=(0,v.useRef)(null),[f,k]=(0,v.useState)(s),[$,C]=(0,v.useState)(!1),Q=(0,a.of)(W),ee=`${n}-input`;(0,v.useEffect)(()=>{$&&Ee()},[$]);const xe=()=>{C(!0)},re=()=>{C(!1),k(s||"")},he=(z,Z)=>{Z!==P.O.Invalid&&k(z.target.value)},me=(z,Z)=>{Z!==P.O.Invalid&&k(z.target.value)},Ee=()=>{A?.current?.focus()},le=()=>{C(!1),T&&T(f)};return(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)(c.J,{htmlFor:ee,children:n})}),(0,e.jsx)("td",{className:"width-25",colSpan:2,children:!j&&$?(0,e.jsx)(R.p,{id:ee,type:i,defaultValue:s,onBlur:me,onChange:he,ref:A,width:30}):(0,e.jsx)("span",{className:(0,x.cx)({[Q.disabled]:j}),children:s})}),(0,e.jsx)("td",{children:T&&(0,e.jsx)(b.Z,{closeOnConfirm:!0,confirmText:(0,o.t)("serviceaccounts.service-account-profile-row.confirmText-save","Save"),onConfirm:le,onClick:xe,onCancel:re,disabled:j,children:(0,o.t)("serviceaccounts.service-account-profile-row.edit","Edit")})})]})},W=n=>({disabled:(0,x.css)({color:n.colors.text.secondary})});var L=t(91087),w=t(9390);const S=({label:n,serviceAccount:s,roleOptions:i,onRoleChange:j})=>{const T=`${n}-input`,A=u.TP.hasPermissionInMetadata(m.w.ServiceAccountsWrite,s);return(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)(c.J,{htmlFor:T,children:n})}),u.TP.licensedAccessControlEnabled()?(0,e.jsx)("td",{colSpan:3,children:(0,e.jsx)(L.y,{userId:s.id,orgId:s.orgId,basicRole:s.role,onBasicRoleChange:j,roleOptions:i,basicRoleDisabled:!A,disabled:s.isExternal||s.isDisabled})}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("td",{children:(0,e.jsx)(w.r,{width:24,inputId:T,"aria-label":(0,o.t)("serviceaccounts.service-account-role-row.aria-label-role","Role"),value:s.role,disabled:s.isExternal||s.isDisabled,onChange:j})}),(0,e.jsx)("td",{colSpan:2})]})]})};function te({serviceAccount:n,timeZone:s,onChange:i}){const j=(0,a.of)(J),T=u.TP.hasPermission(m.w.ServiceAccountsWrite),[A,f]=(0,v.useState)([]),k=C=>{i({...n,role:C})},$=C=>{i({...n,name:C})};return(0,v.useEffect)(()=>{async function C(){try{if(u.TP.hasPermission(m.w.ActionRolesList)){let Q=await(0,M.RL)(n.orgId);f(Q)}}catch{console.error("Error loading options for service account")}}u.TP.licensedAccessControlEnabled()&&C()},[n.orgId]),(0,e.jsxs)("div",{className:j.section,children:[(0,e.jsx)("h3",{children:(0,e.jsx)(o.x6,{i18nKey:"serviceaccounts.service-account-profile.information",children:"Information"})}),(0,e.jsx)("table",{className:"filter-table",children:(0,e.jsxs)("tbody",{children:[n.id&&(0,e.jsx)(y,{label:(0,o.t)("serviceaccounts.service-account-profile.label-numerical-identifier","Numerical identifier"),value:n.id.toString(),disabled:!0}),(0,e.jsx)(y,{label:(0,o.t)("serviceaccounts.service-account-profile.label-name","Name"),value:n.name,onChange:n.isExternal?void 0:$,disabled:!T||n.isDisabled}),(0,e.jsx)(y,{label:(0,o.t)("serviceaccounts.service-account-profile.label-id","ID"),value:n.login,disabled:n.isDisabled}),(0,e.jsx)(S,{label:(0,o.t)("serviceaccounts.service-account-profile.label-roles","Roles"),serviceAccount:n,onRoleChange:k,roleOptions:A}),(0,e.jsx)(y,{label:(0,o.t)("serviceaccounts.service-account-profile.label-creation-date","Creation date"),value:(0,E.LE)(n.createdAt,{timeZone:s}),disabled:n.isDisabled}),n.isExternal&&n.requiredBy&&(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)(c.J,{children:(0,e.jsx)(o.x6,{i18nKey:"serviceaccounts.service-account-profile.used-by",children:"Used by"})})}),(0,e.jsx)("td",{children:(0,e.jsx)(K.Y,{href:`/plugins/${n.requiredBy}`,children:n.requiredBy})})]})]})})]})}const J=n=>({section:(0,x.css)({marginBottom:n.spacing(4)})});var se=t(44458),oe=t(45967),H=t(30703);const _=({tokens:n,timeZone:s,tokenActionsDisabled:i,onDelete:j})=>{const T=(0,a.$j)(),A=ce(T);return(0,e.jsxs)("table",{className:(0,x.cx)(A.section,"filter-table"),children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{children:(0,e.jsx)(o.x6,{i18nKey:"serviceaccounts.service-account-tokens-table.name",children:"Name"})}),(0,e.jsx)("th",{children:(0,e.jsx)(o.x6,{i18nKey:"serviceaccounts.service-account-tokens-table.expires",children:"Expires"})}),(0,e.jsx)("th",{children:(0,e.jsx)(o.x6,{i18nKey:"serviceaccounts.service-account-tokens-table.created",children:"Created"})}),(0,e.jsx)("th",{children:(0,e.jsx)(o.x6,{i18nKey:"serviceaccounts.service-account-tokens-table.last-used-at",children:"Last used at"})}),(0,e.jsx)("th",{}),(0,e.jsx)("th",{})]})}),(0,e.jsx)("tbody",{children:n.map(f=>(0,e.jsxs)("tr",{className:A.tableRow(f.hasExpired||f.isRevoked),children:[(0,e.jsx)("td",{children:f.name}),(0,e.jsx)("td",{children:(0,e.jsx)(X,{timeZone:s,token:f})}),(0,e.jsx)("td",{children:ae(s,f.created)}),(0,e.jsx)("td",{children:de(s,f.lastUsedAt)}),(0,e.jsx)("td",{className:"width-1 text-center",children:f.isRevoked&&(0,e.jsx)(ue,{})}),(0,e.jsx)("td",{children:(0,e.jsx)(se.e,{"aria-label":(0,o.t)("serviceaccounts.service-account-tokens-table.aria-label-delete-button","Delete service account token {{key}}",{key:f.name}),size:"sm",onConfirm:()=>j(f),disabled:i})})]},f.id))})]})};function de(n,s){return s?(0,E.LE)(s,{timeZone:n}):"Never"}function ae(n,s){return s?(0,E.LE)(s,{timeZone:n}):"No expiration date"}function q(n){const s=Math.ceil(n/86400);return`Expires in ${s>1?`${s} days`:`${s} day`}`}const ue=()=>{const n=(0,a.of)(ce);return(0,e.jsxs)("span",{className:n.hasExpired,children:[(0,e.jsx)(o.x6,{i18nKey:"serviceaccounts.token-revoked.revoked-label",children:"Revoked"}),(0,e.jsx)("span",{className:n.tooltipContainer,children:(0,e.jsx)(oe.m,{content:(0,o.t)("serviceaccounts.token-revoked.content-token-publicly-exposed-please-rotate","This token has been publicly exposed. Please rotate this token"),children:(0,e.jsx)(H.I,{name:"exclamation-triangle",className:n.toolTipIcon})})})]})},X=({timeZone:n,token:s})=>{const i=(0,a.of)(ce);return s.expiration?s.secondsUntilExpiration?(0,e.jsx)("span",{className:i.secondsUntilExpiration,children:q(s.secondsUntilExpiration)}):s.hasExpired?(0,e.jsxs)("span",{className:i.hasExpired,children:[(0,e.jsx)(o.x6,{i18nKey:"serviceaccounts.token-expiration.expired-label",children:"Expired"}),(0,e.jsx)("span",{className:i.tooltipContainer,children:(0,e.jsx)(oe.m,{content:(0,o.t)("serviceaccounts.token-expiration.content-this-token-has-expired","This token has expired"),children:(0,e.jsx)(H.I,{name:"exclamation-triangle",className:i.toolTipIcon})})})]}):(0,e.jsx)("span",{children:ae(n,s.expiration)}):(0,e.jsx)("span",{className:i.neverExpire,children:(0,e.jsx)(o.x6,{i18nKey:"serviceaccounts.token-expiration.never",children:"Never"})})},ce=n=>({tableRow:s=>(0,x.css)({color:s?n.colors.text.secondary:n.colors.text.primary}),tooltipContainer:(0,x.css)({marginLeft:n.spacing(1)}),toolTipIcon:(0,x.css)({color:n.colors.error.text}),secondsUntilExpiration:(0,x.css)({color:n.colors.warning.text}),hasExpired:(0,x.css)({color:n.colors.error.text}),neverExpire:(0,x.css)({color:n.colors.text.secondary}),section:(0,x.css)({marginBottom:n.spacing(4)})});var Te=t(76031),Y=t(68143),ge=t(36490),ye=t(81871),ie=t(13640);const G="/api/serviceaccounts";function fe(n){return async s=>{s((0,ie.G3)());try{const i=await(0,Y.AI)().get(`${G}/${n}`,(0,ye.F)());s((0,ie.QM)(i))}catch(i){console.error(i)}finally{s((0,ie.aD)())}}}function Ce(n){return async s=>{await(0,Y.AI)().patch(`${G}/${n.uid}?accesscontrol=true`,{...n}),s(fe(n.uid))}}function Oe(n){return async()=>{await(0,Y.AI)().delete(`${G}/${n}`),ge.Ny.push("/org/serviceaccounts")}}function Me(n,s,i){return async j=>{const T=await(0,Y.AI)().post(`${G}/${n}/tokens`,s);i(T.key),j(ve(n))}}function Se(n,s){return async i=>{await(0,Y.AI)().delete(`${G}/${n}/tokens/${s}`),i(ve(n))}}function ve(n){return async s=>{try{const i=await(0,Y.AI)().get(`${G}/${n}/tokens`);s((0,ie.ch)(i))}catch(i){console.error(i)}}}function Ae(n){return{serviceAccount:n.serviceAccountProfile.serviceAccount,tokens:n.serviceAccountProfile.tokens,isLoading:n.serviceAccountProfile.isLoading,timezone:(0,l.O)(n.user)}}const Ie={createServiceAccountToken:Me,deleteServiceAccount:Oe,deleteServiceAccountToken:Se,loadServiceAccount:fe,loadServiceAccountTokens:ve,updateServiceAccount:Ce},Re=(0,h.connect)(Ae,Ie),pe=({serviceAccount:n,tokens:s,timezone:i,isLoading:j,createServiceAccountToken:T,deleteServiceAccount:A,deleteServiceAccountToken:f,loadServiceAccount:k,loadServiceAccountTokens:$,updateServiceAccount:C})=>{const[Q,ee]=(0,v.useState)(""),[xe,re]=(0,v.useState)(!1),[he,me]=(0,v.useState)(!1),[Ee,le]=(0,v.useState)(!1),{id:z=""}=(0,O.g)(),Z=n.isDisabled||n.isExternal||!u.TP.hasPermission(m.w.ServiceAccountsWrite),De=u.TP.hasPermission(m.w.ServiceAccountsWrite),Le=u.TP.hasPermissionInMetadata(m.w.ServiceAccountsPermissionsRead,n),Be={text:n.name,img:n.avatarUrl,subTitle:(0,o.t)("serviceaccounts.service-account-page-unconnected.page-nav.subTitle.manage-settings-individual-service-account","Manage settings for an individual service account.")};(0,v.useEffect)(()=>{k(z),$(z),u.TP.licensedAccessControlEnabled()&&(0,Te.pJ)()},[k,$,z]);const Ke=U=>{C(U)},Pe=U=>()=>{me(U)},je=U=>()=>{le(U)},Ue=()=>{A(n.uid)},We=()=>{C({...n,isDisabled:!0}),le(!1)},ke=()=>{C({...n,isDisabled:!1})},$e=U=>{f(n?.uid,U.id)},Ne=U=>{T(n?.uid,U,ee)},Fe=()=>{re(!1),ee("")};return(0,e.jsx)(d.Y,{navId:"serviceaccounts",pageNav:Be,children:(0,e.jsxs)(d.Y.Contents,{isLoading:j,children:[(0,e.jsxs)("div",{children:[n&&!n.isExternal&&(0,e.jsxs)(p.B,{gap:2,height:"auto",justifyContent:"flex-end",children:[(0,e.jsx)(r.$n,{type:"button",variant:"destructive",onClick:Pe(!0),disabled:!u.TP.hasPermission(m.w.ServiceAccountsDelete),children:(0,e.jsx)(o.x6,{i18nKey:"serviceaccounts.service-account-page-unconnected.delete-service-account",children:"Delete service account"})}),n.isDisabled?(0,e.jsx)(r.$n,{type:"button",variant:"secondary",onClick:ke,disabled:!De,children:(0,e.jsx)(o.x6,{i18nKey:"serviceaccounts.service-account-page-unconnected.enable-service-account",children:"Enable service account"})}):(0,e.jsx)(r.$n,{type:"button",variant:"secondary",onClick:je(!0),disabled:!De,children:(0,e.jsx)(o.x6,{i18nKey:"serviceaccounts.service-account-page-unconnected.disable-service-account",children:"Disable service account"})})]}),n&&n.isExternal&&(0,e.jsx)(p.B,{gap:2,height:"auto",justifyContent:"flex-end",children:(0,e.jsx)(g.K,{disabled:!0,name:"lock",size:"md",tooltip:(0,o.t)("serviceaccounts.service-account-page-unconnected.tooltip-managed-service-account-cannot-modified","This is a managed service account and cannot be modified")})}),n&&(0,e.jsx)(te,{serviceAccount:n,timeZone:i,onChange:Ke}),(0,e.jsxs)(p.B,{justifyContent:"space-between",height:"auto",children:[(0,e.jsx)("h3",{children:(0,e.jsx)(o.x6,{i18nKey:"serviceaccounts.service-account-page-unconnected.tokens",children:"Tokens"})}),!n.isExternal&&(0,e.jsx)(r.$n,{onClick:()=>re(!0),disabled:Z,icon:"plus",children:(0,e.jsx)(o.x6,{i18nKey:"serviceaccounts.service-account-page-unconnected.add-service-account-token",children:"Add service account token"})},"add-service-account-token")]}),s&&(0,e.jsx)(_,{tokens:s,timeZone:i,onDelete:$e,tokenActionsDisabled:Z}),!n.isExternal&&Le&&(0,e.jsx)(F,{serviceAccount:n})]}),(0,e.jsx)(D.u,{isOpen:he,title:(0,o.t)("serviceaccounts.service-account-page-unconnected.title-delete-service-account","Delete service account"),body:(0,o.t)("serviceaccounts.service-account-page-unconnected.body-delete-service-account","Are you sure you want to delete this service account?"),confirmText:(0,o.t)("serviceaccounts.service-account-page-unconnected.confirmText-delete-service-account","Delete service account"),onConfirm:Ue,onDismiss:Pe(!1)}),(0,e.jsx)(D.u,{isOpen:Ee,title:(0,o.t)("serviceaccounts.service-account-page-unconnected.title-disable-service-account","Disable service account"),body:(0,o.t)("serviceaccounts.service-account-page-unconnected.body-disable-service-account","Are you sure you want to disable this service account?"),confirmText:(0,o.t)("serviceaccounts.service-account-page-unconnected.confirmText-disable-service-account","Disable service account"),onConfirm:We,onDismiss:je(!1)}),(0,e.jsx)(V.z,{isOpen:xe,token:Q,serviceAccountLogin:n.login,onCreateToken:Ne,onClose:Fe})]})})},be=Re(pe)},91087:(ne,I,t)=>{t.d(I,{y:()=>r});var e=t(74848),v=t(96540),h=t(41053),O=t(73427),l=t(11257),o=t(59812),p=t(34418);const r=({basicRole:g,roles:D,userId:d,orgId:u,onBasicRoleChange:m,roleOptions:B,disabled:N,basicRoleDisabled:F,basicRoleDisabledMessage:V,apply:x=!1,onApplyRoles:E,pendingRoles:a,maxWidth:c,width:K,isLoading:M})=>{const[{loading:P,value:R=D||[]},b]=(0,h.A)(async()=>{try{if(D)return D;if(x&&a?.length)return a;if(O.TP.hasPermission(l.w.ActionUserRolesList)&&d>0)return await(0,p.Xh)(d,u)}catch{console.error("Error loading options")}return[]},[u,d,a,D]);(0,v.useEffect)(()=>{u&&b()},[b,u]);const y=async L=>{x?E&&E(L,d,u):(await(0,p.eA)(L,d,u),await b())},W=O.TP.hasPermission(l.w.ActionUserRolesAdd)&&O.TP.hasPermission(l.w.ActionUserRolesRemove);return(0,e.jsx)(o.n,{appliedRoles:R,basicRole:g,onRolesChange:y,onBasicRoleChange:m,roleOptions:B,isLoading:P||M,disabled:N,basicRoleDisabled:F,basicRoleDisabledMessage:V,showBasicRole:!0,apply:x,canUpdateRoles:W,maxWidth:c,width:K})}}}]);

//# sourceMappingURL=ServiceAccountPage.019daa34f452448a6d16.js.map