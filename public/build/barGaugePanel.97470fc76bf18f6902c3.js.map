{"version":3,"file":"barGaugePanel.97470fc76bf18f6902c3.js","mappings":"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","sources":["webpack://grafana/./public/app/plugins/panel/bargauge/BarGaugeMigrations.ts","webpack://grafana/./public/app/plugins/panel/bargauge/suggestions.ts","webpack://grafana/./public/app/plugins/panel/bargauge/module.tsx"],"sourcesContent":["import { PanelModel } from '@grafana/data';\nimport { sharedSingleStatMigrationHandler } from '@grafana/ui';\n\nimport { Options } from './panelcfg.gen';\n\nexport const barGaugePanelMigrationHandler = (panel: PanelModel<Options>): Partial<Options> => {\n  return sharedSingleStatMigrationHandler(panel);\n};\n","import { VisualizationSuggestionsBuilder, VizOrientation } from '@grafana/data';\nimport { BarGaugeDisplayMode } from '@grafana/ui';\nimport { SuggestionName } from 'app/types/suggestions';\n\nimport { Options } from './panelcfg.gen';\n\nexport class BarGaugeSuggestionsSupplier {\n  getSuggestionsForData(builder: VisualizationSuggestionsBuilder) {\n    const { dataSummary } = builder;\n\n    if (!dataSummary.hasData || !dataSummary.hasNumberField) {\n      return;\n    }\n\n    const list = builder.getListAppender<Options, {}>({\n      name: '',\n      pluginId: 'bargauge',\n      options: {},\n      fieldConfig: {\n        defaults: {\n          custom: {},\n        },\n        overrides: [],\n      },\n    });\n\n    // This is probably not a good option for many numeric fields\n    if (dataSummary.numberFieldCount > 50) {\n      return;\n    }\n\n    // To use show individual row values we also need a string field to give each value a name\n    if (dataSummary.hasStringField && dataSummary.frameCount === 1 && dataSummary.rowCountTotal < 30) {\n      list.append({\n        name: SuggestionName.BarGaugeBasic,\n        options: {\n          reduceOptions: {\n            values: true,\n            calcs: [],\n          },\n          displayMode: BarGaugeDisplayMode.Basic,\n          orientation: VizOrientation.Horizontal,\n        },\n        fieldConfig: {\n          defaults: {\n            color: {\n              mode: 'continuous-GrYlRd',\n            },\n          },\n          overrides: [],\n        },\n      });\n\n      list.append({\n        name: SuggestionName.BarGaugeLCD,\n        options: {\n          reduceOptions: {\n            values: true,\n            calcs: [],\n          },\n          displayMode: BarGaugeDisplayMode.Lcd,\n          orientation: VizOrientation.Horizontal,\n        },\n        fieldConfig: {\n          defaults: {\n            color: {\n              mode: 'continuous-GrYlRd',\n            },\n          },\n          overrides: [],\n        },\n      });\n    } else {\n      list.append({\n        name: SuggestionName.BarGaugeBasic,\n        options: {\n          displayMode: BarGaugeDisplayMode.Basic,\n          orientation: VizOrientation.Horizontal,\n          reduceOptions: {\n            values: false,\n            calcs: ['lastNotNull'],\n          },\n        },\n        fieldConfig: {\n          defaults: {\n            color: {\n              mode: 'continuous-GrYlRd',\n            },\n          },\n          overrides: [],\n        },\n      });\n\n      list.append({\n        name: SuggestionName.BarGaugeLCD,\n        options: {\n          displayMode: BarGaugeDisplayMode.Lcd,\n          orientation: VizOrientation.Horizontal,\n          reduceOptions: {\n            values: false,\n            calcs: ['lastNotNull'],\n          },\n        },\n        fieldConfig: {\n          defaults: {\n            color: {\n              mode: 'continuous-GrYlRd',\n            },\n          },\n          overrides: [],\n        },\n      });\n    }\n  }\n}\n","import { PanelPlugin, VizOrientation } from '@grafana/data';\nimport { t } from '@grafana/i18n';\nimport { BarGaugeDisplayMode, BarGaugeNamePlacement, BarGaugeSizing, BarGaugeValueMode } from '@grafana/schema';\nimport { commonOptionsBuilder, sharedSingleStatPanelChangedHandler } from '@grafana/ui';\n\nimport { addOrientationOption, addStandardDataReduceOptions } from '../stat/common';\n\nimport { barGaugePanelMigrationHandler } from './BarGaugeMigrations';\nimport { BarGaugePanel } from './BarGaugePanel';\nimport { Options, defaultOptions } from './panelcfg.gen';\nimport { BarGaugeSuggestionsSupplier } from './suggestions';\n\nexport const plugin = new PanelPlugin<Options>(BarGaugePanel)\n  .useFieldConfig()\n  .setPanelOptions((builder) => {\n    const category = [t('bargauge.category-bar-gauge', 'Bar gauge')];\n    addStandardDataReduceOptions(builder);\n    addOrientationOption(builder, category);\n    commonOptionsBuilder.addLegendOptions(builder, true, false);\n    commonOptionsBuilder.addTextSizeOptions(builder);\n\n    builder\n      .addRadio({\n        path: 'displayMode',\n        name: t('bargauge.name-display-mode', 'Display mode'),\n        category,\n        settings: {\n          options: [\n            {\n              value: BarGaugeDisplayMode.Gradient,\n              label: t('bargauge.display-mode-options.label-gradient', 'Gradient'),\n            },\n            { value: BarGaugeDisplayMode.Lcd, label: t('bargauge.display-mode-options.label-retro', 'Retro LCD') },\n            { value: BarGaugeDisplayMode.Basic, label: t('bargauge.display-mode-options.label-basic', 'Basic') },\n          ],\n        },\n        defaultValue: defaultOptions.displayMode,\n      })\n      .addRadio({\n        path: 'valueMode',\n        name: t('bargauge.name-value-display', 'Value display'),\n        category,\n        settings: {\n          options: [\n            {\n              value: BarGaugeValueMode.Color,\n              label: t('bargauge.value-display-options.label-value-color', 'Value color'),\n            },\n            {\n              value: BarGaugeValueMode.Text,\n              label: t('bargauge.value-display-options.label-text-color', 'Text color'),\n            },\n            { value: BarGaugeValueMode.Hidden, label: t('bargauge.value-display-options.label-hidden', 'Hidden') },\n          ],\n        },\n        defaultValue: defaultOptions.valueMode,\n      })\n      .addRadio({\n        path: 'namePlacement',\n        name: t('bargauge.name-name-placement', 'Name placement'),\n        category,\n        settings: {\n          options: [\n            { value: BarGaugeNamePlacement.Auto, label: t('bargauge.name-placement-options.label-auto', 'Auto') },\n            { value: BarGaugeNamePlacement.Top, label: t('bargauge.name-placement-options.label-top', 'Top') },\n            { value: BarGaugeNamePlacement.Left, label: t('bargauge.name-placement-options.label-left', 'Left') },\n            { value: BarGaugeNamePlacement.Hidden, label: t('bargauge.name-placement-options.label-hidden', 'Hidden') },\n          ],\n        },\n        defaultValue: defaultOptions.namePlacement,\n        showIf: (options) => options.orientation !== VizOrientation.Vertical,\n      })\n      .addRadio({\n        path: 'namePlacement',\n        name: t('bargauge.name-name-placement', 'Name placement'),\n        category,\n        settings: {\n          options: [\n            { value: BarGaugeNamePlacement.Auto, label: t('bargauge.name-placement-options.label-auto', 'Auto') },\n            { value: BarGaugeNamePlacement.Hidden, label: t('bargauge.name-placement-options.label-hidden', 'Hidden') },\n          ],\n        },\n        defaultValue: defaultOptions.namePlacement,\n        showIf: (options) => options.orientation === VizOrientation.Vertical,\n      })\n      .addBooleanSwitch({\n        path: 'showUnfilled',\n        name: t('bargauge.name-show-unfilled-area', 'Show unfilled area'),\n        category,\n        description: t('bargauge.description-show-unfilled-area', 'When enabled renders the unfilled region as gray'),\n        defaultValue: defaultOptions.showUnfilled,\n        showIf: (options) => options.displayMode !== 'lcd',\n      })\n      .addRadio({\n        path: 'sizing',\n        name: t('bargauge.name-bar-size', 'Bar size'),\n        category,\n        settings: {\n          options: [\n            { value: BarGaugeSizing.Auto, label: t('bargauge.bar-size-options.label-auto', 'Auto') },\n            { value: BarGaugeSizing.Manual, label: t('bargauge.bar-size-options.label-manual', 'Manual') },\n          ],\n        },\n        defaultValue: defaultOptions.sizing,\n      })\n      .addSliderInput({\n        path: 'minVizWidth',\n        name: t('bargauge.name-min-width', 'Min width'),\n        category,\n        description: t('bargauge.description-min-width', 'Minimum column width (vertical orientation)'),\n        defaultValue: defaultOptions.minVizWidth,\n        settings: {\n          min: 0,\n          max: 300,\n          step: 1,\n        },\n        showIf: (options) =>\n          options.sizing === BarGaugeSizing.Manual &&\n          (options.orientation === VizOrientation.Auto || options.orientation === VizOrientation.Vertical),\n      })\n      .addSliderInput({\n        path: 'minVizHeight',\n        name: t('bargauge.name-min-height', 'Min height'),\n        category,\n        description: t('bargauge.description-min-height', 'Minimum row height (horizontal orientation)'),\n        defaultValue: defaultOptions.minVizHeight,\n        settings: {\n          min: 0,\n          max: 300,\n          step: 1,\n        },\n        showIf: (options) =>\n          options.sizing === BarGaugeSizing.Manual &&\n          (options.orientation === VizOrientation.Auto || options.orientation === VizOrientation.Horizontal),\n      })\n      .addSliderInput({\n        path: 'maxVizHeight',\n        name: t('bargauge.name-max-height', 'Max height'),\n        category,\n        description: t('bargauge.description-max-height', 'Maximum row height (horizontal orientation)'),\n        defaultValue: defaultOptions.maxVizHeight,\n        settings: {\n          min: 0,\n          max: 300,\n          step: 1,\n        },\n        showIf: (options) =>\n          options.sizing === BarGaugeSizing.Manual &&\n          (options.orientation === VizOrientation.Auto || options.orientation === VizOrientation.Horizontal),\n      });\n  })\n  .setPanelChangeHandler(sharedSingleStatPanelChangedHandler)\n  .setMigrationHandler(barGaugePanelMigrationHandler)\n  .setSuggestionsSupplier(new BarGaugeSuggestionsSupplier());\n"],"names":["barGaugePanelMigrationHandler","panel","BarGaugeSuggestionsSupplier","builder","dataSummary","list","PanelPlugin","BarGaugePanel","category","options"],"sourceRoot":""}