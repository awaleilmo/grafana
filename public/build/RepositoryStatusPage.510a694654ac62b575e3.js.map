{"version":3,"file":"RepositoryStatusPage.510a694654ac62b575e3.js","mappings":"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","sources":["webpack://grafana/./public/app/features/explore/TraceView/components/Theme.tsx","webpack://grafana/./public/app/features/provisioning/File/FilesView.tsx","webpack://grafana/./public/app/features/provisioning/Repository/DeleteRepositoryButton.tsx","webpack://grafana/./public/app/features/provisioning/Repository/RepositoryActions.tsx","webpack://grafana/./public/app/features/provisioning/hooks/useRepositoryAllJobs.ts","webpack://grafana/./public/app/features/provisioning/Job/RecentJobs.tsx","webpack://grafana/./public/app/features/provisioning/Repository/CheckRepository.tsx","webpack://grafana/./public/app/features/provisioning/Repository/RepositoryHealth.tsx","webpack://grafana/./public/app/features/provisioning/Repository/RepositoryOverview.tsx","webpack://grafana/./public/app/features/provisioning/Repository/RepositoryResources.tsx","webpack://grafana/./public/app/features/provisioning/Repository/RepositoryStatusPage.tsx","webpack://grafana/./public/app/features/explore/TraceView/components/common/CopyIcon.tsx","webpack://grafana/./public/app/features/explore/TraceView/components/TraceTimelineViewer/SpanDetail/jsonMarkup.js","webpack://grafana/./public/app/features/explore/TraceView/components/TraceTimelineViewer/SpanDetail/KeyValuesTable.tsx","webpack://grafana/./public/app/features/provisioning/components/InlineSecureValueWarning.tsx","webpack://grafana/./public/app/features/provisioning/Repository/SyncRepository.tsx","webpack://grafana/./public/app/features/provisioning/Shared/StatusBadge.tsx","webpack://grafana/./public/app/features/provisioning/Job/JobSummary.tsx","webpack://grafana/./public/app/features/provisioning/File/utils.ts","webpack://grafana/./public/app/features/provisioning/utils/time.ts","webpack://grafana/./public/app/features/provisioning/Shared/ProvisioningAlert.tsx","webpack://grafana/./public/app/features/provisioning/Shared/MessageList.tsx"],"sourcesContent":["// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport tinycolor from 'tinycolor2';\n\nimport { GrafanaTheme2 } from '@grafana/data';\n\n/**\n * Tries to get a dark variant color. Either by simply inverting the luminosity and darkening or lightening the color\n * a bit, or if base is provided, tries 2 variants of lighter and darker colors and checks which is more readable with\n * the base.\n * @param theme\n * @param hex\n * @param base\n */\nexport function autoColor(theme: GrafanaTheme2, hex: string, base?: string) {\n  if (theme.isLight) {\n    return hex;\n  } else {\n    if (base) {\n      const color = tinycolor(hex);\n      return tinycolor\n        .mostReadable(\n          base,\n          [\n            color.clone().lighten(25),\n            color.clone().lighten(10),\n            color,\n            color.clone().darken(10),\n            color.clone().darken(25),\n          ],\n          {\n            includeFallbackColors: false,\n          }\n        )\n        .toHex8String();\n    }\n    const color = tinycolor(hex).toHsl();\n    color.l = 1 - color.l;\n    const newColor = tinycolor(color);\n    return newColor.isLight() ? newColor.darken(5).toHex8String() : newColor.lighten(5).toHex8String();\n  }\n}\n","import { useState } from 'react';\n\nimport { Trans, t } from '@grafana/i18n';\nimport { CellProps, Column, FilterInput, InteractiveTable, LinkButton, Spinner, Stack } from '@grafana/ui';\nimport { Repository, useGetRepositoryFilesQuery } from 'app/api/clients/provisioning/v0alpha1';\n\nimport { PROVISIONING_URL } from '../constants';\nimport { FileDetails } from '../types';\n\nimport { isFileHistorySupported } from './utils';\n\ninterface FilesViewProps {\n  repo: Repository;\n}\n\ntype FileCell<T extends keyof FileDetails = keyof FileDetails> = CellProps<FileDetails, FileDetails[T]>;\n\nexport function FilesView({ repo }: FilesViewProps) {\n  const name = repo.metadata?.name ?? '';\n  const query = useGetRepositoryFilesQuery({ name });\n  const [searchQuery, setSearchQuery] = useState('');\n  const data = [...(query.data?.items ?? [])].filter((file) =>\n    file.path.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n  const showHistoryBtn = isFileHistorySupported(repo.spec?.type);\n\n  const columns: Array<Column<FileDetails>> = [\n    {\n      id: 'path',\n      header: 'Path',\n      sortType: 'string',\n      cell: ({ row: { original } }: FileCell<'path'>) => {\n        const { path } = original;\n        return <a href={`${PROVISIONING_URL}/${name}/file/${path}`}>{path}</a>;\n      },\n    },\n    {\n      id: 'size',\n      header: 'Size (KB)',\n      cell: ({ row: { original } }: FileCell<'size'>) => {\n        const { size } = original;\n        return (parseInt(size, 10) / 1024).toFixed(2);\n      },\n      sortType: 'number',\n    },\n    {\n      id: 'hash',\n      header: 'Hash',\n      sortType: 'string',\n    },\n    {\n      id: 'actions',\n      header: '',\n      cell: ({ row: { original } }: FileCell<'path'>) => {\n        const { path } = original;\n        return (\n          <Stack>\n            {(path.endsWith('.json') || path.endsWith('.yaml') || path.endsWith('.yml')) && (\n              <LinkButton href={`${PROVISIONING_URL}/${name}/file/${path}`}>\n                <Trans i18nKey=\"provisioning.files-view.columns.view\">View</Trans>\n              </LinkButton>\n            )}\n            {showHistoryBtn && (\n              <LinkButton href={`${PROVISIONING_URL}/${name}/history/${path}?repo_type=${repo.spec?.type}`}>\n                <Trans i18nKey=\"provisioning.files-view.columns.history\">History</Trans>\n              </LinkButton>\n            )}\n          </Stack>\n        );\n      },\n    },\n  ];\n\n  if (query.isLoading) {\n    return (\n      <Stack justifyContent={'center'} alignItems={'center'}>\n        <Spinner />\n      </Stack>\n    );\n  }\n\n  return (\n    <Stack grow={1} direction={'column'} gap={2}>\n      <Stack gap={2}>\n        <FilterInput\n          placeholder={t('provisioning.files-view.placeholder-search', 'Search')}\n          autoFocus={true}\n          value={searchQuery}\n          onChange={setSearchQuery}\n        />\n      </Stack>\n      <InteractiveTable columns={columns} data={data} pageSize={25} getRowId={(f: FileDetails) => String(f.path)} />\n    </Stack>\n  );\n}\n","import { useCallback, useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom-v5-compat';\n\nimport { t, Trans } from '@grafana/i18n';\nimport { Button, ConfirmModal, Dropdown, Icon, Menu, Stack } from '@grafana/ui';\nimport {\n  Repository,\n  useDeleteRepositoryMutation,\n  useReplaceRepositoryMutation,\n} from 'app/api/clients/provisioning/v0alpha1';\n\ntype DeleteAction = 'remove-resources' | 'keep-resources';\n\ninterface Props {\n  name: string;\n  repository: Repository;\n  redirectTo?: string;\n}\n\nexport function DeleteRepositoryButton({ name, repository, redirectTo }: Props) {\n  const [deleteRepository, deleteRequest] = useDeleteRepositoryMutation();\n  const [replaceRepository, replaceRequest] = useReplaceRepositoryMutation();\n  const [showModal, setShowModal] = useState(false);\n  const [selectedAction, setSelectedAction] = useState<DeleteAction>('remove-resources');\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (deleteRequest.isSuccess) {\n      setShowModal(false);\n      if (redirectTo) {\n        navigate(redirectTo);\n      }\n    }\n  }, [deleteRequest.isSuccess, redirectTo, navigate]);\n\n  const onConfirm = useCallback(async () => {\n    if (selectedAction === 'keep-resources' && repository) {\n      const updatedRepository = {\n        ...repository,\n        metadata: {\n          ...repository.metadata,\n          finalizers: ['cleanup', 'release-orphan-resources'],\n        },\n      };\n      await replaceRepository({ name, repository: updatedRepository });\n    }\n    deleteRepository({ name });\n  }, [deleteRepository, replaceRepository, name, selectedAction, repository]);\n\n  const getConfirmationMessage = () => {\n    if (selectedAction === 'remove-resources') {\n      return t(\n        'provisioning.delete-repository-button.confirm-delete-with-resources',\n        'Are you sure you want to delete the repository configuration and all its resources?'\n      );\n    }\n    return t(\n      'provisioning.delete-repository-button.confirm-delete-keep-resources',\n      'Are you sure you want to delete the repository configuration but keep its resources?'\n    );\n  };\n\n  const getModalTitle = () => {\n    if (selectedAction === 'remove-resources') {\n      return t(\n        'provisioning.delete-repository-button.title-delete-repository-and-resources',\n        'Delete repository configuration and resources'\n      );\n    }\n    return t(\n      'provisioning.delete-repository-button.title-delete-repository-only',\n      'Delete repository configuration only'\n    );\n  };\n\n  const isLoading = deleteRequest.isLoading || replaceRequest.isLoading;\n\n  return (\n    <>\n      <Dropdown\n        overlay={\n          <Menu>\n            <Menu.Item\n              label={t(\n                'provisioning.delete-repository-button.delete-and-remove-resources',\n                'Delete and remove resources (default)'\n              )}\n              onClick={() => {\n                setSelectedAction('remove-resources');\n                setShowModal(true);\n              }}\n            />\n            <Menu.Item\n              label={t('provisioning.delete-repository-button.delete-and-keep-resources', 'Delete and keep resources')}\n              onClick={() => {\n                setSelectedAction('keep-resources');\n                setShowModal(true);\n              }}\n            />\n          </Menu>\n        }\n      >\n        <Button variant=\"destructive\" icon=\"trash-alt\" disabled={isLoading}>\n          <Stack alignItems=\"center\">\n            <Trans i18nKey=\"provisioning.delete-repository-button.delete\">Delete</Trans>\n            <Icon name={'angle-down'} />\n          </Stack>\n        </Button>\n      </Dropdown>\n      <ConfirmModal\n        isOpen={showModal}\n        title={getModalTitle()}\n        body={getConfirmationMessage()}\n        confirmText={t('provisioning.delete-repository-button.button-delete', 'Delete')}\n        onConfirm={onConfirm}\n        onDismiss={() => setShowModal(false)}\n      />\n    </>\n  );\n}\n","import { t, Trans } from '@grafana/i18n';\nimport { Badge, Button, LinkButton, Stack } from '@grafana/ui';\nimport { Repository } from 'app/api/clients/provisioning/v0alpha1';\n\nimport { StatusBadge } from '../Shared/StatusBadge';\nimport { PROVISIONING_URL } from '../constants';\nimport { getRepoHrefForProvider } from '../utils/git';\nimport { getIsReadOnlyWorkflows } from '../utils/repository';\nimport { getRepositoryTypeConfig } from '../utils/repositoryTypes';\n\nimport { DeleteRepositoryButton } from './DeleteRepositoryButton';\nimport { SyncRepository } from './SyncRepository';\n\ninterface RepositoryActionsProps {\n  repository: Repository;\n}\n\nexport function RepositoryActions({ repository }: RepositoryActionsProps) {\n  const name = repository.metadata?.name ?? '';\n  const repoHref = getRepoHrefForProvider(repository.spec);\n\n  const repoType = repository.spec?.type;\n  const repoConfig = repoType ? getRepositoryTypeConfig(repoType) : undefined;\n  const providerIcon = repoConfig?.icon || 'external-link-alt';\n  const isReadOnlyRepo = getIsReadOnlyWorkflows(repository.spec?.workflows);\n\n  return (\n    <Stack>\n      {isReadOnlyRepo && <Badge color=\"darkgrey\" text={t('folder-repo.read-only-badge', 'Read only')} />}\n      <StatusBadge repo={repository} />\n      {repoHref && (\n        <Button variant=\"secondary\" icon={providerIcon} onClick={() => window.open(repoHref, '_blank')}>\n          <Trans i18nKey=\"provisioning.repository-actions.source-code\">Source code</Trans>\n        </Button>\n      )}\n      <SyncRepository repository={repository} />\n      <LinkButton variant=\"secondary\" icon=\"cog\" href={`${PROVISIONING_URL}/${name}/edit`}>\n        <Trans i18nKey=\"provisioning.repository-actions.settings\">Settings</Trans>\n      </LinkButton>\n      <DeleteRepositoryButton name={name} repository={repository} redirectTo={PROVISIONING_URL} />\n    </Stack>\n  );\n}\n","import { useDebounce } from 'react-use';\n\nimport { Job, useGetRepositoryJobsQuery, useListJobQuery } from 'app/api/clients/provisioning/v0alpha1';\n\ninterface RepositoryHistoricalJobsArgs {\n  /** Limits the returned jobs to those which apply to this repository. */\n  repositoryName: string;\n}\n\nfunction labelSelectorActive(repositoryName?: string): string | undefined {\n  return repositoryName ? `provisioning.grafana.app/repository=${repositoryName}` : undefined;\n}\n\nexport function useRepositoryAllJobs({\n  repositoryName,\n}: RepositoryHistoricalJobsArgs): [\n  Job[] | undefined,\n  ReturnType<typeof useListJobQuery>,\n  ReturnType<typeof useGetRepositoryJobsQuery>,\n] {\n  const activeQuery = useListJobQuery({\n    labelSelector: labelSelectorActive(repositoryName),\n    watch: true,\n  });\n  const historicQuery = useGetRepositoryJobsQuery({ name: repositoryName! });\n  useDebounce(\n    () => {\n      historicQuery.refetch(); // fetch again when the watch value changes\n    },\n    250,\n    [activeQuery.data]\n  );\n\n  const concatedItems = [...(activeQuery.data?.items ?? []), ...(historicQuery.data?.items ?? [])];\n  const collator = new Intl.Collator(undefined, { numeric: true });\n  const sortedItems = concatedItems.slice().sort((a, b) => {\n    const aTime = a.metadata?.creationTimestamp ?? '';\n    const bTime = b.metadata?.creationTimestamp ?? '';\n\n    return collator.compare(bTime, aTime); // Reverse order for newest first\n  });\n\n  return [sortedItems, activeQuery, historicQuery];\n}\n","import { useMemo } from 'react';\n\nimport { intervalToAbbreviatedDurationString, TraceKeyValuePair } from '@grafana/data';\nimport { t, Trans } from '@grafana/i18n';\nimport { Alert, Badge, Box, Card, InteractiveTable, Spinner, Stack, Text } from '@grafana/ui';\nimport { Job, Repository, SyncStatus } from 'app/api/clients/provisioning/v0alpha1';\nimport KeyValuesTable from 'app/features/explore/TraceView/components/TraceTimelineViewer/SpanDetail/KeyValuesTable';\n\nimport { ProvisioningAlert } from '../Shared/ProvisioningAlert';\nimport { useRepositoryAllJobs } from '../hooks/useRepositoryAllJobs';\nimport { formatTimestamp } from '../utils/time';\n\nimport { JobSummary } from './JobSummary';\n\ninterface Props {\n  repo: Repository;\n}\n\ntype JobCell = {\n  row: {\n    original: Job;\n  };\n};\n\nconst getStatusColor = (state?: SyncStatus['state']) => {\n  switch (state) {\n    case 'success':\n      return 'green';\n    case 'working':\n      return 'blue';\n    case 'warning':\n      return 'orange';\n    case 'pending':\n      return 'darkgrey';\n    case 'error':\n      return 'red';\n    default:\n      return 'darkgrey';\n  }\n};\n\nconst getJobColumns = () => [\n  {\n    id: 'status',\n    header: t('provisioning.recent-jobs.column-status', 'Status'),\n    cell: ({ row: { original: job } }: JobCell) => (\n      <Badge\n        text={job.status?.state || ''}\n        color={getStatusColor(job.status?.state)}\n        icon={job.status?.state === 'working' ? 'spinner' : undefined}\n      />\n    ),\n  },\n  {\n    id: 'action',\n    header: t('provisioning.recent-jobs.column-action', 'Action'),\n    cell: ({ row: { original: job } }: JobCell) => job.spec?.action,\n  },\n  {\n    id: 'started',\n    header: t('provisioning.recent-jobs.column-started', 'Started'),\n    cell: ({ row: { original: job } }: JobCell) => formatTimestamp(job.status?.started),\n  },\n  {\n    id: 'duration',\n    header: t('provisioning.recent-jobs.column-duration', 'Duration'),\n    cell: ({ row: { original: job } }: JobCell) => {\n      const interval = {\n        start: job.status?.started ?? 0,\n        end: job.status?.finished ?? Date.now(),\n      };\n      if (!interval.start) {\n        return null;\n      }\n      const elapsed = interval.end - interval.start;\n      if (elapsed < 1000) {\n        return `${elapsed}ms`;\n      }\n      return intervalToAbbreviatedDurationString(interval, true);\n    },\n  },\n  {\n    id: 'message',\n    header: t('provisioning.recent-jobs.column-message', 'Message'),\n    cell: ({ row: { original: job } }: JobCell) => <span>{job.status?.message}</span>,\n  },\n];\n\ninterface ExpandedRowProps {\n  row: Job;\n}\n\nfunction ExpandedRow({ row }: ExpandedRowProps) {\n  const hasSummary = Boolean(row.status?.summary?.length);\n  const hasErrors = Boolean(row.status?.errors?.length);\n  const hasSpec = Boolean(row.spec);\n\n  // the action is already showing\n  const data = useMemo(() => {\n    const v: TraceKeyValuePair[] = [];\n    const action = row.spec?.action;\n    if (!action) {\n      return v;\n    }\n    const def = row.spec?.[action];\n    if (!def) {\n      return v;\n    }\n    for (const [key, value] of Object.entries(def)) {\n      v.push({ key, value });\n    }\n    return v;\n  }, [row.spec]);\n\n  if (!hasSummary && !hasErrors && !hasSpec) {\n    return null;\n  }\n\n  return (\n    <Box padding={2}>\n      <Stack direction=\"column\" gap={2}>\n        {hasSpec && (\n          <Stack direction=\"column\">\n            <Text variant=\"body\" color=\"secondary\">\n              <Trans i18nKey=\"provisioning.expanded-row.job-specification\">Job Specification</Trans>\n            </Text>\n            <KeyValuesTable data={data} />\n          </Stack>\n        )}\n        {hasErrors && <ProvisioningAlert error={{ message: row.status?.errors }} />}\n        {hasSummary && (\n          <Stack direction=\"column\" gap={2}>\n            <Text variant=\"body\" color=\"secondary\">\n              <Trans i18nKey=\"provisioning.expanded-row.summary\">Summary</Trans>\n            </Text>\n            <JobSummary summary={row.status!.summary!} />\n          </Stack>\n        )}\n      </Stack>\n    </Box>\n  );\n}\n\nfunction EmptyState() {\n  return (\n    <Stack direction={'column'} alignItems={'center'}>\n      <Text color=\"secondary\">\n        <Trans i18nKey=\"provisioning.empty-state.no-jobs\">No jobs...</Trans>\n      </Text>\n    </Stack>\n  );\n}\n\nfunction ErrorLoading(typ: string, error: string) {\n  return (\n    <Alert\n      title={t('provisioning.recent-jobs.error-loading', 'Error loading {{type}}', { type: typ })}\n      severity=\"error\"\n    >\n      <pre>{JSON.stringify(error)}</pre>\n    </Alert>\n  );\n}\n\nfunction Loading() {\n  return (\n    <Stack direction={'column'} alignItems={'center'}>\n      <Spinner />\n    </Stack>\n  );\n}\n\nexport function RecentJobs({ repo }: Props) {\n  // TODO: Decide on whether we want to wait on historic jobs to show the current ones.\n  //   Gut feeling is that current jobs are far more important to show than historic ones.\n  const [jobs, activeQuery, historicQuery] = useRepositoryAllJobs({\n    repositoryName: repo.metadata?.name ?? 'x',\n  });\n  const jobColumns = useMemo(() => getJobColumns(), []);\n\n  let description: JSX.Element;\n  if (activeQuery.isLoading || historicQuery.isLoading) {\n    description = Loading();\n  } else if (activeQuery.isError) {\n    description = ErrorLoading(t('provisioning.recent-jobs.active-jobs', 'active jobs'), activeQuery.error);\n    // TODO: Figure out what to do if historic fails. Maybe a separate card?\n  } else if (!jobs?.length) {\n    description = <EmptyState />;\n  } else {\n    description = (\n      <InteractiveTable\n        data={jobs}\n        columns={jobColumns}\n        getRowId={(item) => `${item.metadata?.uid}`}\n        renderExpandedRow={(row) => <ExpandedRow row={row} />}\n        pageSize={10}\n      />\n    );\n  }\n\n  return (\n    <Card noMargin>\n      <Card.Heading>\n        <Trans i18nKey=\"provisioning.recent-jobs.jobs\">Jobs</Trans>\n      </Card.Heading>\n      <Card.Description>{description}</Card.Description>\n    </Card>\n  );\n}\n","import { Trans } from '@grafana/i18n';\nimport { Button, Spinner } from '@grafana/ui';\nimport { Repository, useCreateRepositoryTestMutation } from 'app/api/clients/provisioning/v0alpha1';\n\ninterface Props {\n  repository: Repository;\n}\n\nexport function CheckRepository({ repository }: Props) {\n  const [testRepo, testQuery] = useCreateRepositoryTestMutation();\n  const name = repository.metadata?.name;\n\n  const onClick = () => {\n    if (!name) {\n      return;\n    }\n    testRepo({ name, body: {} });\n  };\n\n  if (testQuery.isLoading) {\n    return <Spinner />;\n  }\n\n  return (\n    <>\n      <Button icon=\"check-circle\" variant={'secondary'} disabled={testQuery.isLoading || !name} onClick={onClick}>\n        <Trans i18nKey=\"provisioning.check-repository.check\">Check</Trans>\n      </Button>\n    </>\n  );\n}\n","import { Trans, t } from '@grafana/i18n';\nimport { Stack, Alert, Text } from '@grafana/ui';\nimport { HealthStatus } from 'app/api/clients/provisioning/v0alpha1';\n\ninterface Props {\n  health: HealthStatus;\n}\n\nexport function RepositoryHealth({ health }: Props) {\n  return (\n    <Stack gap={2} direction=\"column\" alignItems=\"flex-start\">\n      {health.healthy ? (\n        <Alert\n          title={t('provisioning.repository-health.title-repository-is-healthy', 'Repository is healthy')}\n          severity=\"success\"\n          style={{ width: '100%' }}\n        >\n          <Trans i18nKey=\"provisioning.repository-health.no-errors-found\">No errors found</Trans>\n        </Alert>\n      ) : (\n        <Alert\n          title={t('provisioning.repository-health.title-repository-is-unhealthy', 'Repository is unhealthy')}\n          severity=\"warning\"\n          style={{ width: '100%' }}\n        >\n          {health.message && health.message.length > 0 && (\n            <>\n              <Text>\n                <Trans i18nKey=\"provisioning.repository-health.details\">Details:</Trans>\n              </Text>\n              <ul>\n                {health.message.map((message) => (\n                  <li key={message}>{message}</li>\n                ))}\n              </ul>\n            </>\n          )}\n        </Alert>\n      )}\n    </Stack>\n  );\n}\n","import { css } from '@emotion/css';\nimport { useMemo } from 'react';\n\nimport { GrafanaEdition } from '@grafana/data/internal';\nimport { Trans, t } from '@grafana/i18n';\nimport { config } from '@grafana/runtime';\nimport { Box, Card, CellProps, Grid, InteractiveTable, LinkButton, Stack, Text, useStyles2 } from '@grafana/ui';\nimport { Repository, ResourceCount } from 'app/api/clients/provisioning/v0alpha1';\n\nimport { RecentJobs } from '../Job/RecentJobs';\nimport { MessageList } from '../Shared/MessageList';\nimport { formatTimestamp } from '../utils/time';\n\nimport { CheckRepository } from './CheckRepository';\nimport { RepositoryHealth } from './RepositoryHealth';\nimport { SyncRepository } from './SyncRepository';\n\ntype StatCell<T extends keyof ResourceCount = keyof ResourceCount> = CellProps<ResourceCount, ResourceCount[T]>;\n\nfunction getColumnCount(hasWebhook: boolean): 3 | 4 {\n  return hasWebhook ? 4 : 3;\n}\n\nexport function RepositoryOverview({ repo }: { repo: Repository }) {\n  const styles = useStyles2(getStyles);\n\n  const status = repo.status;\n  const webhookURL = getWebhookURL(repo);\n  const columns = getColumnCount(Boolean(repo.status?.webhook));\n\n  const resourceColumns = useMemo(\n    () => [\n      {\n        id: 'Resource',\n        header: 'Resource Type',\n        cell: ({ row: { original } }: StatCell<'resource'>) => {\n          return <span>{original.resource}</span>;\n        },\n        size: 'auto',\n      },\n      {\n        id: 'count',\n        header: 'Count',\n        cell: ({ row: { original } }: StatCell<'count'>) => {\n          return <span>{original.count}</span>;\n        },\n        size: 100,\n      },\n    ],\n    []\n  );\n  return (\n    <Box padding={2}>\n      <Stack direction=\"column\" gap={2}>\n        <Grid columns={columns} gap={2}>\n          <div className={styles.cardContainer}>\n            <Card noMargin className={styles.card}>\n              <Card.Heading>\n                <Trans i18nKey=\"provisioning.repository-overview.resources\">Resources</Trans>\n              </Card.Heading>\n              <Card.Description>\n                {repo.status?.stats ? (\n                  <InteractiveTable\n                    columns={resourceColumns}\n                    data={repo.status.stats}\n                    getRowId={(r: ResourceCount) => `${r.group}-${r.resource}`}\n                  />\n                ) : null}\n              </Card.Description>\n              <Card.Actions className={styles.actions}>\n                <LinkButton fill=\"outline\" size=\"md\" href={getFolderURL(repo)} icon=\"folder-open\">\n                  <Trans i18nKey=\"provisioning.repository-overview.view-folder\">View Folder</Trans>\n                </LinkButton>\n              </Card.Actions>\n            </Card>\n          </div>\n          {repo.status?.health && (\n            <div className={styles.cardContainer}>\n              <Card noMargin className={styles.card}>\n                <Card.Heading>\n                  <Trans i18nKey=\"provisioning.repository-overview.health\">Health</Trans>\n                </Card.Heading>\n                <Card.Description>\n                  <RepositoryHealth health={repo.status?.health} />\n                  <Grid columns={12} gap={1} alignItems=\"baseline\">\n                    <div className={styles.labelColumn}>\n                      <Text color=\"secondary\">\n                        <Trans i18nKey=\"provisioning.repository-overview.status\">Status:</Trans>\n                      </Text>\n                    </div>\n                    <div className={styles.valueColumn}>\n                      <Text variant=\"body\">\n                        {status?.health?.healthy\n                          ? t('provisioning.repository-overview.healthy', 'Healthy')\n                          : t('provisioning.repository-overview.unhealthy', 'Unhealthy')}\n                      </Text>\n                    </div>\n\n                    <div className={styles.labelColumn}>\n                      <Text color=\"secondary\">\n                        <Trans i18nKey=\"provisioning.repository-overview.checked\">Checked:</Trans>\n                      </Text>\n                    </div>\n                    <div className={styles.valueColumn}>\n                      <Text variant=\"body\">{formatTimestamp(status?.health?.checked)}</Text>\n                    </div>\n\n                    {!!status?.health?.message?.length && (\n                      <>\n                        <div className={styles.labelColumn}>\n                          <Text color=\"secondary\">\n                            <Trans i18nKey=\"provisioning.repository-overview.messages\">Messages:</Trans>\n                          </Text>\n                        </div>\n                        <div className={styles.valueColumn}>\n                          <Stack gap={1}>\n                            {status.health.message.map((msg, idx) => (\n                              <Text key={idx} variant=\"body\">\n                                {msg}\n                              </Text>\n                            ))}\n                          </Stack>\n                        </div>\n                      </>\n                    )}\n                  </Grid>\n                </Card.Description>\n                <Card.Actions className={styles.actions}>\n                  <CheckRepository repository={repo} />\n                </Card.Actions>\n              </Card>\n            </div>\n          )}\n          <div className={styles.cardContainer}>\n            <Card className={styles.card} noMargin>\n              <Card.Heading>\n                <Trans i18nKey=\"provisioning.repository-overview.pull-status\">Pull status</Trans>\n              </Card.Heading>\n              <Card.Description>\n                <Grid columns={12} gap={1} alignItems=\"baseline\">\n                  <div className={styles.labelColumn}>\n                    <Text color=\"secondary\">\n                      <Trans i18nKey=\"provisioning.repository-overview.status\">Status:</Trans>\n                    </Text>\n                  </div>\n                  <div className={styles.valueColumn}>\n                    <Text variant=\"body\">{status?.sync.state ?? 'N/A'}</Text>\n                  </div>\n\n                  <div className={styles.labelColumn}>\n                    <Text color=\"secondary\">\n                      <Trans i18nKey=\"provisioning.repository-overview.job-id\">Job ID:</Trans>\n                    </Text>\n                  </div>\n                  <div className={styles.valueColumn}>\n                    <Text variant=\"body\">{status?.sync.job ?? 'N/A'}</Text>\n                  </div>\n\n                  <div className={styles.labelColumn}>\n                    <Text color=\"secondary\">\n                      <Trans i18nKey=\"provisioning.repository-overview.last-ref\">Last Ref:</Trans>\n                    </Text>\n                  </div>\n                  <div className={styles.valueColumn}>\n                    <Text variant=\"body\">\n                      {status?.sync.lastRef\n                        ? status.sync.lastRef.substring(0, 7)\n                        : t('provisioning.repository-overview.not-available', 'N/A')}\n                    </Text>\n                  </div>\n\n                  <div className={styles.labelColumn}>\n                    <Text color=\"secondary\">\n                      <Trans i18nKey=\"provisioning.repository-overview.started\">Started:</Trans>\n                    </Text>\n                  </div>\n                  <div className={styles.valueColumn}>\n                    <Text variant=\"body\">{formatTimestamp(status?.sync.started)}</Text>\n                  </div>\n\n                  <div className={styles.labelColumn}>\n                    <Text color=\"secondary\">\n                      <Trans i18nKey=\"provisioning.repository-overview.finished\">Finished:</Trans>\n                    </Text>\n                  </div>\n                  <div className={styles.valueColumn}>\n                    <Text variant=\"body\">{formatTimestamp(status?.sync.finished)}</Text>\n                  </div>\n\n                  {!!status?.sync?.message?.length && (\n                    <>\n                      <div className={styles.labelColumn}>\n                        <Text color=\"secondary\">\n                          <Trans i18nKey=\"provisioning.repository-overview.messages\">Messages:</Trans>\n                        </Text>\n                      </div>\n                      <div className={styles.valueColumn}>\n                        <MessageList messages={status.sync.message} variant=\"body\" />\n                      </div>\n                    </>\n                  )}\n                </Grid>\n              </Card.Description>\n              <Card.Actions className={styles.actions}>\n                <SyncRepository repository={repo} />\n              </Card.Actions>\n            </Card>\n          </div>\n          {repo.status?.webhook && (\n            <div className={styles.cardContainer}>\n              <Card noMargin className={styles.card}>\n                <Card.Heading>\n                  <Trans i18nKey=\"provisioning.repository-overview.webhook\">Webhook</Trans>\n                </Card.Heading>\n                <Card.Description>\n                  <Grid columns={12} gap={1} alignItems=\"baseline\">\n                    <div className={styles.labelColumn}>\n                      <Text color=\"secondary\">\n                        <Trans i18nKey=\"provisioning.repository-overview.webhook-id\">ID:</Trans>\n                      </Text>\n                    </div>\n                    <div className={styles.valueColumn}>\n                      <Text variant=\"body\">{status?.webhook?.id ?? 'N/A'}</Text>\n                    </div>\n                    <div className={styles.labelColumn}>\n                      <Text color=\"secondary\">\n                        <Trans i18nKey=\"provisioning.repository-overview.webhook-events\">Events:</Trans>\n                      </Text>\n                    </div>\n                    <div className={styles.valueColumn}>\n                      <Text variant=\"body\">{status?.webhook?.subscribedEvents?.join(', ') ?? 'N/A'}</Text>\n                    </div>\n                    <div className={styles.labelColumn}>\n                      <Text color=\"secondary\">\n                        <Trans i18nKey=\"provisioning.repository-overview.webhook-last-event\">Last Event:</Trans>\n                      </Text>\n                    </div>\n                    <div className={styles.valueColumn}>\n                      <Text variant=\"body\">{formatTimestamp(status?.webhook?.lastEvent)}</Text>\n                    </div>\n                  </Grid>\n                </Card.Description>\n                {webhookURL && (\n                  <Card.Actions className={styles.actions}>\n                    <LinkButton fill=\"outline\" href={webhookURL} icon=\"external-link-alt\">\n                      <Trans i18nKey=\"provisioning.repository-overview.webhook-url\">View Webhook</Trans>\n                    </LinkButton>\n                  </Card.Actions>\n                )}\n              </Card>\n            </div>\n          )}\n        </Grid>\n\n        {/* job status is not ready for Cloud yet */}\n        {(config.buildInfo.edition === GrafanaEdition.OpenSource ||\n          config.buildInfo.edition === GrafanaEdition.Enterprise) && (\n          <div className={styles.cardContainer}>\n            <RecentJobs repo={repo} />\n          </div>\n        )}\n      </Stack>\n    </Box>\n  );\n}\n\nfunction getFolderURL(repo: Repository) {\n  if (repo.spec?.sync.target === 'folder') {\n    return `/dashboards/f/${repo.metadata?.name}`;\n  }\n  return '/dashboards';\n}\n\nconst getStyles = () => {\n  return {\n    cardContainer: css({\n      height: '100%',\n    }),\n    card: css({\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column',\n    }),\n    actions: css({\n      marginTop: 'auto',\n    }),\n    labelColumn: css({\n      gridColumn: 'span 3',\n    }),\n    valueColumn: css({\n      gridColumn: 'span 9',\n    }),\n  };\n};\n\nfunction getWebhookURL(repo: Repository) {\n  const { status, spec } = repo;\n  if (spec?.type === 'github' && status?.webhook?.url && spec.github?.url) {\n    return `${spec.github.url}/settings/hooks/${status.webhook?.id}`;\n  }\n  return undefined;\n}\n","import { useMemo, useState } from 'react';\n\nimport { Trans, t } from '@grafana/i18n';\nimport { CellProps, Column, FilterInput, InteractiveTable, Link, LinkButton, Spinner, Stack } from '@grafana/ui';\nimport { Repository, ResourceListItem, useGetRepositoryResourcesQuery } from 'app/api/clients/provisioning/v0alpha1';\n\nimport { isFileHistorySupported } from '../File/utils';\nimport { PROVISIONING_URL } from '../constants';\n\ninterface RepoProps {\n  repo: Repository;\n}\n\ntype ResourceCell<T extends keyof ResourceListItem = keyof ResourceListItem> = CellProps<\n  ResourceListItem,\n  ResourceListItem[T]\n>;\n\nexport function RepositoryResources({ repo }: RepoProps) {\n  const name = repo.metadata?.name ?? '';\n  const query = useGetRepositoryResourcesQuery({ name });\n  const [searchQuery, setSearchQuery] = useState('');\n  const data = (query.data?.items ?? []).filter((Resource) =>\n    Resource.path.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n\n  // hide history button when repo type is pure git as it won't be implemented.\n  const historySupported = isFileHistorySupported(repo.spec?.type);\n\n  const columns: Array<Column<ResourceListItem>> = useMemo(\n    () => [\n      {\n        id: 'title',\n        header: 'Title',\n        sortType: 'string',\n        cell: ({ row: { original } }: ResourceCell<'title'>) => {\n          const { resource, name, title } = original;\n          if (resource === 'dashboards') {\n            return <a href={`/d/${name}`}>{title}</a>;\n          }\n          if (resource === 'folders') {\n            return <a href={`/dashboards/f/${name}`}>{title}</a>;\n          }\n          return <span>{title}</span>;\n        },\n      },\n      {\n        id: 'resource',\n        header: 'Type',\n        sortType: 'string',\n        cell: ({ row: { original } }: ResourceCell<'resource'>) => {\n          return <span style={{ textTransform: 'capitalize' }}>{original.resource}</span>;\n        },\n      },\n      {\n        id: 'path',\n        header: 'Path',\n        sortType: 'string',\n        cell: ({ row: { original } }: ResourceCell<'path'>) => {\n          const { resource, name, path } = original;\n          if (resource === 'dashboards') {\n            return <a href={`/d/${name}`}>{path}</a>;\n          }\n          return <span>{path}</span>;\n        },\n      },\n      {\n        id: 'hash',\n        header: 'Hash',\n        sortType: 'string',\n        cell: ({ row: { original } }: ResourceCell<'hash'>) => {\n          const { hash } = original;\n          return <span title={hash}>{hash.substring(0, 7)}</span>;\n        },\n      },\n      {\n        id: 'folder',\n        header: 'Folder',\n        sortType: 'string',\n        cell: ({ row: { original } }: ResourceCell<'title'>) => {\n          const { folder } = original;\n          if (folder?.length) {\n            return <Link href={`/dashboards/f/${folder}`}>{folder}</Link>;\n          }\n          return <span></span>;\n        },\n      },\n      {\n        id: 'actions',\n        header: '',\n        cell: ({ row: { original } }: ResourceCell) => {\n          const { resource, name, path } = original;\n          return (\n            <Stack>\n              {resource === 'dashboards' && (\n                <LinkButton href={`/d/${name}`}>\n                  <Trans i18nKey=\"provisioning.repository-resources.columns.view-dashboard\">View</Trans>\n                </LinkButton>\n              )}\n              {resource === 'folders' && (\n                <LinkButton href={`/dashboards/f/${name}`}>\n                  <Trans i18nKey=\"provisioning.repository-resources.columns.view-folder\">View</Trans>\n                </LinkButton>\n              )}\n              {historySupported && (\n                <LinkButton\n                  href={`${PROVISIONING_URL}/${repo.metadata?.name}/history/${path}?repo_type=${repo.spec?.type}`}\n                >\n                  <Trans i18nKey=\"provisioning.repository-resources.columns.history\">History</Trans>\n                </LinkButton>\n              )}\n            </Stack>\n          );\n        },\n      },\n    ],\n    [repo.metadata?.name, historySupported, repo.spec?.type]\n  );\n\n  if (query.isLoading) {\n    return (\n      <Stack justifyContent={'center'} alignItems={'center'}>\n        <Spinner />\n      </Stack>\n    );\n  }\n\n  return (\n    <Stack grow={1} direction={'column'} gap={2}>\n      <Stack gap={2}>\n        <FilterInput\n          placeholder={t('provisioning.repository-resources.placeholder-search', 'Search')}\n          autoFocus={true}\n          value={searchQuery}\n          onChange={setSearchQuery}\n        />\n      </Stack>\n      <InteractiveTable\n        columns={columns}\n        data={data}\n        pageSize={25}\n        getRowId={(r: ResourceListItem) => String(r.path)}\n      />\n    </Stack>\n  );\n}\n","import { useMemo } from 'react';\nimport { useLocation } from 'react-router';\nimport { useParams } from 'react-router-dom-v5-compat';\n\nimport { SelectableValue, urlUtil } from '@grafana/data';\nimport { Trans, t } from '@grafana/i18n';\nimport { Alert, EmptyState, Spinner, Tab, TabContent, TabsBar, Text, TextLink } from '@grafana/ui';\nimport { useGetFrontendSettingsQuery, useListRepositoryQuery } from 'app/api/clients/provisioning/v0alpha1';\nimport { Page } from 'app/core/components/Page/Page';\nimport { useQueryParams } from 'app/core/hooks/useQueryParams';\nimport { isNotFoundError } from 'app/features/alerting/unified/api/util';\n\nimport { FilesView } from '../File/FilesView';\nimport { InlineSecureValueWarning } from '../components/InlineSecureValueWarning';\nimport { PROVISIONING_URL } from '../constants';\n\nimport { RepositoryActions } from './RepositoryActions';\nimport { RepositoryOverview } from './RepositoryOverview';\nimport { RepositoryResources } from './RepositoryResources';\n\nenum TabSelection {\n  Overview = 'overview',\n  Resources = 'resources',\n  Files = 'files',\n}\n\nexport default function RepositoryStatusPage() {\n  const { name = '' } = useParams();\n\n  const query = useListRepositoryQuery({\n    fieldSelector: `metadata.name=${name}`,\n    watch: true,\n  });\n  const data = query.data?.items?.[0];\n  const location = useLocation();\n  const [queryParams] = useQueryParams();\n  const settings = useGetFrontendSettingsQuery();\n\n  const tab = queryParams['tab'] ?? TabSelection.Overview;\n\n  const notFound = query.isError && isNotFoundError(query.error);\n\n  const tabInfo = useMemo<SelectableValue<TabSelection>>(\n    () => [\n      {\n        value: TabSelection.Overview,\n        label: t('provisioning.repository-status-page.tab-overview', 'Overview'),\n        title: t('provisioning.repository-status-page.tab-overview-title', 'Repository overview'),\n      },\n      {\n        value: TabSelection.Resources,\n        label: t('provisioning.repository-status-page.tab-resources', 'Resources'),\n        title: t('provisioning.repository-status-page.tab-resources-title', 'Resources saved in grafana database'),\n      },\n      {\n        value: TabSelection.Files,\n        label: t('provisioning.repository-status-page.tab-files', 'Files'),\n        title: t('provisioning.repository-status-page.tab-files-title', 'The raw file list from the repository'),\n      },\n    ],\n    []\n  );\n\n  return (\n    <Page\n      navId=\"provisioning\"\n      pageNav={{\n        text: data?.spec?.title ?? t('provisioning.repository-status-page.title', 'Repository Status'),\n        subTitle: data?.spec?.description,\n      }}\n      actions={data && <RepositoryActions repository={data} />}\n    >\n      <Page.Contents isLoading={query.isLoading}>\n        {settings.data?.legacyStorage && (\n          <Alert\n            title={t('provisioning.repository-status-page.title-legacy-storage', 'Legacy Storage')}\n            severity=\"error\"\n          >\n            <Trans i18nKey=\"provisioning.repository-status-page.legacy-storage-message\">\n              Instance is not yet running unified storage -- requires migration wizard\n            </Trans>\n          </Alert>\n        )}\n        <InlineSecureValueWarning repo={data} />\n        {notFound ? (\n          <EmptyState\n            message={t('provisioning.repository-status-page.not-found-message', 'Repository not found')}\n            variant=\"not-found\"\n          >\n            <Text element={'p'}>\n              <Trans i18nKey=\"provisioning.repository-status-page.repository-config-exists-configuration\">\n                Make sure the repository config exists in the configuration file.\n              </Trans>\n            </Text>\n            <TextLink href={PROVISIONING_URL}>\n              <Trans i18nKey=\"provisioning.repository-status-page.back-to-repositories\">Back to repositories</Trans>\n            </TextLink>\n          </EmptyState>\n        ) : (\n          <>\n            {data ? (\n              <>\n                <TabsBar>\n                  {tabInfo.map((t: SelectableValue) => (\n                    <Tab\n                      href={urlUtil.renderUrl(location.pathname, { ...queryParams, tab: t.value })}\n                      key={t.value}\n                      label={t.label!}\n                      active={tab === t.value}\n                      title={t.title}\n                    />\n                  ))}\n                </TabsBar>\n                <TabContent>\n                  {data?.metadata?.deletionTimestamp && (\n                    <Alert\n                      title={t('provisioning.repository-status-page.title-queued-for-deletion', 'Queued for deletion')}\n                      severity=\"warning\"\n                    >\n                      <Spinner />{' '}\n                      <Trans i18nKey=\"provisioning.repository-status-page.cleaning-up-resources\">\n                        Cleaning up repository resources\n                      </Trans>\n                    </Alert>\n                  )}\n                  {tab === TabSelection.Overview && <RepositoryOverview repo={data} />}\n                  {tab === TabSelection.Resources && <RepositoryResources repo={data} />}\n                  {tab === TabSelection.Files && <FilesView repo={data} />}\n                </TabContent>\n              </>\n            ) : (\n              <div>\n                <Trans i18nKey=\"provisioning.repository-status-page.not-found\">not found</Trans>\n              </div>\n            )}\n          </>\n        )}\n      </Page.Contents>\n    </Page>\n  );\n}\n","// Copyright (c) 2019 Uber Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { css } from '@emotion/css';\nimport cx from 'classnames';\nimport { useState } from 'react';\n\nimport { t } from '@grafana/i18n';\nimport { Button, IconName, Tooltip, useStyles2 } from '@grafana/ui';\n\nconst getStyles = () => ({\n  CopyIcon: css({\n    backgroundColor: 'transparent',\n    border: 'none',\n    color: 'inherit',\n    overflow: 'hidden',\n    '&:focus': {\n      backgroundColor: 'rgba(255, 255, 255, 0.25)',\n      color: 'inherit',\n    },\n  }),\n});\n\ntype PropsType = {\n  className?: string;\n  copyText: string;\n  icon?: IconName;\n  tooltipTitle: string;\n};\n\nexport default function CopyIcon({ copyText, icon = 'copy', tooltipTitle }: PropsType) {\n  const styles = useStyles2(getStyles);\n\n  const [hasCopied, setHasCopied] = useState(false);\n\n  const handleClick = () => {\n    navigator.clipboard.writeText(copyText);\n    setHasCopied(true);\n  };\n\n  return (\n    <Tooltip content={hasCopied ? t('explore.trace-view.tooltip-copy-icon', 'Copied') : tooltipTitle}>\n      <Button\n        aria-label={t('explore.trace-view.aria-label-copy', 'Copy to clipboard')}\n        className={cx(styles.CopyIcon)}\n        type=\"button\"\n        icon={icon}\n        onClick={handleClick}\n      />\n    </Tooltip>\n  );\n}\n","// The MIT License (MIT)\n//\n// Copyright (c) 2014 Mathias Buus\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nconst INDENT = '    ';\n\nfunction inlineRule(objRule) {\n  let str = '';\n  objRule &&\n    Object.keys(objRule).forEach(function (rule) {\n      str += rule + ':' + objRule[rule] + ';';\n    });\n  return str;\n}\n\nfunction Stylize(styleFile) {\n  function styleClass(cssClass) {\n    return 'class=\"' + cssClass + '\"';\n  }\n\n  function styleInline(cssClass) {\n    return 'style=\"' + inlineRule(styleFile['.' + cssClass]) + '\"';\n  }\n\n  if (!styleFile) {\n    return styleClass;\n  }\n  return styleInline;\n}\n\nfunction type(doc) {\n  if (doc === null) {\n    return 'null';\n  }\n  if (Array.isArray(doc)) {\n    return 'array';\n  }\n  if (typeof doc === 'string' && /^https?:/.test(doc)) {\n    return 'link';\n  }\n  if (typeof doc === 'object' && typeof doc.toISOString === 'function') {\n    return 'date';\n  }\n\n  return typeof doc;\n}\n\nfunction escape(str) {\n  return str.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\n}\n\nexport default function jsonMarkup(doc, styleFile) {\n  let indent = '';\n  const style = Stylize(styleFile);\n\n  let forEach = function (list, start, end, fn) {\n    if (!list.length) {\n      return start + ' ' + end;\n    }\n\n    let out = start + '\\n';\n\n    indent += INDENT;\n    list.forEach(function (key, i) {\n      out += indent + fn(key) + (i < list.length - 1 ? ',' : '') + '\\n';\n    });\n    indent = indent.slice(0, -INDENT.length);\n\n    return out + indent + end;\n  };\n\n  function visit(obj) {\n    if (obj === undefined) {\n      return '';\n    }\n\n    switch (type(obj)) {\n      case 'boolean':\n        return '<span ' + style('json-markup-bool') + '>' + obj + '</span>';\n\n      case 'number':\n        return '<span ' + style('json-markup-number') + '>' + obj + '</span>';\n\n      case 'date':\n        return '<span class=\"json-markup-string\">\"' + escape(obj.toISOString()) + '\"</span>';\n\n      case 'null':\n        return '<span ' + style('json-markup-null') + '>null</span>';\n\n      case 'string':\n        return '<span ' + style('json-markup-string') + '>\"' + escape(obj.replace(/\\n/g, '\\n' + indent)) + '\"</span>';\n\n      case 'link':\n        return (\n          '<span ' + style('json-markup-string') + '>\"<a href=\"' + encodeURI(obj) + '\">' + escape(obj) + '</a>\"</span>'\n        );\n\n      case 'array':\n        return forEach(obj, '[', ']', visit);\n\n      case 'object':\n        const keys = Object.keys(obj).filter(function (key) {\n          return obj[key] !== undefined;\n        });\n\n        return forEach(keys, '{', '}', function (key) {\n          return '<span ' + style('json-markup-key') + '>\"' + escape(key) + '\":</span> ' + visit(obj[key]);\n        });\n    }\n\n    return '';\n  }\n\n  return '<div ' + style('json-markup') + '>' + visit(doc) + '</div>';\n}\n","// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { css } from '@emotion/css';\nimport cx from 'classnames';\nimport { PropsWithChildren } from 'react';\n\nimport { GrafanaTheme2, PluginExtensionLink, TraceKeyValuePair } from '@grafana/data';\nimport { Icon, useStyles2 } from '@grafana/ui';\n\nimport { autoColor } from '../../Theme';\nimport CopyIcon from '../../common/CopyIcon';\nimport TNil from '../../types/TNil';\n\nimport jsonMarkup from './jsonMarkup';\n\nconst copyIconClassName = 'copyIcon';\n\nexport const getStyles = (theme: GrafanaTheme2) => {\n  return {\n    KeyValueTable: css({\n      label: 'KeyValueTable',\n      background: autoColor(theme, '#fff'),\n      border: `1px solid ${autoColor(theme, '#ddd')}`,\n      marginBottom: '0.5rem',\n      maxHeight: '450px',\n      overflow: 'auto',\n    }),\n    table: css({\n      width: '100%',\n    }),\n    body: css({\n      label: 'body',\n      verticalAlign: 'baseline',\n    }),\n    row: css({\n      label: 'row',\n      '& > td': {\n        padding: '0 0.5rem',\n        height: '30px',\n      },\n      '&:nth-child(2n) > td': {\n        background: autoColor(theme, '#f5f5f5'),\n      },\n      [`&:not(:hover) .${copyIconClassName}`]: {\n        visibility: 'hidden',\n      },\n      'a span': {\n        color: `${theme.colors.text.link} !important`,\n      },\n      'a:hover span': {\n        textDecoration: 'underline',\n      },\n    }),\n    keyColumn: css({\n      label: 'keyColumn',\n      color: autoColor(theme, '#888'),\n      whiteSpace: 'pre',\n      width: '125px',\n    }),\n    copyColumn: css({\n      label: 'copyColumn',\n      textAlign: 'right',\n    }),\n    linkIcon: css({\n      label: 'linkIcon',\n      verticalAlign: 'middle',\n      fontWeight: 'bold',\n    }),\n    jsonTable: css({\n      display: 'inline-block',\n    }),\n  };\n};\n\nconst jsonObjectOrArrayStartRegex = /^(\\[|\\{)/;\n\nfunction parseIfComplexJson(value: unknown) {\n  // if the value is a string representing actual json object or array, then use json-markup\n  if (typeof value === 'string' && jsonObjectOrArrayStartRegex.test(value)) {\n    // otherwise just return as is\n    try {\n      return JSON.parse(value);\n      // eslint-disable-next-line no-empty\n    } catch (_) {}\n  }\n  return value;\n}\n\nexport type KeyValuesTableLink = Pick<PluginExtensionLink, 'path' | 'title' | 'onClick' | 'icon'>;\n\ninterface LinkValueProps {\n  link: KeyValuesTableLink;\n}\n\nexport const LinkValue = ({ link, children }: PropsWithChildren<LinkValueProps>) => {\n  const { path, title = '', onClick, icon = 'external-link-alt' } = link;\n\n  return (\n    <a href={path} title={title} onClick={onClick} target=\"_blank\" rel=\"noopener noreferrer\">\n      {children} <Icon name={icon} />\n    </a>\n  );\n};\n\nexport type KeyValuesTableProps = {\n  data: TraceKeyValuePair[];\n  linksGetter?: ((pairs: TraceKeyValuePair[], index: number) => KeyValuesTableLink[]) | TNil;\n  onlyValues?: boolean;\n};\n\nexport default function KeyValuesTable(props: KeyValuesTableProps) {\n  const { data, linksGetter, onlyValues } = props;\n  const styles = useStyles2(getStyles);\n  return (\n    <div className={cx(styles.KeyValueTable)} data-testid=\"KeyValueTable\">\n      <table className={styles.table}>\n        <tbody className={styles.body}>\n          {data.map((row, i) => {\n            let markup = { __html: '' };\n            if (row.type === 'code') {\n              markup = {\n                __html: `<pre style=\"border: none; background: none\">${row.value}</pre>`,\n              };\n            } else if (row.type === 'text') {\n              markup = {\n                __html: `<span style=\"white-space: pre-wrap;\">${row.value}</span>`,\n              };\n            } else {\n              markup = {\n                __html: jsonMarkup(parseIfComplexJson(row.value)),\n              };\n            }\n\n            const jsonTable = <div className={styles.jsonTable} dangerouslySetInnerHTML={markup} />;\n            const links = linksGetter?.(data, i);\n            let valueMarkup;\n            if (links && links.length) {\n              // TODO: handle multiple items\n              valueMarkup = (\n                <div>\n                  <LinkValue link={links[0]}>{jsonTable}</LinkValue>\n                </div>\n              );\n            } else {\n              valueMarkup = jsonTable;\n            }\n            return (\n              // `i` is necessary in the key because row.key can repeat\n              <tr className={styles.row} key={`${row.key}-${i}`}>\n                {!onlyValues && (\n                  <td className={styles.keyColumn} data-testid=\"KeyValueTable--keyColumn\">\n                    {row.key}\n                  </td>\n                )}\n                <td>{valueMarkup}</td>\n                <td className={styles.copyColumn}>\n                  <CopyIcon\n                    className={copyIconClassName}\n                    copyText={row.type === 'code' || row.type === 'text' ? row.value : JSON.stringify(row, null, 2)}\n                    tooltipTitle=\"Copy\"\n                  />\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n","import { t } from '@grafana/i18n';\nimport { Alert } from '@grafana/ui';\nimport { Repository } from 'app/api/clients/provisioning/v0alpha1';\n\ninterface Props {\n  repo?: Repository;\n  items?: Repository[];\n}\n\n// TODO: remove this after 12.2\nexport function InlineSecureValueWarning({ repo, items }: Props) {\n  const isRepoValid = (r?: Repository) => r?.spec?.type === 'local' || !!r?.secure?.token?.name;\n\n  if (isRepoValid(repo)) {\n    return null;\n  }\n\n  // When a list is passed in, show an error if anything is missing\n  if (items?.every(isRepoValid)) {\n    return null;\n  }\n\n  return (\n    <Alert\n      title={t(\n        'provisioning.inline-secure-values-warning',\n        'You need to save your access tokens again due to a system update'\n      )}\n      severity=\"error\"\n    />\n  );\n}\n","import { useState } from 'react';\nimport { useNavigate } from 'react-router-dom-v5-compat';\n\nimport { Trans, t } from '@grafana/i18n';\nimport { Button, ConfirmModal } from '@grafana/ui';\nimport { Repository, useCreateRepositoryJobsMutation } from 'app/api/clients/provisioning/v0alpha1';\n\nimport { PROVISIONING_URL } from '../constants';\n\ninterface Props {\n  repository: Repository;\n}\n\nexport function SyncRepository({ repository }: Props) {\n  const [createJob, jobQuery] = useCreateRepositoryJobsMutation();\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const navigate = useNavigate();\n\n  const name = repository.metadata?.name;\n\n  const onClick = () => {\n    if (!name) {\n      return;\n    }\n    createJob({\n      name,\n      jobSpec: {\n        pull: {\n          incremental: false, // will queue a full resync job\n        },\n      },\n    });\n    setIsModalOpen(false);\n  };\n\n  const isHealthy = Boolean(repository.status?.health.healthy);\n\n  return (\n    <>\n      <Button\n        icon=\"cloud-download\"\n        variant={'secondary'}\n        tooltip={\n          isHealthy\n            ? undefined\n            : t('provisioning.sync-repository.tooltip-unhealthy-repository', 'Unable to pull an unhealthy repository')\n        }\n        disabled={jobQuery.isLoading || !name || !isHealthy}\n        onClick={onClick}\n      >\n        <Trans i18nKey=\"provisioning.sync-repository.pull\">Pull</Trans>\n      </Button>\n      {!repository.spec?.sync.enabled && (\n        <ConfirmModal\n          isOpen={isModalOpen}\n          title={t('provisioning.sync-repository.title-pull-not-enabled', 'Pull is not enabled')}\n          body={t('provisioning.sync-repository.body-edit-configuration', 'Edit the configuration')}\n          confirmText={t('provisioning.sync-repository.button-edit', 'Edit')}\n          onConfirm={() => navigate(`${PROVISIONING_URL}/${name}/edit`)}\n          onDismiss={() => setIsModalOpen(false)}\n        />\n      )}\n    </>\n  );\n}\n","import { t } from '@grafana/i18n';\nimport { locationService } from '@grafana/runtime';\nimport { Badge, BadgeColor, IconName } from '@grafana/ui';\nimport { Repository } from 'app/api/clients/provisioning/v0alpha1';\n\nimport { PROVISIONING_URL } from '../constants';\n\ninterface StatusBadgeProps {\n  repo?: Repository;\n}\n\nexport function StatusBadge({ repo }: StatusBadgeProps) {\n  if (!repo) {\n    return null;\n  }\n\n  // TODO: remove after 12.2\n  if (repo.spec?.type !== 'local' && !repo.secure?.token?.name) {\n    return (\n      <Badge\n        color={'red'}\n        icon={'exclamation-triangle'}\n        style={{ cursor: 'pointer' }}\n        text={t('provisioning.inline-token-warning-badge-text', 'Token needs to be saved again')}\n        tooltip={t(\n          'inline-token-warning-badge-tooltip',\n          'The method to save the token is to re-enter it in the repository settings.'\n        )}\n        onClick={() => {\n          // navigate to edit page, rather than view page\n          locationService.push(`${PROVISIONING_URL}/${repo.metadata?.name}/edit`);\n        }}\n      />\n    );\n  }\n\n  let tooltip: string | undefined = undefined;\n  let color: BadgeColor = 'purple';\n  let text = 'Unknown';\n  let icon: IconName = 'exclamation-triangle';\n\n  if (repo.metadata?.deletionTimestamp) {\n    color = 'red';\n    text = 'Deleting';\n    icon = 'spinner';\n  } else if (!repo.spec?.sync?.enabled) {\n    color = 'red';\n    text = 'Automatic pulling disabled';\n    icon = 'info-circle';\n  } else if (!repo.status?.sync?.state?.length) {\n    color = 'darkgrey';\n    text = 'Pending';\n    icon = 'spinner';\n    tooltip = 'Waiting for health check to run';\n  } else {\n    // Sync state\n    switch (repo.status?.sync?.state) {\n      case 'success':\n        icon = 'check';\n        text = 'Up-to-date';\n        color = 'green';\n        break;\n      case 'working':\n      case 'warning':\n        color = 'orange';\n        text = 'warning';\n        icon = 'exclamation-triangle';\n        break;\n      case 'pending':\n        color = 'darkgrey';\n        text = 'Pulling';\n        icon = 'spinner';\n        break;\n      case 'error':\n        color = 'red';\n        text = 'Error';\n        icon = 'exclamation-triangle';\n        break;\n      default:\n        break;\n    }\n  }\n\n  return (\n    <Badge\n      color={color}\n      icon={icon}\n      text={text}\n      style={{ cursor: 'pointer' }}\n      tooltip={tooltip}\n      onClick={() => {\n        locationService.push(`${PROVISIONING_URL}/${repo.metadata?.name}/?tab=overview`);\n      }}\n    />\n  );\n}\n","import { InteractiveTable, Stack } from '@grafana/ui';\nimport { JobResourceSummary } from 'app/api/clients/provisioning/v0alpha1';\n\ntype SummaryCell<T extends keyof JobResourceSummary = keyof JobResourceSummary> = {\n  row: {\n    original: JobResourceSummary;\n  };\n};\n\nconst getSummaryColumns = () => [\n  {\n    id: 'resource',\n    header: 'Resource',\n    cell: ({ row: { original: item } }: SummaryCell) => item.resource,\n  },\n  {\n    id: 'created',\n    header: 'Created',\n    cell: ({ row: { original: item } }: SummaryCell) => item.create?.toString() || '-',\n  },\n  {\n    id: 'deleted',\n    header: 'Deleted',\n    cell: ({ row: { original: item } }: SummaryCell) => item.delete?.toString() || '-',\n  },\n  {\n    id: 'updated',\n    header: 'Updated',\n    cell: ({ row: { original: item } }: SummaryCell) => item.update?.toString() || '-',\n  },\n  {\n    id: 'unchanged',\n    header: 'Unchanged',\n    cell: ({ row: { original: item } }: SummaryCell) => item.noop?.toString() || '-',\n  },\n  {\n    id: 'errors',\n    header: 'Errors',\n    cell: ({ row: { original: item } }: SummaryCell) => item.error?.toString() || '-',\n  },\n  {\n    id: 'total',\n    header: 'Total',\n    cell: ({ row: { original: item } }: SummaryCell) => {\n      const total = (item.create || 0) + (item.delete || 0) + (item.update || 0) + (item.noop || 0) + (item.error || 0);\n      return total.toString();\n    },\n  },\n];\n\ninterface Props {\n  summary: JobResourceSummary[];\n}\n\nexport function JobSummary({ summary }: Props) {\n  return (\n    <Stack direction=\"column\" gap={2}>\n      <InteractiveTable\n        data={summary}\n        columns={getSummaryColumns()}\n        getRowId={(item) => item.resource || ''}\n        pageSize={10}\n      />\n    </Stack>\n  );\n}\n","export function isFileHistorySupported(repoType?: string | null): boolean {\n  const supportedRepoTypes = new Set(['github', 'gitlab', 'bitbucket']);\n  return !!repoType && supportedRepoTypes.has(repoType);\n}\n","export function formatTimestamp(timestamp?: number) {\n  if (!timestamp) {\n    return 'N/A';\n  }\n  return new Date(timestamp).toLocaleString();\n}\n","import { t } from '@grafana/i18n';\nimport { Alert } from '@grafana/ui';\n\nimport { StatusInfo } from '../types';\n\nimport { MessageList } from './MessageList';\n\ninterface ProvisioningAlertProps {\n  error?: string | StatusInfo;\n  warning?: string | StatusInfo;\n  success?: string | StatusInfo;\n}\n\nconst getTitle = (alert: string | StatusInfo, type: 'error' | 'warning' | 'success' = 'error') => {\n  if (typeof alert === 'string') {\n    return alert;\n  }\n\n  if (type === 'warning') {\n    return alert.title || t('provisioning.warning-title-default', 'Warning');\n  } else if (type === 'success') {\n    return alert.title || t('provisioning.success-title-default', 'Success');\n  } else {\n    return alert.title || t('provisioning.error-title-default', 'Error');\n  }\n};\n\nconst getMessage = (alert: string | StatusInfo) => {\n  if (typeof alert === 'string' || !alert.message) {\n    return null;\n  }\n\n  if (Array.isArray(alert.message)) {\n    return <MessageList messages={alert.message} />;\n  }\n\n  return alert.message;\n};\n\nexport function ProvisioningAlert({ error, warning, success }: ProvisioningAlertProps) {\n  const alertData = error || warning || success;\n  const type = error ? 'error' : warning ? 'warning' : 'success';\n  const severity = type === 'success' ? 'success' : type;\n\n  if (!alertData) {\n    return null;\n  }\n\n  return (\n    <Alert severity={severity} title={getTitle(alertData, type)}>\n      {getMessage(alertData)}\n    </Alert>\n  );\n}\n","import { css } from '@emotion/css';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { Text, useStyles2 } from '@grafana/ui';\n\ninterface MessageListProps {\n  messages: string[];\n  variant?: 'body' | 'bodySmall';\n}\n\nexport function MessageList({ messages, variant }: MessageListProps) {\n  const styles = useStyles2(getStyles);\n\n  return (\n    <ul className={styles.messageList}>\n      {messages.map((msg, index) => (\n        <li key={index}>{variant ? <Text variant={variant}>{msg}</Text> : msg}</li>\n      ))}\n    </ul>\n  );\n}\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  messageList: css({\n    margin: 0,\n    paddingLeft: theme.spacing(3),\n  }),\n});\n"],"names":["autoColor","theme","hex","base","color","newColor","FilesView","repo","name","query","searchQuery","setSearchQuery","data","file","showHistoryBtn","columns","original","path","size","Stack","Spinner","FilterInput","InteractiveTable","f","DeleteRepositoryButton","repository","redirectTo","deleteRepository","deleteRequest","replaceRepository","replaceRequest","showModal","setShowModal","selectedAction","setSelectedAction","navigate","onConfirm","updatedRepository","getConfirmationMessage","getModalTitle","isLoading","Dropdown","Menu","Button","Icon","ConfirmModal","RepositoryActions","repoHref","repoType","providerIcon","isReadOnlyRepo","Badge","StatusBadge","SyncRepository","labelSelectorActive","repositoryName","useRepositoryAllJobs","activeQuery","historicQuery","useDebounce","concatedItems","collator","a","b","aTime","bTime","getStatusColor","state","getJobColumns","job","interval","elapsed","ExpandedRow","row","hasSummary","hasErrors","hasSpec","action","def","key","value","Box","Text","KeyValuesTable","ProvisioningAlert","JobSummary","ErrorLoading","typ","error","Alert","Loading","RecentJobs","jobs","jobColumns","description","item","Card","CheckRepository","testRepo","testQuery","onClick","RepositoryHealth","health","message","getColumnCount","hasWebhook","RepositoryOverview","styles","getStyles","status","webhookURL","getWebhookURL","resourceColumns","Grid","r","getFolderURL","msg","idx","MessageList","spec","RepositoryResources","Resource","historySupported","resource","title","hash","folder","Link","TabSelection","RepositoryStatusPage","location","queryParams","useQueryParams","settings","tab","notFound","tabInfo","Page","InlineSecureValueWarning","EmptyState","TextLink","TabsBar","t","Tab","url","TabContent","CopyIcon","copyText","icon","tooltipTitle","hasCopied","setHasCopied","handleClick","Tooltip","INDENT","inlineRule","objRule","str","rule","Stylize","styleFile","styleClass","cssClass","styleInline","type","doc","jsonMarkup","indent","style","forEach","list","start","end","fn","out","i","visit","obj","keys","copyIconClassName","jsonObjectOrArrayStartRegex","parseIfComplexJson","LinkValue","link","children","props","linksGetter","onlyValues","markup","jsonTable","links","valueMarkup","items","isRepoValid","createJob","jobQuery","isModalOpen","setIsModalOpen","isHealthy","tooltip","text","getSummaryColumns","summary","isFileHistorySupported","formatTimestamp","timestamp","getTitle","alert","getMessage","warning","success","alertData","severity","messages","variant","index"],"sourceRoot":""}